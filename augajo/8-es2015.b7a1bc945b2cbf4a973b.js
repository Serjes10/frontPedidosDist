(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"1khV":function(t,e,i){"use strict";i.r(e),i.d(e,"PedidosModule",function(){return Ve});var o=i("8Y7J"),s=i("SVse"),n=i("y/n1"),r=i.n(n),a=i("iInd"),c=i("s7LF"),d=i("XmJO"),l=i("2Vo4"),h=i("EY2u"),b=i("vkgz"),p=i("JIr8"),m=i("etbh"),u=i("V1yj");let g=(()=>{class t{constructor(t,e){this.dataApi=t,this._mensajesHttp=e,this.Cargando$=new l.a(!1),this.responseCargando$=this.Cargando$.asObservable(),this.TipoPedidos$=new l.a([]),this.responseTipoPedidos$=this.TipoPedidos$.asObservable(),this.MetodosPago$=new l.a([]),this.responseMetodosPago$=this.MetodosPago$.asObservable()}MostrarTipoPedidos(t){return this.Cargando$.next(!0),this.TipoPedidos$.next([]),this.dataApi.GetDataApi("mantenimiento/tipoPedido/",t).pipe(Object(b.a)(t=>{this.Cargando$.next(!1),this.TipoPedidos$.next(t.data.Table0)}),Object(p.a)(t=>(this.Cargando$.next(!1),this.TipoPedidos$.next([]),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al mostrar los tipos de pedidos",""),h.a))).subscribe()}MostrarMetodosPago(t){return this.Cargando$.next(!0),this.MetodosPago$.next([]),this.dataApi.GetDataApi("mantenimiento/metodoPago/",t).pipe(Object(b.a)(t=>{this.Cargando$.next(!1),this.MetodosPago$.next(t.data.Table0)}),Object(p.a)(t=>(this.Cargando$.next(!1),this.MetodosPago$.next([]),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al mostrar los metodos de pago",""),h.a))).subscribe()}InsertarPedido(t,e){return this.Cargando$.next(!0),this.dataApi.PostDataApi("pedido/pedido/",t).pipe(Object(b.a)(t=>{e(t)}),Object(p.a)(t=>(this.Cargando$.next(!1),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al ingresar el pedido",""),h.a))).subscribe()}InsertarArchivoAdjunto(t,e){return this.Cargando$.next(!0),this.dataApi.PostDataApi("mantenimiento/adjunto/",t).pipe(Object(b.a)(t=>{e(t)}),Object(p.a)(t=>(this.Cargando$.next(!1),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al insertar el adjunto",""),h.a))).subscribe()}cargarArchivo(t,e){return this.Cargando$.next(!0),this.dataApi.PostDataApi("adjuntos/cargarArchivos/",t).pipe(Object(b.a)(t=>{e(t)}),Object(p.a)(t=>(this.Cargando$.next(!1),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al cargar el archivo",""),h.a))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(m.a),o.Xb(u.a))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=i("Wp6s"),_=i("kmnG"),v=i("d3UM"),S=i("1jcm"),P=i("qFsG"),T=i("ihCf"),x=i("FKr1"),w=i("bTqV"),E=i("NFeN");function C(t,e){if(1&t&&(o.Tb(0,"mat-option",29),o.Ec(1),o.Sb()),2&t){const t=e.$implicit;o.mc("value",t.Id),o.Bb(1),o.Fc(t.TipoPedido)}}function y(t,e){if(1&t&&(o.Tb(0,"mat-option",29),o.Ec(1),o.Sb()),2&t){const t=e.$implicit;o.mc("value",t.Id),o.Bb(1),o.Fc(t.MetodoPago)}}function O(t,e){if(1&t){const t=o.Ub();o.Tb(0,"div",10),o.Tb(1,"div",30),o.bc("click",function(){return o.tc(t),o.rc(5).click()}),o.Tb(2,"h3",31),o.Ec(3),o.Sb(),o.Tb(4,"input",32,33),o.bc("change",function(e){return o.tc(t),o.fc().onFileSelect(e)}),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=o.fc();o.Bb(3),o.Gc(" ",t.nombreArchivo||"Seleccionar archivo"," ")}}function D(t,e){1&t&&o.Ob(0,"img",34)}function R(t,e){if(1&t&&o.Ob(0,"img",35),2&t){const t=o.fc();o.mc("src",t.cardImageBase64,o.vc)}}function I(t,e){if(1&t){const t=o.Ub();o.Tb(0,"button",36),o.bc("click",function(){return o.tc(t),o.fc().enviarPedido()}),o.Tb(1,"mat-icon"),o.Ec(2,"send"),o.Sb(),o.Ec(3," Enviar Pedido "),o.Sb()}}const M=function(){return["/dashboard"]};let k=(()=>{class t{constructor(t,e,i){this.toast=t,this.generarPedidoFacade=e,this.router=i,this.pagoRealizado=new c.c(!1),this.fileForm=new c.c("",[c.q.required]),this.url="",this.selectFile=null,this.generarPedidoFacade.MostrarTipoPedidos("0"),this.generarPedidoFacade.MostrarMetodosPago("0"),this.pedidosForm=new c.f({IdPedido:new c.c("0"),IdTipoPedido:new c.c("",[c.q.required]),IdMetodoPago:new c.c("",[c.q.required]),IdReparto:new c.c(null),IdUsuario:new c.c(null),DetallePedido:new c.c("",[c.q.required]),Observacion:new c.c(""),ObservacionCliente:new c.c(""),usuario:new c.c(""),idEstado:new c.c(1)})}ngOnInit(){}enviarPedido(){if(this.pedidosForm.invalid)return this.pedidosForm.markAllAsTouched(),void this.toast.mensajeWarning("","Debe de ingresar los campos marcados como requeridos");this.formData=new FormData,this.generarPedidoFacade.InsertarPedido(this.pedidosForm.value,t=>{if(!1===t.hasError)if(1==this.pagoRealizado.value){if(this.pedidosForm.invalid)return void this.toast.mensajeWarning("","Es requerido cargar el voucher de pago");this.formData.append("archivo",this.fileForm.value),this.generarPedidoFacade.cargarArchivo(this.formData,e=>{!1===e.hasError&&(this.formAdjunto=new c.f({id:new c.c(0),idPedido:new c.c(t.data.Table0[0].IdPedido),nombreAdjunto:new c.c(this.nombreArchivo||""),url:new c.c(e.data.url),extension:new c.c(this.nombreArchivo.substring(this.nombreArchivo.indexOf("."),this.nombreArchivo.length)),idEstado:new c.c(null)}),this.generarPedidoFacade.InsertarArchivoAdjunto(this.formAdjunto.value,t=>{!1===t.hasError&&(this.toast.mensajeSuccess("","Su pedido fue generado con exito"),this.router.navigateByUrl("cliente/listadoPedido"))}))})}else this.toast.mensajeSuccess("","Su pedido fue generado con exito"),this.router.navigateByUrl("cliente/listadoPedido")})}onFileSelect(t){if(t.target.files.length>0&&this.fileForm.setValue(t.target.files[0]),this.imageError=null,t.target.files&&t.target.files[0]){this.nombreArchivo=t.target.files[0].name;const e=20971520,i=15200,o=25600;if(t.target.files[0].size>e)return this.imageError="Maximum size allowed is "+e/1e3+"Mb",!1;const s=new FileReader;s.onload=t=>{const e=new Image;e.src=t.target.result,this.foto=e.src,e.onload=e=>{if(e.currentTarget.height>i&&e.currentTarget.width>o)return this.imageError="Maximum dimentions allowed "+i+"*"+o+"px",!1;{const e=t.target.result;this.cardImageBase64=e,this.isImageSaved=!0,this.selectFile=e}return this.selectFile}},s.readAsDataURL(t.target.files[0])}return!0}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(d.a),o.Nb(g),o.Nb(a.f))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-generar-pedido"]],decls:57,vars:16,consts:[[1,"navigation"],["aria-label","breadcrumb"],[1,"breadcrumb",2,"background-color","white !important"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"content"],[1,"titleNav"],[2,"font-size","2rem","font-weight","800","letter-spacing","-.025em!important","line-height","2.5rem!important","text-overflow","ellipsis!important"],[1,"text-right","action"],[1,"matCardPersonalizada","col-lg-12","col-md-12","col-sm-12"],[1,"mt-2"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],["appearance","outline",1,"col-md-12","mt-2"],["formControlName","IdTipoPedido","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","IdMetodoPago","required",""],[1,"col-md-12","mt-2"],[3,"formControl"],["class","mt-2",4,"ngIf"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Detalle Pedido","formControlName","DetallePedido","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off","required",""],["matInput","","placeholder","Observaci\xf3n Cliente","formControlName","ObservacionCliente","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off"],[1,"col-md-6",2,"display","flex","justify-content","center","align-items","center"],["src","./assets/images/Pedidos/undraw_order_delivered_re_v4ab.svg","class","imagePedido",4,"ngIf"],["class","imagePedido",3,"src",4,"ngIf"],[1,"text-right"],["mat-raised-button","","class","buttonPrincipal",3,"click",4,"ngIf"],[3,"value"],[1,"uploadfilecontainer",2,"display","flex","justify-content","center","align-items","center",3,"click"],[1,"p-2","text-center"],["type","file","hidden","","required","",3,"change"],["fileInput",""],["src","./assets/images/Pedidos/undraw_order_delivered_re_v4ab.svg",1,"imagePedido"],[1,"imagePedido",3,"src"],["mat-raised-button","",1,"buttonPrincipal",3,"click"]],template:function(t,e){1&t&&(o.Tb(0,"div",0),o.Tb(1,"nav",1),o.Tb(2,"ol",2),o.Tb(3,"li",3),o.Tb(4,"a",4),o.Ec(5,"Inicio"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(6,"div",5),o.Tb(7,"div",6),o.Tb(8,"h2",7),o.Ec(9," Generar pedido "),o.Sb(),o.Sb(),o.Ob(10,"div",8),o.Sb(),o.Sb(),o.Tb(11,"div",9),o.Tb(12,"mat-card",10),o.Tb(13,"mat-card-header"),o.Tb(14,"mat-card-title"),o.Ec(15,"Ingresar el detalle del pedido"),o.Sb(),o.Sb(),o.Tb(16,"mat-card-content"),o.Tb(17,"form",11),o.Tb(18,"div",12),o.Tb(19,"div",13),o.Tb(20,"mat-form-field",14),o.Tb(21,"mat-label"),o.Ec(22,"Tipo Pedido"),o.Sb(),o.Tb(23,"mat-select",15),o.Cc(24,C,2,2,"mat-option",16),o.gc(25,"async"),o.Sb(),o.Tb(26,"mat-hint"),o.Ec(27,"Seleccionar el tipo de pedido"),o.Sb(),o.Sb(),o.Tb(28,"mat-form-field",14),o.Tb(29,"mat-label"),o.Ec(30,"Metodo Pago"),o.Sb(),o.Tb(31,"mat-select",17),o.Cc(32,y,2,2,"mat-option",16),o.gc(33,"async"),o.Sb(),o.Tb(34,"mat-hint"),o.Ec(35,"Seleccionar el metodo de pago"),o.Sb(),o.Sb(),o.Tb(36,"div",18),o.Tb(37,"mat-slide-toggle",19),o.Ec(38,"\xbfPago realizado?"),o.Sb(),o.Cc(39,O,6,1,"div",20),o.Sb(),o.Tb(40,"div",18),o.Tb(41,"mat-form-field",21),o.Tb(42,"mat-label"),o.Ec(43," Detalle Pedido "),o.Sb(),o.Ob(44,"textarea",22),o.Sb(),o.Sb(),o.Tb(45,"div",18),o.Tb(46,"mat-form-field",21),o.Tb(47,"mat-label"),o.Ec(48," Observaci\xf3n Cliente "),o.Sb(),o.Ob(49,"textarea",23),o.Sb(),o.Sb(),o.Sb(),o.Tb(50,"div",24),o.Cc(51,D,1,0,"img",25),o.Cc(52,R,1,1,"img",26),o.Sb(),o.Sb(),o.Sb(),o.Tb(53,"div",27),o.Cc(54,I,4,0,"button",28),o.gc(55,"async"),o.Sb(),o.Sb(),o.Ob(56,"mat-card-actions"),o.Sb(),o.Sb()),2&t&&(o.Bb(4),o.mc("routerLink",o.nc(15,M)),o.Bb(13),o.mc("formGroup",e.pedidosForm),o.Bb(7),o.mc("ngForOf",o.hc(25,9,e.generarPedidoFacade.responseTipoPedidos$)),o.Bb(8),o.mc("ngForOf",o.hc(33,11,e.generarPedidoFacade.responseMetodosPago$)),o.Bb(5),o.mc("formControl",e.pagoRealizado),o.Bb(2),o.mc("ngIf",e.pagoRealizado.value),o.Bb(12),o.mc("ngIf",!e.isImageSaved),o.Bb(1),o.mc("ngIf",e.isImageSaved),o.Bb(2),o.mc("ngIf",!o.hc(55,13,e.generarPedidoFacade.responseCargando$)))},directives:[a.i,f.a,f.e,f.h,f.d,c.r,c.l,c.g,_.b,_.f,v.a,c.k,c.e,c.p,s.k,_.e,S.a,c.d,s.l,P.a,c.b,T.b,f.b,x.j,w.a,E.a],pipes:[s.b],styles:[".imagePedido[_ngcontent-%COMP%]{width:30vw;height:30vh}@media (max-width:800px){.imagePedido[_ngcontent-%COMP%]{display:none}}.uploadfilecontainer[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:100px;background-position:50%;height:100px;width:50%;margin:20px auto;border:2px dashed #1c8adb;border-radius:10px}.uploadfilecontainer[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#9ecbec!important;opacity:.8}"]}),t})();var j=i("PSD3"),F=i.n(j);let A=(()=>{class t{constructor(t,e,i){this.dataApi=t,this.toast=e,this._mensajesHttp=i,this.Cargando$=new l.a(!1),this.responseCargando$=this.Cargando$.asObservable(),this.Pedidos$=new l.a([]),this.responsePedidos$=this.Pedidos$.asObservable()}MostrarPedidos(t){return this.Cargando$.next(!0),this.Pedidos$.next([]),this.dataApi.GetDataApi("pedido/pedido/usuario/",t).pipe(Object(b.a)(t=>{this.Cargando$.next(!1),this.Pedidos$.next(t.data.Table0)}),Object(p.a)(t=>(this.Cargando$.next(!1),this.Pedidos$.next([]),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al mostrar los pedidos",""),h.a))).subscribe()}ActualizarPedido(t,e){return this.Cargando$.next(!0),this.dataApi.PutDataApi("pedido/pedido/",t).pipe(Object(b.a)(t=>{e(t)}),Object(p.a)(t=>(this.Cargando$.next(!1),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al actualizar el pedido",""),h.a))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(m.a),o.Xb(d.a),o.Xb(u.a))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),B=(()=>{class t{constructor(){this.DataPaginator=new l.a({desde:0,hasta:0,itemPagina:0,pageIndex:0,totalItem:0}),this.responseDataPaginator=this.DataPaginator.asObservable()}cambiarValor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var $=i("0IaG"),z=i("Frqi"),N=i("M9IT"),L=i("MutI"),H=i("8hG2"),V=i("0fZQ");function q(t,e){1&t&&(o.Tb(0,"div"),o.Ob(1,"app-loading",18),o.Sb()),2&t&&(o.Bb(1),o.mc("data",4))}function U(t,e){1&t&&(o.Tb(0,"div",19),o.Ec(1," No hay pedidos para listar "),o.Sb())}function G(t,e){if(1&t){const t=o.Ub();o.Tb(0,"tr",28),o.Tb(1,"td",29),o.Tb(2,"button",30),o.bc("click",function(){o.tc(t);const i=e.$implicit,s=o.fc(2),n=o.rc(29);return s.openDialog(n,i)}),o.Tb(3,"mat-icon"),o.Ec(4,"visibility"),o.Sb(),o.Sb(),o.Tb(5,"button",31),o.bc("click",function(){o.tc(t);const i=e.$implicit;return o.fc(2).cancelarPedido(i)}),o.Tb(6,"mat-icon"),o.Ec(7,"remove_shopping_cart"),o.Sb(),o.Sb(),o.Sb(),o.Tb(8,"td",32),o.Ec(9),o.Sb(),o.Tb(10,"td",33),o.Ec(11),o.Sb(),o.Tb(12,"td",34),o.Ec(13),o.Sb(),o.Tb(14,"td",35),o.Ec(15),o.gc(16,"truncatePipe"),o.Sb(),o.Tb(17,"td",36),o.Ec(18),o.Sb(),o.Tb(19,"td",37),o.Ec(20),o.Sb(),o.Tb(21,"td",38),o.Ec(22),o.gc(23,"date"),o.Sb(),o.Tb(24,"td",39),o.Ec(25),o.Sb(),o.Sb()}if(2&t){const t=e.$implicit;o.Bb(9),o.Gc(" ",t.IdPedido," "),o.Bb(2),o.Gc(" ",t.TipoPedido," "),o.Bb(2),o.Gc(" ",t.MetodoPago," "),o.Bb(2),o.Gc(" ",o.ic(16,8,t.DetallePedido,100)," "),o.Bb(3),o.Gc(" ",t.Observacion," "),o.Bb(2),o.Gc(" ",t.NombreReparto," "),o.Bb(2),o.Gc(" ",o.ic(23,11,t.FechaInsercion,"yyyy-MM-dd"),""),o.Bb(3),o.Gc(" ",t.EstadoProceso," ")}}const X=function(){return["IdPedido","DetallePedido"]};function J(t,e){if(1&t){const t=o.Ub();o.Tb(0,"mat-card",20),o.Tb(1,"mat-card-content"),o.Tb(2,"div"),o.Tb(3,"table",21),o.Tb(4,"thead",22),o.Tb(5,"tr",23),o.Ob(6,"th",24),o.Tb(7,"th",24),o.Ec(8,"Codigo Pedido"),o.Sb(),o.Tb(9,"th",24),o.Ec(10,"Tipo Pedido"),o.Sb(),o.Tb(11,"th",24),o.Ec(12,"Metodo Pago"),o.Sb(),o.Tb(13,"th",24),o.Ec(14,"Detalle Pedido"),o.Sb(),o.Tb(15,"th",24),o.Ec(16,"Observaci\xf3n"),o.Sb(),o.Tb(17,"th",24),o.Ec(18,"Nombre Reparto"),o.Sb(),o.Tb(19,"th",24),o.Ec(20,"Fecha Ingreso"),o.Sb(),o.Tb(21,"th",24),o.Ec(22,"Estado"),o.Sb(),o.Sb(),o.Sb(),o.Tb(23,"tbody",25),o.Cc(24,G,26,14,"tr",26),o.gc(25,"slice"),o.gc(26,"search"),o.gc(27,"async"),o.Sb(),o.Sb(),o.Tb(28,"mat-paginator",27),o.bc("page",function(e){return o.tc(t),o.fc().next(e)}),o.gc(29,"async"),o.Sb(),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=o.fc();o.Bb(24),o.mc("ngForOf",o.jc(25,3,o.jc(26,7,o.hc(27,11,t.listarPedidosFacade.responsePedidos$),null==t.buscar?null:t.buscar.value,o.nc(15,X)),t.desde,t.hasta)),o.Bb(4),o.mc("length",o.hc(29,13,t.listarPedidosFacade.responsePedidos$).length)("pageSize",t.pageSize)}}function Z(t,e){if(1&t){const t=o.Ub();o.Tb(0,"div",13),o.Tb(1,"button",57),o.bc("click",function(){return o.tc(t),o.fc(2).descargarImagen()}),o.Tb(2,"mat-icon"),o.Ec(3,"file_download"),o.Sb(),o.Ec(4," Descargar "),o.Sb(),o.Sb()}}function W(t,e){if(1&t&&(o.Tb(0,"div",58),o.Ob(1,"img",59),o.Sb()),2&t){const t=o.fc(2);o.Bb(1),o.mc("src",t.pedido.Url,o.vc)}}function Y(t,e){if(1&t&&(o.Tb(0,"div",40),o.Tb(1,"button",41),o.Tb(2,"mat-icon"),o.Ec(3,"close"),o.Sb(),o.Sb(),o.Sb(),o.Tb(4,"div",42),o.Ec(5," Detalle Pedido "),o.Sb(),o.Tb(6,"mat-dialog-content",43),o.Tb(7,"div",44),o.Tb(8,"mat-list",45),o.Tb(9,"mat-list-item"),o.Tb(10,"mat-icon",46),o.Ec(11,"local_shipping"),o.Sb(),o.Tb(12,"div",47),o.Ec(13,"Tipo Pedido"),o.Sb(),o.Tb(14,"div",47),o.Ec(15),o.Sb(),o.Sb(),o.Sb(),o.Tb(16,"mat-list",45),o.Tb(17,"mat-list-item"),o.Tb(18,"mat-icon",46),o.Ec(19,"paid"),o.Sb(),o.Tb(20,"div",47),o.Ec(21,"Metodo Pago"),o.Sb(),o.Tb(22,"div",47),o.Ec(23),o.Sb(),o.Sb(),o.Sb(),o.Tb(24,"mat-list",45),o.Tb(25,"mat-list-item"),o.Tb(26,"mat-icon",46),o.Ec(27,"paid"),o.Sb(),o.Tb(28,"div",47),o.Ec(29,"Nombre Reparto"),o.Sb(),o.Tb(30,"div",47),o.Ec(31),o.Sb(),o.Sb(),o.Sb(),o.Tb(32,"mat-list",45),o.Tb(33,"mat-list-item"),o.Tb(34,"mat-icon",46),o.Ec(35,"filter_list"),o.Sb(),o.Tb(36,"div",47),o.Ec(37,"Estado Proceso"),o.Sb(),o.Tb(38,"div",47),o.Ec(39),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(40,"div",44),o.Tb(41,"div",48),o.Tb(42,"mat-form-field",49),o.Tb(43,"mat-label"),o.Ec(44," Detalle Pedido "),o.Sb(),o.Ob(45,"textarea",50),o.Sb(),o.Sb(),o.Tb(46,"div",48),o.Tb(47,"mat-form-field",49),o.Tb(48,"mat-label"),o.Ec(49," Observaci\xf3n "),o.Sb(),o.Ob(50,"textarea",51),o.Sb(),o.Sb(),o.Tb(51,"div",48),o.Tb(52,"mat-form-field",49),o.Tb(53,"mat-label"),o.Ec(54," Observaci\xf3n Cliente"),o.Sb(),o.Ob(55,"textarea",52),o.Sb(),o.Sb(),o.Sb(),o.Cc(56,Z,5,0,"div",53),o.Cc(57,W,2,1,"div",54),o.Tb(58,"div",55),o.Tb(59,"button",56),o.Ec(60,"Salir"),o.Sb(),o.Sb(),o.Sb()),2&t){const t=o.fc();o.Bb(15),o.Fc(t.pedido.TipoPedido),o.Bb(8),o.Fc(t.pedido.MetodoPago),o.Bb(8),o.Fc(t.pedido.NombreReparto||"N/A"),o.Bb(8),o.Fc(t.pedido.EstadoProceso),o.Bb(6),o.mc("formControl",t.detallePedido),o.Bb(5),o.mc("formControl",t.observacion),o.Bb(5),o.mc("formControl",t.observacionCliente),o.Bb(1),o.mc("ngIf",null!=t.pedido.Url),o.Bb(1),o.mc("ngIf",null!=t.pedido.Url)}}const K=function(){return["/dashboard"]};let Q=(()=>{class t{constructor(t,e,i,o){this.listarPedidosFacade=t,this.paginatorService=e,this.dialog=i,this.toast=o,this.buscar=new c.c(""),this.pageSize=10,this.page=0,this.pageIndex=0,this.desde=0,this.hasta=10,this.detallePedido=new c.c({value:"",disabled:!0}),this.observacion=new c.c({value:"",disabled:!0}),this.observacionCliente=new c.c({value:"",disabled:!0}),this.listarPedidosFacade.MostrarPedidos("0")}ngOnInit(){}next(t){t.pageIndex===this.pageIndex+1?(this.desde=this.desde+this.pageSize,this.hasta=this.hasta+this.pageSize):t.pageIndex===this.pageIndex-1&&(this.desde=this.desde-this.pageSize,this.hasta=this.hasta-this.pageSize),this.pageIndex=t.pageIndex}openDialog(t,e){this.pedido=e,this.detallePedido.setValue(this.pedido.DetallePedido||""),this.observacion.setValue(this.pedido.Observacion||""),this.observacionCliente.setValue(this.pedido.observacionCliente||""),this.dialog.open(t,{panelClass:"app-full-bleed-dialog",width:"90%",disableClose:!0})}descargarImagen(){window.open(this.pedido.Url)}cancelarPedido(t){F.a.fire({title:"Confirmaci\xf3n",html:" <p> \xbfEsta seguro que quiere cancelar el pedido ? </p>",icon:"question",showCancelButton:!0,confirmButtonColor:"#003399",cancelButtonColor:"#d33",confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&(t.idEstado=8,t.IdPedido=t.IdPedido,this.listarPedidosFacade.ActualizarPedido(t,t=>{!1===t.hasError&&this.listarPedidosFacade.MostrarPedidos("0")}))})}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(A),o.Nb(B),o.Nb($.a),o.Nb(d.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-listar-pedidos"]],decls:30,vars:16,consts:[[1,"navigation"],["aria-label","breadcrumb"],[1,"breadcrumb",2,"background-color","white !important"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"content"],[1,"titleNav"],[2,"font-size","2rem","font-weight","800","letter-spacing","-.025em!important","line-height","2.5rem!important","text-overflow","ellipsis!important"],[1,"text-right","action"],["appearance","outline",2,"width","100%"],["matInput","","type","text","placeholder","Buscar","autocomplete","off",3,"formControl"],["matPrefix",""],[4,"ngIf"],[1,"col-md-12"],[2,"display","flex","justify-content","center","align-items","center"],["class","alert alert-primary text-center mt-4","role","alert","style","width: 50%;",4,"ngIf"],["class","matCardPersonalizada mt-2",4,"ngIf"],["DetallePedido",""],[3,"data"],["role","alert",1,"alert","alert-primary","text-center","mt-4",2,"width","50%"],[1,"matCardPersonalizada","mt-2"],["role","table",1,"table","bordeTabla","tablep"],[1,"theadp"],[1,"trp","bg-success","text-center"],["scope","col ","role","columnheader ",1,"thp","text-center"],["role","rowgroup ",1,"tbodyp"],["class","text-center trp ","role","row ",4,"ngFor","ngForOf"],[3,"length","pageSize","page"],["role","row ",1,"text-center","trp"],["role","cell ","data-title","#",1,"tdp","text-center"],["mat-mini-fab","",1,"buttonView",3,"click"],["mat-mini-fab","",1,"btnDelete",3,"click"],["role","cell ","data-title","Codigo Pedido",1,"tdp","text-center"],["role","cell ","data-title","Tipo Pedido",1,"tdp","text-center"],["role","cell ","data-title","Metodo Pago",1,"tdp","text-center"],["role","cell ","data-title","Detalle Pedido",1,"tdp","text-justify"],["role","cell ","data-title","Observaci\xf3n",1,"tdp","text-justify"],["role","cell ","data-title","Nombre Reparto",1,"tdp","text-center"],["role","cell ","data-title","Fecha Ingreso",1,"tdp","text-center"],["role","cell ","data-title","Estado",1,"tdp","text-center"],[2,"float","right","z-index","1"],["mat-mini-fab","","mat-dialog-close","",1,"buttonView"],[1,"matCardHeader"],[1,"mat-typography"],[1,"row"],[1,"col-md-4"],["mat-list-icon",""],["mat-line",""],[1,"col-md-12","mt-2"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Detalle Pedido","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off","readonly","",3,"formControl"],["matInput","","placeholder","Observaci\xf3n","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off","readonly","",3,"formControl"],["matInput","","placeholder","Observaci\xf3n Cliente","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off","readonly","",3,"formControl"],["class","col-md-12",4,"ngIf"],["class","col-md-12","style","display: flex; justify-content: center; align-items: center;",4,"ngIf"],[1,"text-right"],["mat-button","","mat-dialog-close",""],["mat-raised-button","",1,"button-principal",3,"click"],[1,"col-md-12",2,"display","flex","justify-content","center","align-items","center"],[1,"imagePedido",3,"src"]],template:function(t,e){1&t&&(o.Tb(0,"div",0),o.Tb(1,"nav",1),o.Tb(2,"ol",2),o.Tb(3,"li",3),o.Tb(4,"a",4),o.Ec(5,"Inicio"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(6,"div",5),o.Tb(7,"div",6),o.Tb(8,"h2",7),o.Ec(9," Listado de Pedidos "),o.Sb(),o.Sb(),o.Tb(10,"div",8),o.Tb(11,"mat-form-field",9),o.Tb(12,"mat-label"),o.Ec(13,"Buscar"),o.Sb(),o.Ob(14,"input",10),o.Tb(15,"span",11),o.Tb(16,"mat-icon"),o.Ec(17,"search"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Cc(18,q,2,1,"div",12),o.gc(19,"async"),o.Tb(20,"div",13),o.Tb(21,"div",14),o.Cc(22,U,2,0,"div",15),o.gc(23,"async"),o.gc(24,"async"),o.Sb(),o.Cc(25,J,30,16,"mat-card",16),o.gc(26,"async"),o.gc(27,"async"),o.Sb(),o.Cc(28,Y,61,9,"ng-template",null,17,o.Dc)),2&t&&(o.Bb(4),o.mc("routerLink",o.nc(15,K)),o.Bb(10),o.mc("formControl",e.buscar),o.Bb(4),o.mc("ngIf",o.hc(19,5,e.listarPedidosFacade.responseCargando$)),o.Bb(4),o.mc("ngIf",!o.hc(23,7,e.listarPedidosFacade.responseCargando$)&&0===o.hc(24,9,e.listarPedidosFacade.responsePedidos$).length),o.Bb(3),o.mc("ngIf",!o.hc(26,11,e.listarPedidosFacade.responseCargando$)&&o.hc(27,13,e.listarPedidosFacade.responsePedidos$).length>0))},directives:[a.i,_.b,_.f,P.a,c.b,c.k,c.d,_.g,E.a,s.l,z.a,f.a,f.d,s.k,N.a,w.a,$.b,$.c,L.a,L.c,L.b,x.h,T.b],pipes:[s.b,s.s,H.a,V.a,s.e],styles:[".imagePedido[_ngcontent-%COMP%]{width:30vw;height:30vh}"]}),t})();var tt=i("vxfF"),et=i("nLfN"),it=i("8LU1"),ot=i("XNiG"),st=i("quSY"),nt=i("HDdC"),rt=i("D0XW"),at=i("Y7HM");function ct(t){const{subscriber:e,counter:i,period:o}=t;e.next(i),this.schedule({subscriber:e,counter:i+1,period:o},o)}var dt=i("eNwd"),lt=i("VRyK"),ht=i("1G5W"),bt=(i("JX91"),i("lJxs"),i("IzEk")),pt=(i("eIep"),i("cH1L"));function mt(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function ut(t,e){const i=e?"":"none";mt(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:i,msUserSelect:i,webkitUserSelect:i,MozUserSelect:i})}function gt(t,e){const i=t.style;i.position=e?"":"fixed",i.top=i.opacity=e?"":"0",i.left=e?"":"-999em"}function ft(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function _t(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function vt(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function St(t,e,i){const{top:o,bottom:s,left:n,right:r}=t;return i>=o&&i<=s&&e>=n&&e<=r}function Pt(t,e,i){t.top+=e,t.bottom=t.top+t.height,t.left+=i,t.right=t.left+t.width}function Tt(t,e,i,o){const{top:s,right:n,bottom:r,left:a,width:c,height:d}=t,l=c*e,h=d*e;return o>s-h&&o<r+h&&i>a-l&&i<n+l}class xt{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:vt(t)})})}handleScroll(t){const e=t.target,i=this.positions.get(e);if(!i)return null;const o=e===this._document?e.documentElement:e,s=i.scrollPosition;let n,r;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();n=t.top,r=t.left}else n=e.scrollTop,r=e.scrollLeft;const a=s.top-n,c=s.left-r;return this.positions.forEach((t,i)=>{t.clientRect&&e!==i&&o.contains(i)&&Pt(t.clientRect,a,c)}),s.top=n,s.left=r,{top:a,left:c}}}function wt(t){const e=t.cloneNode(!0),i=e.querySelectorAll("[id]"),o=t.nodeName.toLowerCase();e.removeAttribute("id");for(let s=0;s<i.length;s++)i[s].removeAttribute("id");return"canvas"===o?Ot(t,e):"input"!==o&&"select"!==o&&"textarea"!==o||yt(t,e),Et("canvas",t,e,Ot),Et("input, textarea, select",t,e,yt),e}function Et(t,e,i,o){const s=e.querySelectorAll(t);if(s.length){const e=i.querySelectorAll(t);for(let t=0;t<s.length;t++)o(s[t],e[t])}}let Ct=0;function yt(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${Ct++}`)}function Ot(t,e){const i=e.getContext("2d");if(i)try{i.drawImage(t,0,0)}catch(o){}}const Dt=Object(et.f)({passive:!0}),Rt=Object(et.f)({passive:!1});class It{constructor(t,e,i,o,s,n){this._config=e,this._document=i,this._ngZone=o,this._viewportRuler=s,this._dragDropRegistry=n,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new ot.a,this._pointerMoveSubscription=st.a.EMPTY,this._pointerUpSubscription=st.a.EMPTY,this._scrollSubscription=st.a.EMPTY,this._resizeSubscription=st.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ot.a,this.started=new ot.a,this.released=new ot.a,this.ended=new ot.a,this.entered=new ot.a,this.exited=new ot.a,this.dropped=new ot.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const i=t.target;return!!i&&(i===e||e.contains(i))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),i=this._dropContainer;if(!e)return void this._endDragSequence(t);i&&(i.isDragging()||i.isReceiving())||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{const t=this._activeTransform;t.x=i.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=i.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:t,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new xt(i,s),n.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Object(it.c)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>ut(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(t=>Object(it.e)(t)),this._handles.forEach(t=>ut(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Object(it.e)(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Rt),e.addEventListener("touchstart",this._pointerDown,Dt)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Object(it.e)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&jt(this._rootElement),jt(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),ut(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),ut(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&jt(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&jt(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){Ft(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,i=t.parentNode,o=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement(),n=this._anchor=this._anchor||this._document.createComment(""),r=this._getShadowRoot();i.insertBefore(n,t),gt(t,!1),this._document.body.appendChild(i.replaceChild(s,t)),function(t,e){return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}(this._document,r).appendChild(o),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const i=this.isDragging(),o=Ft(e),s=!o&&0!==e.button,n=this._rootElement,r=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||r)return;this._handles.length&&(this._rootElementTapHighlight=n.style.webkitTapHighlightColor||"",n.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=vt(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){gt(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),o=this._getPointerPositionOnPage(t),s=this._getDragDistance(this._getPointerPositionOnPage(t)),n=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:n,distance:s}),e.drop(this,i,this._initialIndex,this._initialContainer,n,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:o}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(i,o),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=Mt(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let o;if(i&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,s=t.viewContainer.createEmbeddedView(i,t.context);s.detectChanges(),o=At(s,this._document),this._previewRef=s,t.matchSize?Bt(o,e):o.style.transform=Mt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;o=wt(t),Bt(o,t.getBoundingClientRect())}return mt(o.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),ut(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>o.classList.add(t)):o.classList.add(e)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=Mt(t.left,t.top);const e=function(t){const e=getComputedStyle(t),i=_t(e,"transition-property"),o=i.find(t=>"transform"===t||"all"===t);if(!o)return 0;const s=i.indexOf(o),n=_t(e,"transition-duration"),r=_t(e,"transition-delay");return ft(n[s])+ft(r[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const i=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",i),t(),clearTimeout(o))},o=setTimeout(i,1.5*e);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=At(this._placeholderRef,this._document)):i=wt(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),o=t===this._rootElement?null:t,s=o?o.getBoundingClientRect():i,n=Ft(e)?e.targetTouches[0]:e,r=this._getViewportScrollPosition();return{x:s.left-i.left+(n.pageX-s.left-r.left),y:s.top-i.top+(n.pageY-s.top-r.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=Ft(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,o=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=o,e.y=s,e.matrixTransform(t.inverse())}}return{x:o,y:s}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:o}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?o=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,s=this._boundaryRect,n=this._previewRect,r=s.top+e,a=s.bottom-(n.height-e);i=kt(i,s.left+t,s.right-(n.width-t)),o=kt(o,r,a)}return{x:i,y:o}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,o=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,n=Math.abs(e-s.x),r=Math.abs(i-s.y);return n>this._config.pointerDirectionChangeThreshold&&(o.x=e>s.x?1:-1,s.x=e),r>this._config.pointerDirectionChangeThreshold&&(o.y=i>s.y?1:-1,s.y=i),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,ut(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Rt),t.removeEventListener("touchstart",this._pointerDown,Dt)}_applyRootElementTransform(t,e){const i=Mt(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?i+" "+this._initialTransform:i}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===o.width&&0===o.height)return;const s=i.left-o.left,n=o.right-i.right,r=i.top-o.top,a=o.bottom-i.bottom;i.width>o.width?(s>0&&(t+=s),n>0&&(t-=n)):t=0,i.height>o.height?(r>0&&(e+=r),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Ft(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=t.target;this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&Pt(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Object(et.c)(this._rootElement)),this._cachedShadowRoot}}function Mt(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function kt(t,e,i){return Math.max(e,Math.min(i,t))}function jt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ft(t){return"t"===t.type[0]}function At(t,e){const i=t.rootNodes;if(1===i.length&&i[0].nodeType===e.ELEMENT_NODE)return i[0];const o=e.createElement("div");return i.forEach(t=>o.appendChild(t)),o}function Bt(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=Mt(e.left,e.top)}function $t(t,e,i){const o=zt(e,t.length-1),s=zt(i,t.length-1);if(o===s)return;const n=t[o],r=s<o?-1:1;for(let a=o;a!==s;a+=r)t[a]=t[a+r];t[s]=n}function zt(t,e){return Math.max(0,Math.min(e,t))}class Nt{constructor(t,e,i,o,s){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ot.a,this.entered=new ot.a,this.exited=new ot.a,this.dropped=new ot.a,this.sorted=new ot.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=st.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ot.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=rt.a){return(!Object(at.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=rt.a),new nt.a(i=>(i.add(e.schedule(ct,t,{subscriber:i,counter:0,period:t})),i))}(0,dt.a).pipe(Object(ht.a)(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?Ht(t,-2):2===this._verticalScrollDirection&&Ht(t,2),1===this._horizontalScrollDirection?Vt(t,-2):2===this._horizontalScrollDirection&&Vt(t,2)})},this.element=Object(it.e)(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new xt(i,s)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Object(it.e)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,i,o){let s;this.start(),null==o?(s=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(t,e,i))):s=o;const n=this._activeDraggables,r=n.indexOf(t),a=t.getPlaceholderElement();let c=n[s];if(c===t&&(c=n[s+1]),r>-1&&n.splice(r,1),c&&!this._dragDropRegistry.isDragging(c)){const e=c.getRootElement();e.parentElement.insertBefore(a,e),n.splice(s,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const e=n[0].getRootElement();e.parentNode.insertBefore(a,e),n.unshift(t)}else Object(it.e)(this.element).appendChild(a),n.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,o,s,n){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:o,isPointerOverContainer:s,distance:n})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Object(it.e)(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?Lt("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,o){if(this.sortingDisabled||!Tt(this._clientRect,.05,e,i))return;const s=this._itemPositions,n=this._getItemIndexFromPointerPosition(t,e,i,o);if(-1===n&&s.length>0)return;const r="horizontal"===this._orientation,a=Lt(s,e=>e.drag===t),c=s[n],d=c.clientRect,l=a>n?1:-1,h=this._getItemOffsetPx(s[a].clientRect,d,l),b=this._getSiblingOffsetPx(a,s,l),p=s.slice();$t(s,a,n),this.sorted.next({previousIndex:a,currentIndex:n,container:this,item:t}),s.forEach((e,i)=>{if(p[i]===e)return;const o=e.drag===t,s=o?h:b,n=o?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=s,r?(n.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,Pt(e.clientRect,0,s)):(n.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,Pt(e.clientRect,s,0))}),this._previousSwap.overlaps=St(d,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=r?o.x:o.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,o=0,s=0;if(this._parentPositions.positions.forEach((n,r)=>{r!==this._document&&n.clientRect&&!i&&Tt(n.clientRect,.05,t,e)&&([o,s]=function(t,e,i,o){const s=qt(e,o),n=Ut(e,i);let r=0,a=0;if(s){const e=t.scrollTop;1===s?e>0&&(r=1):t.scrollHeight-e>t.clientHeight&&(r=2)}if(n){const e=t.scrollLeft;1===n?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[r,a]}(r,n.clientRect,t,e),(o||s)&&(i=r))}),!o&&!s){const{width:n,height:r}=this._viewportRuler.getViewportSize(),a={width:n,height:r,top:0,right:n,bottom:r,left:0};o=qt(a,e),s=Ut(a,t),i=window}!i||o===this._verticalScrollDirection&&s===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=o,this._horizontalScrollDirection=s,this._scrollNode=i,(o||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=Object(it.e)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:vt(e)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=Object(it.e)(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const o="horizontal"===this._orientation,s=e[t].clientRect,n=e[t+-1*i];let r=s[o?"width":"height"]*i;if(n){const t=o?"left":"top",e=o?"right":"bottom";-1===i?r-=n.clientRect[t]-s[e]:r+=s[t]-n.clientRect[e]}return r}_getItemOffsetPx(t,e,i){const o="horizontal"===this._orientation;let s=o?e.left-t.left:e.top-t.top;return-1===i&&(s+=o?e.width-t.width:e.height-t.height),s}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,o="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return o?t>=s.right:e>=s.bottom}{const s=i[0].clientRect;return o?t<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(t,e,i,o){const s="horizontal"===this._orientation,n=Lt(this._itemPositions,({drag:n,clientRect:r},a,c)=>{if(n===t)return c.length<2;if(o){const t=s?o.x:o.y;if(n===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return s?e>=Math.floor(r.left)&&e<Math.floor(r.right):i>=Math.floor(r.top)&&i<Math.floor(r.bottom)});return-1!==n&&this.sortPredicate(n,t,this)?n:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return St(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(o=>o._canReceive(t,e,i))}_canReceive(t,e,i){if(!St(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const o=this._getShadowRoot().elementFromPoint(e,i);if(!o)return!1;const s=Object(it.e)(this.element);return o===s||s.contains(o)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{Pt(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Object(et.c)(Object(it.e)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function Lt(t,e){for(let i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}function Ht(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Vt(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function qt(t,e){const{top:i,bottom:o,height:s}=t,n=.05*s;return e>=i-n&&e<=i+n?1:e>=o-n&&e<=o+n?2:0}function Ut(t,e){const{left:i,right:o,width:s}=t,n=.05*s;return e>=i-n&&e<=i+n?1:e>=o-n&&e<=o+n?2:0}const Gt=Object(et.f)({passive:!1,capture:!0});let Xt=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new ot.a,this.pointerUp=new ot.a,this.scroll=new ot.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.size&&(t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Gt)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Gt)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Gt}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:Gt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.A),o.Xb(s.d))},t.\u0275prov=Object(o.Jb)({factory:function(){return new t(Object(o.Xb)(o.A),Object(o.Xb)(s.d))},token:t,providedIn:"root"}),t})();const Jt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Zt=(()=>{class t{constructor(t,e,i,o){this._document=t,this._ngZone=e,this._viewportRuler=i,this._dragDropRegistry=o}createDrag(t,e=Jt){return new It(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Nt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(s.d),o.Xb(o.A),o.Xb(tt.e),o.Xb(Xt))},t.\u0275prov=Object(o.Jb)({factory:function(){return new t(Object(o.Xb)(s.d),Object(o.Xb)(o.A),Object(o.Xb)(tt.e),Object(o.Xb)(Xt))},token:t,providedIn:"root"}),t})(),Wt=(()=>{class t{}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},providers:[Zt],imports:[tt.b]}),t})(),Yt=(()=>{class t{constructor(t,e,i){this.dataApi=t,this.toast=e,this._mensajesHttp=i,this.Cargando$=new l.a(!1),this.responseCargando$=this.Cargando$.asObservable(),this.Pedidos$=new l.a([]),this.responsePedidos$=this.Pedidos$.asObservable(),this.Reparto$=new l.a([]),this.responseReparto$=this.Reparto$.asObservable(),this.EstadoProceso$=new l.a([]),this.responseEstadoProceso$=this.EstadoProceso$.asObservable()}MostrarSeguimientoPedidos(t){return this.Cargando$.next(!0),this.Pedidos$.next([]),this.dataApi.GetDataApi("pedido/pedidoSeguimiento",t).pipe(Object(b.a)(t=>{this.Cargando$.next(!1),this.Pedidos$.next(t.data)}),Object(p.a)(t=>(this.Cargando$.next(!1),this.Pedidos$.next([]),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al mostrar los pedidos",""),h.a))).subscribe()}MostrarEstadosProceso(t){return this.Cargando$.next(!0),this.Pedidos$.next([]),this.dataApi.GetDataApi("mantenimiento/mostrarEstadoProceso",t).pipe(Object(b.a)(t=>{this.Cargando$.next(!1),this.EstadoProceso$.next(t.data.Table0)}),Object(p.a)(t=>(this.Cargando$.next(!1),this.Pedidos$.next([]),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al mostrar los pedidos",""),h.a))).subscribe()}ActualizarPedido(t,e){return this.Cargando$.next(!0),this.dataApi.PutDataApi("pedido/pedido/",t).pipe(Object(b.a)(t=>{e(t)}),Object(p.a)(t=>(this.Cargando$.next(!1),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al actualizar el pedido",""),h.a))).subscribe()}ActualizarEstadoPedidos(t,e){return this.Cargando$.next(!0),this.Pedidos$.next([]),this.dataApi.PutDataApi("pedido/pedido/",t).pipe(Object(b.a)(t=>{this.Cargando$.next(!1),e(t)}),Object(p.a)(t=>(this.Cargando$.next(!1),this.Pedidos$.next([]),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al actualizar los pedidos",""),h.a))).subscribe()}MostrarReparto(t){return this.Cargando$.next(!0),this.Reparto$.next([]),this.dataApi.GetDataApi("mantenimiento/reparto/",t).pipe(Object(b.a)(t=>{this.Cargando$.next(!1),this.Reparto$.next(t.data.Table0)}),Object(p.a)(t=>(this.Cargando$.next(!1),this.Reparto$.next([]),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al mostrar el reparto",""),h.a))).subscribe()}agregarPedido(t){let e=this.Pedidos$.value;e.forEach(e=>{if(e.Id===t.IdEstado){let i=e.pedidos.filter(e=>e.IdPedido!=t.IdPedido);i.push(t),e.pedidos=i}}),this.Pedidos$.next([]),this.Pedidos$.next(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(m.a),o.Xb(d.a),o.Xb(u.a))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Kt=i("rDax"),Qt=i("+rOU"),te=i("0MNC"),ee=i("GS7A"),ie=i("LRne"),oe=i("FtGj"),se=i("pLZG"),ne=i("u47x");function re(t,e){}const ae=new o.r("MatBottomSheetData");class ce{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}const de={bottomSheetState:Object(ee.m)("state",[Object(ee.j)("void, hidden",Object(ee.k)({transform:"translateY(100%)"})),Object(ee.j)("visible",Object(ee.k)({transform:"translateY(0%)"})),Object(ee.l)("visible => void, visible => hidden",Object(ee.e)(`${x.b.COMPLEX} ${x.a.ACCELERATION_CURVE}`)),Object(ee.l)("void => visible",Object(ee.e)(`${x.b.EXITING} ${x.a.DECELERATION_CURVE}`))])};let le=(()=>{class t extends Qt.a{constructor(t,e,i,s,n,r){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=i,this.bottomSheetConfig=r,this._animationState="void",this._animationStateChanged=new o.o,this._elementFocusedBeforeOpened=null,this.attachDomPortal=t=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._document=n,this._breakpointSubscription=s.observe([te.b.Medium,te.b.Large,te.b.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",s.isMatched(te.b.Medium)),this._toggleClass("mat-bottom-sheet-container-large",s.isMatched(te.b.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",s.isMatched(te.b.XLarge))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const i=this._elementRef.nativeElement.classList;e?i.add(t):i.remove(t)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,i=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==i&&!i.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(o.l),o.Nb(o.h),o.Nb(ne.g),o.Nb(te.a),o.Nb(s.d,8),o.Nb(ce))},t.\u0275cmp=o.Hb({type:t,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,e){if(1&t&&o.yc(Qt.c,!0),2&t){let t;o.qc(t=o.cc())&&(e._portalOutlet=t.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,e){1&t&&o.Ac("@state.start",function(t){return e._onAnimationStart(t)})("@state.done",function(t){return e._onAnimationDone(t)}),2&t&&(o.Cb("aria-label",null==e.bottomSheetConfig?null:e.bottomSheetConfig.ariaLabel),o.Bc("@state",e._animationState))},features:[o.yb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&o.Cc(0,re,0,0,"ng-template",0)},directives:[Qt.c],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[de.bottomSheetState]}}),t})(),he=(()=>{class t{}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},imports:[[Kt.f,x.g,Qt.g],x.g]}),t})();class be{constructor(t,e){this._overlayRef=e,this._afterDismissed=new ot.a,this._afterOpened=new ot.a,this.containerInstance=t,this.disableClose=t.bottomSheetConfig.disableClose,t._animationStateChanged.pipe(Object(se.a)(t=>"done"===t.phaseName&&"visible"===t.toState),Object(bt.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Object(se.a)(t=>"done"===t.phaseName&&"hidden"===t.toState),Object(bt.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe(Object(bt.a)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),Object(lt.a)(e.backdropClick(),e.keydownEvents().pipe(Object(se.a)(t=>t.keyCode===oe.e))).subscribe(t=>{this.disableClose||"keydown"===t.type&&Object(oe.o)(t)||(t.preventDefault(),this.dismiss())})}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe(Object(se.a)(t=>"start"===t.phaseName),Object(bt.a)(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const pe=new o.r("mat-bottom-sheet-default-options");let me=(()=>{class t{constructor(t,e,i,o){this._overlay=t,this._injector=e,this._parentBottomSheet=i,this._defaultOptions=o,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,e){const i=function(t,e){return Object.assign(Object.assign({},t),e)}(this._defaultOptions||new ce,e),s=this._createOverlay(i),n=this._attachContainer(s,i),r=new be(n,s);if(t instanceof o.M)n.attachTemplatePortal(new Qt.h(t,null,{$implicit:i.data,bottomSheetRef:r}));else{const e=new Qt.d(t,void 0,this._createInjector(i,r)),o=n.attachComponentPortal(e);r.instance=o.instance}return r.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==r&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>r.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):r.containerInstance.enter(),this._openedBottomSheetRef=r,r}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(t,e){const i=o.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:ce,useValue:e}]}),s=new Qt.d(le,e.viewContainerRef,i);return t.attach(s).instance}_createOverlay(t){const e=new Kt.d({direction:t.direction,hasBackdrop:t.hasBackdrop,disposeOnNavigation:t.closeOnNavigation,maxWidth:"100%",scrollStrategy:t.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(e.backdropClass=t.backdropClass),this._overlay.create(e)}_createInjector(t,e){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:be,useValue:e},{provide:ae,useValue:t.data}];return!t.direction||i&&i.get(pt.b,null)||s.push({provide:pt.b,useValue:{value:t.direction,change:Object(ie.a)()}}),o.s.create({parent:i||this._injector,providers:s})}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(Kt.c),o.Xb(o.s),o.Xb(t,12),o.Xb(pe,8))},t.\u0275prov=Object(o.Jb)({factory:function(){return new t(Object(o.Xb)(Kt.c),Object(o.Xb)(o.p),Object(o.Xb)(t,12),Object(o.Xb)(pe,8))},token:t,providedIn:he}),t})();var ue=i("7JkF");let ge=(()=>{class t{constructor(t){this.socket=t,this.socketStatus=!1,this.checkStatus()}checkStatus(){this.socket.on("connect",()=>{console.log("c"),this.socketStatus=!0}),this.socket.on("disconnect",()=>{this.socketStatus=!1})}emit(t,e,i){this.socket.emit(t,e,i)}listen(t){return this.socket.fromEvent(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(ue.a))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var fe=i("f0Cb");const _e=["modalActualizarPedido"],ve=["modalReparto"];function Se(t,e){if(1&t){const t=o.Ub();o.Tb(0,"button",20),o.bc("click",function(){return o.tc(t),o.fc().openFullscreen()}),o.Tb(1,"mat-icon"),o.Ec(2,"fullscreen"),o.Sb(),o.Sb()}}function Pe(t,e){if(1&t){const t=o.Ub();o.Tb(0,"button",20),o.bc("click",function(){return o.tc(t),o.fc().closeFullscreen()}),o.Tb(1,"mat-icon"),o.Ec(2,"fullscreen_exit"),o.Sb(),o.Sb()}}function Te(t,e){1&t&&(o.Tb(0,"div"),o.Ob(1,"app-loading",21),o.Sb()),2&t&&(o.Bb(1),o.mc("data",4))}function xe(t,e){if(1&t&&(o.Tb(0,"th",30),o.Ec(1),o.Sb()),2&t){const t=e.$implicit;o.Bb(1),o.Fc(t.EstadoProceso)}}function we(t,e){if(1&t&&(o.Tb(0,"div",40),o.Tb(1,"mat-icon"),o.Ec(2,"update"),o.Sb(),o.Tb(3,"span"),o.Ec(4),o.gc(5,"date"),o.Sb(),o.Sb()),2&t){const t=o.fc().$implicit;o.Bb(4),o.Fc(o.ic(5,1,t.FechaUltimaModificacion,"MMMM d, y, hh:mm a"))}}function Ee(t,e){if(1&t){const t=o.Ub();o.Tb(0,"mat-card",33),o.Tb(1,"div",34),o.Tb(2,"button",35),o.bc("click",function(){o.tc(t);const i=e.$implicit,s=o.fc(3),n=o.rc(27);return s.openBottomSheet(n,i)}),o.Tb(3,"mat-icon"),o.Ec(4,"more_vert"),o.Sb(),o.Sb(),o.Sb(),o.Tb(5,"mat-card-content",36),o.Tb(6,"div",37),o.Tb(7,"b"),o.Ec(8),o.Sb(),o.Ob(9,"br"),o.Tb(10,"span"),o.Ec(11),o.Sb(),o.Sb(),o.Tb(12,"div",38),o.Ec(13),o.gc(14,"truncatePipe"),o.Sb(),o.Sb(),o.Tb(15,"mat-card-actions",39),o.Tb(16,"div",40),o.Tb(17,"mat-icon"),o.Ec(18,"event"),o.Sb(),o.Tb(19,"span"),o.Ec(20),o.gc(21,"date"),o.Sb(),o.Sb(),o.Cc(22,we,6,4,"div",41),o.Sb(),o.Sb()}if(2&t){const t=e.$implicit;o.Bb(8),o.Gc("# Pedido: ",t.IdPedido,""),o.Bb(3),o.Hc("",t.PrimerNombre," ",t.PrimerApellido,""),o.Bb(2),o.Gc(" ",o.ic(14,6,t.DetallePedido,100)," "),o.Bb(7),o.Fc(o.ic(21,9,t.FechaInsercion,"MMMM d, y, hh:mm a")),o.Bb(2),o.mc("ngIf",null!=t.FechaUltimaModificacion)}}const Ce=function(){return["DetallePedido","IdPedido"]};function ye(t,e){if(1&t&&(o.Tb(0,"td",31),o.Cc(1,Ee,23,12,"mat-card",32),o.gc(2,"search"),o.Sb()),2&t){const t=e.$implicit,i=o.fc(2);o.Bb(1),o.mc("ngForOf",o.jc(2,1,t.pedidos,null==i.buscar?null:i.buscar.value,o.nc(5,Ce)))}}function Oe(t,e){if(1&t&&(o.Tb(0,"mat-card",22),o.Tb(1,"mat-card-content",23),o.Tb(2,"div",24),o.Tb(3,"table",25),o.Tb(4,"thead"),o.Tb(5,"tr",26),o.Cc(6,xe,2,1,"th",27),o.gc(7,"async"),o.Sb(),o.Sb(),o.Tb(8,"tbody",28),o.Cc(9,ye,3,6,"td",29),o.gc(10,"async"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb()),2&t){const t=o.fc();o.Bb(6),o.mc("ngForOf",o.hc(7,2,t.seguiminetoPedidos.responsePedidos$)),o.Bb(3),o.mc("ngForOf",o.hc(10,4,t.seguiminetoPedidos.responsePedidos$))}}function De(t,e){if(1&t){const t=o.Ub();o.Tb(0,"a",42),o.bc("click",function(){o.tc(t);const e=o.fc().$implicit;return o.fc(2).cambiarEstado(e)}),o.Tb(1,"span",43),o.Tb(2,"b"),o.Ec(3),o.Sb(),o.Sb(),o.Tb(4,"span",43),o.Ec(5),o.Sb(),o.Sb()}if(2&t){const t=o.fc().$implicit;o.Bb(3),o.Fc(t.EstadoProceso),o.Bb(2),o.Fc(t.Descripcion)}}function Re(t,e){if(1&t&&(o.Rb(0),o.Ob(1,"mat-divider"),o.Cc(2,De,6,2,"a",45),o.Qb()),2&t){const t=e.$implicit,i=o.fc(2);o.Bb(2),o.mc("ngIf",t.id!=i.pedido.IdEstado&&8!=t.id)}}function Ie(t,e){if(1&t){const t=o.Ub();o.Tb(0,"mat-nav-list"),o.Tb(1,"a",42),o.bc("click",function(){o.tc(t);const e=o.fc(),i=o.rc(29);return e.verDetalle(i)}),o.Tb(2,"span",43),o.Tb(3,"b"),o.Ec(4,"Ver Detalle Pedido"),o.Sb(),o.Sb(),o.Tb(5,"span",43),o.Ec(6,"Detalle del pedido"),o.Sb(),o.Sb(),o.Cc(7,Re,3,1,"ng-container",44),o.gc(8,"async"),o.Sb()}if(2&t){const t=o.fc();o.Bb(7),o.mc("ngForOf",o.hc(8,1,t.seguiminetoPedidos.responseEstadoProceso$))}}function Me(t,e){if(1&t&&(o.Tb(0,"div",61),o.Ob(1,"img",62),o.Sb()),2&t){const t=o.fc(2);o.Bb(1),o.mc("src",t.pedido.Url,o.vc)}}function ke(t,e){if(1&t){const t=o.Ub();o.Tb(0,"div",46),o.Tb(1,"button",47),o.Tb(2,"mat-icon"),o.Ec(3,"close"),o.Sb(),o.Sb(),o.Sb(),o.Tb(4,"div",48),o.Ec(5," Detalle Pedido "),o.Sb(),o.Tb(6,"mat-dialog-content",49),o.Tb(7,"div",50),o.Tb(8,"mat-list",51),o.Tb(9,"mat-list-item"),o.Tb(10,"mat-icon",52),o.Ec(11,"local_shipping"),o.Sb(),o.Tb(12,"div",43),o.Ec(13,"Tipo Pedido"),o.Sb(),o.Tb(14,"div",43),o.Ec(15),o.Sb(),o.Sb(),o.Sb(),o.Tb(16,"mat-list",51),o.Tb(17,"mat-list-item"),o.Tb(18,"mat-icon",52),o.Ec(19,"paid"),o.Sb(),o.Tb(20,"div",43),o.Ec(21,"Metodo Pago"),o.Sb(),o.Tb(22,"div",43),o.Ec(23),o.Sb(),o.Sb(),o.Sb(),o.Tb(24,"mat-list",51),o.Tb(25,"mat-list-item"),o.Tb(26,"mat-icon",52),o.Ec(27,"paid"),o.Sb(),o.Tb(28,"div",43),o.Ec(29,"Nombre Reparto"),o.Sb(),o.Tb(30,"div",43),o.Ec(31),o.Sb(),o.Sb(),o.Sb(),o.Tb(32,"mat-list",51),o.Tb(33,"mat-list-item"),o.Tb(34,"mat-icon",52),o.Ec(35,"filter_list"),o.Sb(),o.Tb(36,"div",43),o.Ec(37,"Estado Proceso"),o.Sb(),o.Tb(38,"div",43),o.Ec(39),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(40,"div",50),o.Tb(41,"div",53),o.Tb(42,"mat-form-field",54),o.Tb(43,"mat-label"),o.Ec(44," Detalle Pedido "),o.Sb(),o.Ob(45,"textarea",55),o.Sb(),o.Sb(),o.Tb(46,"div",53),o.Tb(47,"mat-form-field",54),o.Tb(48,"mat-label"),o.Ec(49," Observaci\xf3n "),o.Sb(),o.Ob(50,"textarea",55),o.Sb(),o.Sb(),o.Tb(51,"div",53),o.Tb(52,"mat-form-field",54),o.Tb(53,"mat-label"),o.Ec(54," Observaci\xf3n Cliente"),o.Sb(),o.Ob(55,"textarea",56),o.Sb(),o.Sb(),o.Sb(),o.Tb(56,"div",53),o.Tb(57,"button",57),o.bc("click",function(){return o.tc(t),o.fc().descargarImagen()}),o.Tb(58,"mat-icon"),o.Ec(59,"file_download"),o.Sb(),o.Ec(60," Descargar "),o.Sb(),o.Sb(),o.Cc(61,Me,2,1,"div",58),o.Tb(62,"div",59),o.Tb(63,"button",60),o.Ec(64,"Salir"),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=o.fc();o.Bb(15),o.Fc(t.pedido.TipoPedido),o.Bb(8),o.Fc(t.pedido.MetodoPago),o.Bb(8),o.Fc(t.pedido.NombreReparto||"N/A"),o.Bb(8),o.Fc(t.pedido.EstadoProceso),o.Bb(6),o.mc("formControl",t.detallePedido),o.Bb(5),o.mc("formControl",t.observacion),o.Bb(5),o.mc("formControl",t.observacionCliente),o.Bb(6),o.mc("ngIf",null!=t.pedido.Url)}}function je(t,e){if(1&t){const t=o.Ub();o.Tb(0,"div",46),o.Tb(1,"button",47),o.Tb(2,"mat-icon"),o.Ec(3,"close"),o.Sb(),o.Sb(),o.Sb(),o.Tb(4,"div",48),o.Ec(5," Actualizar Pedido "),o.Sb(),o.Tb(6,"mat-dialog-content",49),o.Tb(7,"div",50),o.Tb(8,"div",53),o.Tb(9,"mat-form-field",54),o.Tb(10,"mat-label"),o.Ec(11," Detalle Pedido "),o.Sb(),o.Ob(12,"textarea",63),o.Sb(),o.Sb(),o.Tb(13,"div",53),o.Tb(14,"mat-form-field",54),o.Tb(15,"mat-label"),o.Ec(16," Observaci\xf3n "),o.Sb(),o.Ob(17,"textarea",64),o.Sb(),o.Sb(),o.Sb(),o.Tb(18,"div",59),o.Tb(19,"button",60),o.Ec(20,"Salir"),o.Sb(),o.Tb(21,"button",57),o.bc("click",function(){return o.tc(t),o.fc().actualizarPedido()}),o.Ec(22,"Guardar"),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=o.fc();o.Bb(12),o.mc("formControl",t.detallePedido),o.Bb(5),o.mc("formControl",t.observacion)}}function Fe(t,e){if(1&t&&(o.Tb(0,"mat-option",68),o.Ec(1),o.Sb()),2&t){const t=e.$implicit;o.mc("value",t.Id),o.Bb(1),o.Fc(t.NombreReparto)}}function Ae(t,e){if(1&t){const t=o.Ub();o.Tb(0,"div",46),o.Tb(1,"button",47),o.Tb(2,"mat-icon"),o.Ec(3,"close"),o.Sb(),o.Sb(),o.Sb(),o.Tb(4,"div",48),o.Ec(5," Seleccionar Repartidor "),o.Sb(),o.Tb(6,"mat-dialog-content",49),o.Tb(7,"div",50),o.Tb(8,"mat-form-field",65),o.Tb(9,"mat-label"),o.Ec(10,"Reparto"),o.Sb(),o.Tb(11,"mat-select",66),o.Cc(12,Fe,2,2,"mat-option",67),o.gc(13,"async"),o.Sb(),o.Tb(14,"mat-hint"),o.Ec(15,"Seleccionar el reparto"),o.Sb(),o.Sb(),o.Sb(),o.Tb(16,"div",59),o.Tb(17,"button",60),o.Ec(18,"Salir"),o.Sb(),o.Tb(19,"button",57),o.bc("click",function(){return o.tc(t),o.fc().actualizarRepartidor()}),o.Ec(20,"Guardar"),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=o.fc();o.Bb(11),o.mc("formControl",t.idReparto),o.Bb(1),o.mc("ngForOf",o.hc(13,2,t.seguiminetoPedidos.responseReparto$))}}const Be=function(){return["/dashboard"]},$e=[{path:"generarPedido",component:k},{path:"listadoPedido",component:Q},{path:"seguimientoPedido",component:(()=>{class t{constructor(t,e,i,o,s,n){this.seguiminetoPedidos=t,this._bottomSheet=e,this.document=i,this.clienteSocket=o,this.toast=s,this.dialog=n,this.fullscreen=!1,this.prueba1=["1","2","3","4"],this.prueba2=["5","6","7","8","9"],this.prueba3=["10","11","12","13","14"],this.prueba4=["15","16","17","18","19"],this.encabezados=["Aperturado","Preparaci\xf3n","Empacando","Despachado","Entregado","Rechazado"],this.buscar=new c.c(""),this.detallePedido=new c.c("",[c.q.required]),this.observacion=new c.c("",[c.q.required]),this.observacionCliente=new c.c({value:"",disabled:!0}),this.idReparto=new c.c("",[c.q.required]),this.seguiminetoPedidos.MostrarSeguimientoPedidos(""),this.seguiminetoPedidos.MostrarEstadosProceso(""),this.clienteSocket.listen("pedido").subscribe(t=>{this.notificarPedido(t)})}ngOnInit(){this.elem=document.documentElement}drop(t){t.previousContainer===t.container?$t(t.container.data,t.previousIndex,t.currentIndex):function(t,e,i,o){const s=zt(i,t.length-1),n=zt(o,e.length);t.length&&e.splice(n,0,t.splice(s,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}openBottomSheet(t,e){this.pedido=e,this._bottomSheet.open(t)}cambiarEstado(t){this.pedido.IdEstado===t.id?this.toast.mensajeWarning("","El pedido ya se encuenta en estado"+this.pedido.EstadoProceso):(this.pedido.idEstado=t.id,t.requiereObservacion?this.modalPedido():5===this.pedido.idEstado?this.openModalRepartidor():this.seguiminetoPedidos.ActualizarEstadoPedidos(this.pedido,t=>{this.seguiminetoPedidos.MostrarSeguimientoPedidos(""),this._bottomSheet.dismiss()}))}openFullscreen(){this.elem.requestFullscreen?this.elem.requestFullscreen():this.elem.mozRequestFullScreen?this.elem.mozRequestFullScreen():this.elem.webkitRequestFullscreen?this.elem.webkitRequestFullscreen():this.elem.msRequestFullscreen&&this.elem.msRequestFullscreen(),this.fullscreen=!0}closeFullscreen(){this.document.exitFullscreen?this.document.exitFullscreen():this.document.mozCancelFullScreen?this.document.mozCancelFullScreen():this.document.webkitExitFullscreen?this.document.webkitExitFullscreen():this.document.msExitFullscreen&&this.document.msExitFullscreen(),this.fullscreen=!1}notificarPedido(t){this.toast.clearToasts(),this.seguiminetoPedidos.agregarPedido(t),new Audio("./assets/audio/timbretimbrecasa.mp3").play(),this.toast.mensajeInfo("Nuevo Pedido","#"+t.IdPedido)}verDetalle(t){this.detallePedido.setValue(this.pedido.DetallePedido||""),this.observacion.setValue(this.pedido.Observacion||""),this.observacionCliente.setValue(this.pedido.observacionCliente),this._bottomSheet.dismiss(),this.dialog.open(t,{width:"80%",panelClass:"app-full-bleed-dialog"})}modalPedido(){this.detallePedido.setValue(this.pedido.DetallePedido||""),this.observacion.setValue(this.pedido.Observacion||""),this.dialog.open(this.modalActualizarPedido,{width:"80%",panelClass:"app-full-bleed-dialog"}),this._bottomSheet.dismiss()}actualizarPedido(){this.observacion.invalid?this.toast.mensajeWarning("","Es requerido ingresar la observaci\xf3n"):(this.pedido.DetallePedido=this.detallePedido.value,this.pedido.Observacion=this.observacion.value,this.seguiminetoPedidos.ActualizarEstadoPedidos(this.pedido,t=>{this.seguiminetoPedidos.MostrarSeguimientoPedidos(""),this._bottomSheet.dismiss(),this.dialog.closeAll()}))}openModalRepartidor(){this.idReparto.setValue(""),this.seguiminetoPedidos.MostrarReparto("0"),this.dialog.open(this.modalRepartidor,{width:"40vw",panelClass:"app-full-bleed-dialog"}),this._bottomSheet.dismiss()}actualizarRepartidor(){if(this.idReparto.invalid)return this.toast.mensajeWarning("","Es requerido seleccionar un repartidor"),void this.idReparto.markAllAsTouched();this.pedido.IdReparto=this.idReparto.value,this.seguiminetoPedidos.ActualizarEstadoPedidos(this.pedido,t=>{!1===t.hasError&&(this.seguiminetoPedidos.MostrarSeguimientoPedidos(""),this._bottomSheet.dismiss(),this.dialog.closeAll())})}descargarImagen(){window.open(this.pedido.Url)}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(Yt),o.Nb(me),o.Nb(s.d),o.Nb(ge),o.Nb(d.a),o.Nb($.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-seguimiento-pedidos"]],viewQuery:function(t,e){if(1&t&&(o.yc(_e,!0),o.yc(ve,!0)),2&t){let t;o.qc(t=o.cc())&&(e.modalActualizarPedido=t.first),o.qc(t=o.cc())&&(e.modalRepartidor=t.first)}},decls:34,vars:13,consts:[[1,"navigation"],["aria-label","breadcrumb"],[1,"breadcrumb",2,"background-color","white !important"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"content"],[1,"titleNav"],[2,"font-size","2rem","font-weight","800","letter-spacing","-.025em!important","line-height","2.5rem!important","text-overflow","ellipsis!important"],[1,"text-right","action"],[2,"margin-right","5px"],["mat-mini-fab","","class","buttonSecundary",3,"click",4,"ngIf"],["appearance","outline",2,"width","100%"],["matInput","","type","text","placeholder","Buscar","autocomplete","off",3,"formControl"],["matPrefix",""],[4,"ngIf"],["class","tarjetaSeguimiento  mt-2",4,"ngIf"],["Estados",""],["DetallePedido",""],["modalActualizarPedido",""],["modalReparto",""],["mat-mini-fab","",1,"buttonSecundary",3,"click"],[3,"data"],[1,"tarjetaSeguimiento","mt-2"],[1,"seguimiento"],[1,"tableFixHead"],["role","table","id","table",1,"table"],[1,"text-center"],["class","text-center","style","width: 20%;",4,"ngFor","ngForOf"],["id","tableBodyActivos"],["class","columna text-center","style","width: 20%;",4,"ngFor","ngForOf"],[1,"text-center",2,"width","20%"],[1,"columna","text-center",2,"width","20%"],["class","tarjeta col-md-12 mt-2",4,"ngFor","ngForOf"],[1,"tarjeta","col-md-12","mt-2"],[2,"float","right","z-index","1","margin-right","5px"],["mat-mini-fab","",1,"buttonView",3,"click"],[2,"padding","5px !important"],[2,"letter-spacing","-0.025em !important","line-height","2rem !important","font-weight","600 !important","text-align","left"],[2,"letter-spacing","-0.025em !important","font-weight","500 !important","color","rgba(100, 116, 139, 1)","text-align","justify","overflow","scroll","max-height","320px"],[2,"padding","5px"],[1,"text-left",2,"display","flex","align-items","center","font-size","12px"],["class","text-left","style","display: flex; align-items: center; font-size: 12px;",4,"ngIf"],["mat-list-item","",3,"click"],["mat-line",""],[4,"ngFor","ngForOf"],["mat-list-item","",3,"click",4,"ngIf"],[2,"float","right","z-index","1"],["mat-mini-fab","","mat-dialog-close","",1,"buttonView"],[1,"matCardHeader"],[1,"mat-typography"],[1,"row"],[1,"col-md-4"],["mat-list-icon",""],[1,"col-md-12","mt-2"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Detalle Pedido","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off","readonly","",3,"formControl"],["matInput","","placeholder","Observaci\xf3n Cliente","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off",3,"formControl"],["mat-raised-button","",1,"button-principal",3,"click"],["class","col-md-12 mt-2","style","display: flex; justify-content: center; align-items: center;",4,"ngIf"],[1,"text-right"],["mat-button","","mat-dialog-close",""],[1,"col-md-12","mt-2",2,"display","flex","justify-content","center","align-items","center"],[1,"imagePedido",3,"src"],["matInput","","placeholder","Detalle Pedido","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off",3,"formControl"],["matInput","","placeholder","Observaci\xf3n","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off",3,"formControl"],["appearance","outline",1,"col-md-12","mt-2"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(o.Tb(0,"div",0),o.Tb(1,"nav",1),o.Tb(2,"ol",2),o.Tb(3,"li",3),o.Tb(4,"a",4),o.Ec(5,"Inicio"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(6,"div",5),o.Tb(7,"div",6),o.Tb(8,"h2",7),o.Ec(9," Seguimiento Pedidos "),o.Sb(),o.Sb(),o.Tb(10,"div",8),o.Tb(11,"div",9),o.Cc(12,Se,3,0,"button",10),o.Cc(13,Pe,3,0,"button",10),o.Sb(),o.Tb(14,"mat-form-field",11),o.Tb(15,"mat-label"),o.Ec(16,"Buscar"),o.Sb(),o.Ob(17,"input",12),o.Tb(18,"span",13),o.Tb(19,"mat-icon"),o.Ec(20,"search"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Cc(21,Te,2,1,"div",14),o.gc(22,"async"),o.Cc(23,Oe,11,6,"mat-card",15),o.gc(24,"async"),o.gc(25,"async"),o.Cc(26,Ie,9,3,"ng-template",null,16,o.Dc),o.Cc(28,ke,65,8,"ng-template",null,17,o.Dc),o.Cc(30,je,23,2,"ng-template",null,18,o.Dc),o.Cc(32,Ae,21,4,"ng-template",null,19,o.Dc)),2&t&&(o.Bb(4),o.mc("routerLink",o.nc(12,Be)),o.Bb(8),o.mc("ngIf",!e.fullscreen),o.Bb(1),o.mc("ngIf",e.fullscreen),o.Bb(4),o.mc("formControl",e.buscar),o.Bb(4),o.mc("ngIf",o.hc(22,6,e.seguiminetoPedidos.responseCargando$)),o.Bb(2),o.mc("ngIf",!o.hc(24,8,e.seguiminetoPedidos.responseCargando$)&&o.hc(25,10,e.seguiminetoPedidos.responsePedidos$).length>0))},directives:[a.i,s.l,_.b,_.f,P.a,c.b,c.k,c.d,_.g,E.a,w.a,z.a,f.a,f.d,s.k,f.b,L.e,L.c,x.h,fe.a,$.b,$.c,L.a,L.b,T.b,v.a,_.e,x.j],pipes:[s.b,H.a,V.a,s.e],styles:[".example-container[_ngcontent-%COMP%]{width:400px;max-width:100%;margin:0 25px 25px 0;display:inline-block;vertical-align:top}.example-list[_ngcontent-%COMP%]{border:1px solid #ccc;min-height:60px;background:#fff;border-radius:4px;overflow:hidden;display:block}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:#fff;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.tarjetaSeguimiento[_ngcontent-%COMP%]{background-color:transparent!important;box-shadow:none!important}.seguimiento[_ngcontent-%COMP%]   .columna[_ngcontent-%COMP%]{vertical-align:top!important;padding:10px!important}.seguimiento[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]{background-color:#f5f5f5;height:45px;margin-bottom:5px!important;align-items:center;font-size:15px;white-space:nowrap;padding:0}.seguimiento[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:auto!important}.seguimiento[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%], .seguimiento[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   ng-deep[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]{padding:0!important}.seguimiento[_ngcontent-%COMP%]   .tarjeta[_ngcontent-%COMP%]{border-right:8px solid red}.seguimiento[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-right:1px solid #ccc}.seguimiento[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#f3f3f3!important}.tableFixHead[_ngcontent-%COMP%]{max-height:75vh!important}.imagePedido[_ngcontent-%COMP%]{width:30vw;height:30vh}"]}),t})()}];let ze=(()=>{class t{}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},imports:[[a.j.forChild($e)],a.j]}),t})();var Ne=i("Qvjp"),Le=i("Xa2L"),He=i("PCNd");Object(s.w)(r.a);let Ve=(()=>{class t{}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},providers:[{provide:o.v,useValue:"es-HN"}],imports:[[s.c,ze,_.d,E.b,P.b,w.b,f.f,c.o,v.b,Ne.a,N.c,Le.a,Wt,L.d,He.a,he,$.d,S.b]]}),t})()},"y/n1":function(t,e,i){var o,s,n;!function(r){if("object"==typeof t.exports){var a=r(0,e);void 0!==a&&(t.exports=a)}else s=[i,e],void 0===(n="function"==typeof(o=r)?o.apply(e,s):o)||(t.exports=n)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=void 0;e.default=["es-HN",[["a.\xa0m.","p.\xa0m."],i,i],i,[["d","l","m","m","j","v","s"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["D","L","M","M","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],i,[["a. C.","d. C."],i,["antes de Cristo","despu\xe9s de Cristo"]],0,[6,0],["d/M/yy","d MMM y","dd 'de' MMMM 'de' y","EEEE dd 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",i,"{1} 'a' 'las' {0}",i],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4#,##0.00","#E0"],"HNL","L","lempira hondure\xf1o",{AUD:[i,"$"],BRL:[i,"R$"],CAD:[i,"$"],CNY:[i,"\xa5"],ESP:["\u20a7"],EUR:[i,"\u20ac"],FKP:[i,"FK\xa3"],GBP:[i,"\xa3"],HKD:[i,"$"],HNL:["L"],ILS:[i,"\u20aa"],INR:[i,"\u20b9"],JPY:[i,"\xa5"],KRW:[i,"\u20a9"],MXN:[i,"$"],NZD:[i,"$"],RON:[i,"L"],SSP:[i,"SD\xa3"],SYP:[i,"S\xa3"],TWD:[i,"NT$"],USD:[i,"$"],VEF:[i,"BsF"],VND:[i,"\u20ab"],XAF:[],XCD:[i,"$"],XOF:[]},"ltr",function(t){return 1===t?1:5}]})}}]);