(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"1khV":function(t,e,i){"use strict";i.r(e),i.d(e,"PedidosModule",function(){return Le});var o=i("SVse"),s=i("iInd"),n=i("s7LF"),r=i("8Y7J"),a=i("XmJO"),c=i("2Vo4"),d=i("EY2u"),l=i("vkgz"),h=i("JIr8"),b=i("etbh"),p=i("V1yj");let m=(()=>{class t{constructor(t,e){this.dataApi=t,this._mensajesHttp=e,this.Cargando$=new c.a(!1),this.responseCargando$=this.Cargando$.asObservable(),this.TipoPedidos$=new c.a([]),this.responseTipoPedidos$=this.TipoPedidos$.asObservable(),this.MetodosPago$=new c.a([]),this.responseMetodosPago$=this.MetodosPago$.asObservable()}MostrarTipoPedidos(t){return this.Cargando$.next(!0),this.TipoPedidos$.next([]),this.dataApi.GetDataApi("mantenimiento/tipoPedido/",t).pipe(Object(l.a)(t=>{this.Cargando$.next(!1),this.TipoPedidos$.next(t.data.Table0)}),Object(h.a)(t=>(this.Cargando$.next(!1),this.TipoPedidos$.next([]),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al mostrar los tipos de pedidos",""),d.a))).subscribe()}MostrarMetodosPago(t){return this.Cargando$.next(!0),this.MetodosPago$.next([]),this.dataApi.GetDataApi("mantenimiento/metodoPago/",t).pipe(Object(l.a)(t=>{this.Cargando$.next(!1),this.MetodosPago$.next(t.data.Table0)}),Object(h.a)(t=>(this.Cargando$.next(!1),this.MetodosPago$.next([]),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al mostrar los metodos de pago",""),d.a))).subscribe()}InsertarPedido(t,e){return this.Cargando$.next(!0),this.dataApi.PostDataApi("pedido/pedido/",t).pipe(Object(l.a)(t=>{e(t)}),Object(h.a)(t=>(this.Cargando$.next(!1),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al ingresar el pedido",""),d.a))).subscribe()}InsertarArchivoAdjunto(t,e){return this.Cargando$.next(!0),this.dataApi.PostDataApi("mantenimiento/adjunto/",t).pipe(Object(l.a)(t=>{e(t)}),Object(h.a)(t=>(this.Cargando$.next(!1),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al insertar el adjunto",""),d.a))).subscribe()}cargarArchivo(t,e){return this.Cargando$.next(!0),this.dataApi.PostDataApi("adjuntos/cargarArchivos/",t).pipe(Object(l.a)(t=>{e(t)}),Object(h.a)(t=>(this.Cargando$.next(!1),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al cargar el archivo",""),d.a))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(b.a),r.Xb(p.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=i("Wp6s"),g=i("kmnG"),_=i("d3UM"),f=i("1jcm"),v=i("qFsG"),S=i("ihCf"),P=i("FKr1"),T=i("bTqV"),x=i("NFeN");function w(t,e){if(1&t&&(r.Tb(0,"mat-option",29),r.Ec(1),r.Sb()),2&t){const t=e.$implicit;r.mc("value",t.Id),r.Bb(1),r.Fc(t.TipoPedido)}}function E(t,e){if(1&t&&(r.Tb(0,"mat-option",29),r.Ec(1),r.Sb()),2&t){const t=e.$implicit;r.mc("value",t.Id),r.Bb(1),r.Fc(t.MetodoPago)}}function C(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",10),r.Tb(1,"div",30),r.bc("click",function(){return r.tc(t),r.rc(5).click()}),r.Tb(2,"h3",31),r.Ec(3),r.Sb(),r.Tb(4,"input",32,33),r.bc("change",function(e){return r.tc(t),r.fc().onFileSelect(e)}),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.fc();r.Bb(3),r.Gc(" ",t.nombreArchivo||"Seleccionar archivo"," ")}}function y(t,e){1&t&&r.Ob(0,"img",34)}function O(t,e){if(1&t&&r.Ob(0,"img",35),2&t){const t=r.fc();r.mc("src",t.cardImageBase64,r.vc)}}function D(t,e){if(1&t){const t=r.Ub();r.Tb(0,"button",36),r.bc("click",function(){return r.tc(t),r.fc().enviarPedido()}),r.Tb(1,"mat-icon"),r.Ec(2,"send"),r.Sb(),r.Ec(3," Enviar Pedido "),r.Sb()}}const R=function(){return["/dashboard"]};let I=(()=>{class t{constructor(t,e,i){this.toast=t,this.generarPedidoFacade=e,this.router=i,this.pagoRealizado=new n.c(!1),this.fileForm=new n.c("",[n.q.required]),this.url="",this.selectFile=null,this.generarPedidoFacade.MostrarTipoPedidos("0"),this.generarPedidoFacade.MostrarMetodosPago("0"),this.pedidosForm=new n.f({IdPedido:new n.c("0"),IdTipoPedido:new n.c("",[n.q.required]),IdMetodoPago:new n.c("",[n.q.required]),IdReparto:new n.c(null),IdUsuario:new n.c(null),DetallePedido:new n.c("",[n.q.required]),Observacion:new n.c(""),ObservacionCliente:new n.c(""),usuario:new n.c(""),idEstado:new n.c(1)})}ngOnInit(){}enviarPedido(){if(this.pedidosForm.invalid)return this.pedidosForm.markAllAsTouched(),void this.toast.mensajeWarning("","Debe de ingresar los campos marcados como requeridos");this.formData=new FormData,this.generarPedidoFacade.InsertarPedido(this.pedidosForm.value,t=>{if(!1===t.hasError)if(1==this.pagoRealizado.value){if(this.pedidosForm.invalid)return void this.toast.mensajeWarning("","Es requerido cargar el voucher de pago");this.formData.append("archivo",this.fileForm.value),this.generarPedidoFacade.cargarArchivo(this.formData,e=>{!1===e.hasError&&(this.formAdjunto=new n.f({id:new n.c(0),idPedido:new n.c(t.data.Table0[0].IdPedido),nombreAdjunto:new n.c(this.nombreArchivo||""),url:new n.c(e.data.url),extension:new n.c(this.nombreArchivo.substring(this.nombreArchivo.indexOf("."),this.nombreArchivo.length)),idEstado:new n.c(null)}),this.generarPedidoFacade.InsertarArchivoAdjunto(this.formAdjunto.value,t=>{!1===t.hasError&&(this.toast.mensajeSuccess("","Su pedido fue generado con exito"),this.router.navigateByUrl("cliente/listadoPedido"))}))})}else this.toast.mensajeSuccess("","Su pedido fue generado con exito"),this.router.navigateByUrl("cliente/listadoPedido")})}onFileSelect(t){if(t.target.files.length>0&&this.fileForm.setValue(t.target.files[0]),this.imageError=null,t.target.files&&t.target.files[0]){this.nombreArchivo=t.target.files[0].name;const e=20971520,i=15200,o=25600;if(t.target.files[0].size>e)return this.imageError="Maximum size allowed is "+e/1e3+"Mb",!1;const s=new FileReader;s.onload=t=>{const e=new Image;e.src=t.target.result,this.foto=e.src,e.onload=e=>{if(e.currentTarget.height>i&&e.currentTarget.width>o)return this.imageError="Maximum dimentions allowed "+i+"*"+o+"px",!1;{const e=t.target.result;this.cardImageBase64=e,this.isImageSaved=!0,this.selectFile=e}return this.selectFile}},s.readAsDataURL(t.target.files[0])}return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(a.a),r.Nb(m),r.Nb(s.f))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-generar-pedido"]],decls:57,vars:16,consts:[[1,"navigation"],["aria-label","breadcrumb"],[1,"breadcrumb",2,"background-color","white !important"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"content"],[1,"titleNav"],[2,"font-size","2rem","font-weight","800","letter-spacing","-.025em!important","line-height","2.5rem!important","text-overflow","ellipsis!important"],[1,"text-right","action"],[1,"matCardPersonalizada","col-lg-12","col-md-12","col-sm-12"],[1,"mt-2"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],["appearance","outline",1,"col-md-12","mt-2"],["formControlName","IdTipoPedido","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","IdMetodoPago","required",""],[1,"col-md-12","mt-2"],[3,"formControl"],["class","mt-2",4,"ngIf"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Detalle Pedido","formControlName","DetallePedido","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off","required",""],["matInput","","placeholder","Observaci\xf3n Cliente","formControlName","ObservacionCliente","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off"],[1,"col-md-6",2,"display","flex","justify-content","center","align-items","center"],["src","./assets/images/Pedidos/undraw_order_delivered_re_v4ab.svg","class","imagePedido",4,"ngIf"],["class","imagePedido",3,"src",4,"ngIf"],[1,"text-right"],["mat-raised-button","","class","buttonPrincipal",3,"click",4,"ngIf"],[3,"value"],[1,"uploadfilecontainer",2,"display","flex","justify-content","center","align-items","center",3,"click"],[1,"p-2","text-center"],["type","file","hidden","","required","",3,"change"],["fileInput",""],["src","./assets/images/Pedidos/undraw_order_delivered_re_v4ab.svg",1,"imagePedido"],[1,"imagePedido",3,"src"],["mat-raised-button","",1,"buttonPrincipal",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"nav",1),r.Tb(2,"ol",2),r.Tb(3,"li",3),r.Tb(4,"a",4),r.Ec(5,"Inicio"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h2",7),r.Ec(9," Generar pedido "),r.Sb(),r.Sb(),r.Ob(10,"div",8),r.Sb(),r.Sb(),r.Tb(11,"div",9),r.Tb(12,"mat-card",10),r.Tb(13,"mat-card-header"),r.Tb(14,"mat-card-title"),r.Ec(15,"Ingresar el detalle del pedido"),r.Sb(),r.Sb(),r.Tb(16,"mat-card-content"),r.Tb(17,"form",11),r.Tb(18,"div",12),r.Tb(19,"div",13),r.Tb(20,"mat-form-field",14),r.Tb(21,"mat-label"),r.Ec(22,"Tipo Pedido"),r.Sb(),r.Tb(23,"mat-select",15),r.Cc(24,w,2,2,"mat-option",16),r.gc(25,"async"),r.Sb(),r.Tb(26,"mat-hint"),r.Ec(27,"Seleccionar el tipo de pedido"),r.Sb(),r.Sb(),r.Tb(28,"mat-form-field",14),r.Tb(29,"mat-label"),r.Ec(30,"Metodo Pago"),r.Sb(),r.Tb(31,"mat-select",17),r.Cc(32,E,2,2,"mat-option",16),r.gc(33,"async"),r.Sb(),r.Tb(34,"mat-hint"),r.Ec(35,"Seleccionar el metodo de pago"),r.Sb(),r.Sb(),r.Tb(36,"div",18),r.Tb(37,"mat-slide-toggle",19),r.Ec(38,"\xbfPago realizado?"),r.Sb(),r.Cc(39,C,6,1,"div",20),r.Sb(),r.Tb(40,"div",18),r.Tb(41,"mat-form-field",21),r.Tb(42,"mat-label"),r.Ec(43," Detalle Pedido "),r.Sb(),r.Ob(44,"textarea",22),r.Sb(),r.Sb(),r.Tb(45,"div",18),r.Tb(46,"mat-form-field",21),r.Tb(47,"mat-label"),r.Ec(48," Observaci\xf3n Cliente "),r.Sb(),r.Ob(49,"textarea",23),r.Sb(),r.Sb(),r.Sb(),r.Tb(50,"div",24),r.Cc(51,y,1,0,"img",25),r.Cc(52,O,1,1,"img",26),r.Sb(),r.Sb(),r.Sb(),r.Tb(53,"div",27),r.Cc(54,D,4,0,"button",28),r.gc(55,"async"),r.Sb(),r.Sb(),r.Ob(56,"mat-card-actions"),r.Sb(),r.Sb()),2&t&&(r.Bb(4),r.mc("routerLink",r.nc(15,R)),r.Bb(13),r.mc("formGroup",e.pedidosForm),r.Bb(7),r.mc("ngForOf",r.hc(25,9,e.generarPedidoFacade.responseTipoPedidos$)),r.Bb(8),r.mc("ngForOf",r.hc(33,11,e.generarPedidoFacade.responseMetodosPago$)),r.Bb(5),r.mc("formControl",e.pagoRealizado),r.Bb(2),r.mc("ngIf",e.pagoRealizado.value),r.Bb(12),r.mc("ngIf",!e.isImageSaved),r.Bb(1),r.mc("ngIf",e.isImageSaved),r.Bb(2),r.mc("ngIf",!r.hc(55,13,e.generarPedidoFacade.responseCargando$)))},directives:[s.i,u.a,u.e,u.h,u.d,n.r,n.l,n.g,g.b,g.f,_.a,n.k,n.e,n.p,o.k,g.e,f.a,n.d,o.l,v.a,n.b,S.b,u.b,P.j,T.a,x.a],pipes:[o.b],styles:[".imagePedido[_ngcontent-%COMP%]{width:30vw;height:30vh}@media (max-width:800px){.imagePedido[_ngcontent-%COMP%]{display:none}}.uploadfilecontainer[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:100px;background-position:50%;height:100px;width:50%;margin:20px auto;border:2px dashed #1c8adb;border-radius:10px}.uploadfilecontainer[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#9ecbec!important;opacity:.8}"]}),t})();var k=i("PSD3"),j=i.n(k);let M=(()=>{class t{constructor(t,e,i){this.dataApi=t,this.toast=e,this._mensajesHttp=i,this.Cargando$=new c.a(!1),this.responseCargando$=this.Cargando$.asObservable(),this.Pedidos$=new c.a([]),this.responsePedidos$=this.Pedidos$.asObservable()}MostrarPedidos(t){return this.Cargando$.next(!0),this.Pedidos$.next([]),this.dataApi.GetDataApi("pedido/pedido/usuario/",t).pipe(Object(l.a)(t=>{this.Cargando$.next(!1),this.Pedidos$.next(t.data.Table0)}),Object(h.a)(t=>(this.Cargando$.next(!1),this.Pedidos$.next([]),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al mostrar los pedidos",""),d.a))).subscribe()}ActualizarPedido(t,e){return this.Cargando$.next(!0),this.dataApi.PutDataApi("pedido/pedido/",t).pipe(Object(l.a)(t=>{e(t)}),Object(h.a)(t=>(this.Cargando$.next(!1),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al actualizar el pedido",""),d.a))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(b.a),r.Xb(a.a),r.Xb(p.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),F=(()=>{class t{constructor(){this.DataPaginator=new c.a({desde:0,hasta:0,itemPagina:0,pageIndex:0,totalItem:0}),this.responseDataPaginator=this.DataPaginator.asObservable()}cambiarValor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var A=i("0IaG"),B=i("Frqi"),$=i("M9IT"),z=i("MutI"),L=i("8hG2"),N=i("0fZQ");function H(t,e){1&t&&(r.Tb(0,"div"),r.Ob(1,"app-loading",18),r.Sb()),2&t&&(r.Bb(1),r.mc("data",4))}function q(t,e){1&t&&(r.Tb(0,"div",19),r.Ec(1," No hay pedidos para listar "),r.Sb())}function V(t,e){if(1&t){const t=r.Ub();r.Tb(0,"tr",28),r.Tb(1,"td",29),r.Tb(2,"button",30),r.bc("click",function(){r.tc(t);const i=e.$implicit,o=r.fc(2),s=r.rc(29);return o.openDialog(s,i)}),r.Tb(3,"mat-icon"),r.Ec(4,"visibility"),r.Sb(),r.Sb(),r.Tb(5,"button",31),r.bc("click",function(){r.tc(t);const i=e.$implicit;return r.fc(2).cancelarPedido(i)}),r.Tb(6,"mat-icon"),r.Ec(7,"remove_shopping_cart"),r.Sb(),r.Sb(),r.Sb(),r.Tb(8,"td",32),r.Ec(9),r.Sb(),r.Tb(10,"td",33),r.Ec(11),r.Sb(),r.Tb(12,"td",34),r.Ec(13),r.Sb(),r.Tb(14,"td",35),r.Ec(15),r.gc(16,"truncatePipe"),r.Sb(),r.Tb(17,"td",36),r.Ec(18),r.Sb(),r.Tb(19,"td",37),r.Ec(20),r.Sb(),r.Tb(21,"td",38),r.Ec(22),r.gc(23,"date"),r.Sb(),r.Tb(24,"td",39),r.Ec(25),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit;r.Bb(9),r.Gc(" ",t.IdPedido," "),r.Bb(2),r.Gc(" ",t.TipoPedido," "),r.Bb(2),r.Gc(" ",t.MetodoPago," "),r.Bb(2),r.Gc(" ",r.ic(16,8,t.DetallePedido,100)," "),r.Bb(3),r.Gc(" ",t.Observacion," "),r.Bb(2),r.Gc(" ",t.NombreReparto," "),r.Bb(2),r.Gc(" ",r.ic(23,11,t.FechaInsercion,"yyyy-MM-dd"),""),r.Bb(3),r.Gc(" ",t.EstadoProceso," ")}}const G=function(){return["IdPedido","DetallePedido"]};function U(t,e){if(1&t){const t=r.Ub();r.Tb(0,"mat-card",20),r.Tb(1,"mat-card-content"),r.Tb(2,"div"),r.Tb(3,"table",21),r.Tb(4,"thead",22),r.Tb(5,"tr",23),r.Ob(6,"th",24),r.Tb(7,"th",24),r.Ec(8,"Codigo Pedido"),r.Sb(),r.Tb(9,"th",24),r.Ec(10,"Tipo Pedido"),r.Sb(),r.Tb(11,"th",24),r.Ec(12,"Metodo Pago"),r.Sb(),r.Tb(13,"th",24),r.Ec(14,"Detalle Pedido"),r.Sb(),r.Tb(15,"th",24),r.Ec(16,"Observaci\xf3n"),r.Sb(),r.Tb(17,"th",24),r.Ec(18,"Nombre Reparto"),r.Sb(),r.Tb(19,"th",24),r.Ec(20,"Fecha Ingreso"),r.Sb(),r.Tb(21,"th",24),r.Ec(22,"Estado"),r.Sb(),r.Sb(),r.Sb(),r.Tb(23,"tbody",25),r.Cc(24,V,26,14,"tr",26),r.gc(25,"slice"),r.gc(26,"search"),r.gc(27,"async"),r.Sb(),r.Sb(),r.Tb(28,"mat-paginator",27),r.bc("page",function(e){return r.tc(t),r.fc().next(e)}),r.gc(29,"async"),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.fc();r.Bb(24),r.mc("ngForOf",r.jc(25,3,r.jc(26,7,r.hc(27,11,t.listarPedidosFacade.responsePedidos$),null==t.buscar?null:t.buscar.value,r.nc(15,G)),t.desde,t.hasta)),r.Bb(4),r.mc("length",r.hc(29,13,t.listarPedidosFacade.responsePedidos$).length)("pageSize",t.pageSize)}}function X(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",13),r.Tb(1,"button",57),r.bc("click",function(){return r.tc(t),r.fc(2).descargarImagen()}),r.Tb(2,"mat-icon"),r.Ec(3,"file_download"),r.Sb(),r.Ec(4," Descargar "),r.Sb(),r.Sb()}}function Z(t,e){if(1&t&&(r.Tb(0,"div",58),r.Ob(1,"img",59),r.Sb()),2&t){const t=r.fc(2);r.Bb(1),r.mc("src",t.pedido.Url,r.vc)}}function J(t,e){if(1&t&&(r.Tb(0,"div",40),r.Tb(1,"button",41),r.Tb(2,"mat-icon"),r.Ec(3,"close"),r.Sb(),r.Sb(),r.Sb(),r.Tb(4,"div",42),r.Ec(5," Detalle Pedido "),r.Sb(),r.Tb(6,"mat-dialog-content",43),r.Tb(7,"div",44),r.Tb(8,"mat-list",45),r.Tb(9,"mat-list-item"),r.Tb(10,"mat-icon",46),r.Ec(11,"local_shipping"),r.Sb(),r.Tb(12,"div",47),r.Ec(13,"Tipo Pedido"),r.Sb(),r.Tb(14,"div",47),r.Ec(15),r.Sb(),r.Sb(),r.Sb(),r.Tb(16,"mat-list",45),r.Tb(17,"mat-list-item"),r.Tb(18,"mat-icon",46),r.Ec(19,"paid"),r.Sb(),r.Tb(20,"div",47),r.Ec(21,"Metodo Pago"),r.Sb(),r.Tb(22,"div",47),r.Ec(23),r.Sb(),r.Sb(),r.Sb(),r.Tb(24,"mat-list",45),r.Tb(25,"mat-list-item"),r.Tb(26,"mat-icon",46),r.Ec(27,"paid"),r.Sb(),r.Tb(28,"div",47),r.Ec(29,"Nombre Reparto"),r.Sb(),r.Tb(30,"div",47),r.Ec(31),r.Sb(),r.Sb(),r.Sb(),r.Tb(32,"mat-list",45),r.Tb(33,"mat-list-item"),r.Tb(34,"mat-icon",46),r.Ec(35,"filter_list"),r.Sb(),r.Tb(36,"div",47),r.Ec(37,"Estado Proceso"),r.Sb(),r.Tb(38,"div",47),r.Ec(39),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(40,"div",44),r.Tb(41,"div",48),r.Tb(42,"mat-form-field",49),r.Tb(43,"mat-label"),r.Ec(44," Detalle Pedido "),r.Sb(),r.Ob(45,"textarea",50),r.Sb(),r.Sb(),r.Tb(46,"div",48),r.Tb(47,"mat-form-field",49),r.Tb(48,"mat-label"),r.Ec(49," Observaci\xf3n "),r.Sb(),r.Ob(50,"textarea",51),r.Sb(),r.Sb(),r.Tb(51,"div",48),r.Tb(52,"mat-form-field",49),r.Tb(53,"mat-label"),r.Ec(54," Observaci\xf3n Cliente"),r.Sb(),r.Ob(55,"textarea",52),r.Sb(),r.Sb(),r.Sb(),r.Cc(56,X,5,0,"div",53),r.Cc(57,Z,2,1,"div",54),r.Tb(58,"div",55),r.Tb(59,"button",56),r.Ec(60,"Salir"),r.Sb(),r.Sb(),r.Sb()),2&t){const t=r.fc();r.Bb(15),r.Fc(t.pedido.TipoPedido),r.Bb(8),r.Fc(t.pedido.MetodoPago),r.Bb(8),r.Fc(t.pedido.NombreReparto||"N/A"),r.Bb(8),r.Fc(t.pedido.EstadoProceso),r.Bb(6),r.mc("formControl",t.detallePedido),r.Bb(5),r.mc("formControl",t.observacion),r.Bb(5),r.mc("formControl",t.observacionCliente),r.Bb(1),r.mc("ngIf",null!=t.pedido.Url),r.Bb(1),r.mc("ngIf",null!=t.pedido.Url)}}const W=function(){return["/dashboard"]};let Y=(()=>{class t{constructor(t,e,i,o){this.listarPedidosFacade=t,this.paginatorService=e,this.dialog=i,this.toast=o,this.buscar=new n.c(""),this.pageSize=10,this.page=0,this.pageIndex=0,this.desde=0,this.hasta=10,this.detallePedido=new n.c({value:"",disabled:!0}),this.observacion=new n.c({value:"",disabled:!0}),this.observacionCliente=new n.c({value:"",disabled:!0}),this.listarPedidosFacade.MostrarPedidos("0")}ngOnInit(){}next(t){t.pageIndex===this.pageIndex+1?(this.desde=this.desde+this.pageSize,this.hasta=this.hasta+this.pageSize):t.pageIndex===this.pageIndex-1&&(this.desde=this.desde-this.pageSize,this.hasta=this.hasta-this.pageSize),this.pageIndex=t.pageIndex}openDialog(t,e){this.pedido=e,this.detallePedido.setValue(this.pedido.DetallePedido||""),this.observacion.setValue(this.pedido.Observacion||""),this.observacionCliente.setValue(this.pedido.observacionCliente||""),this.dialog.open(t,{panelClass:"app-full-bleed-dialog",width:"90%",disableClose:!0})}descargarImagen(){window.open(this.pedido.Url)}cancelarPedido(t){j.a.fire({title:"Confirmaci\xf3n",html:" <p> \xbfEsta seguro que quiere cancelar el pedido ? </p>",icon:"question",showCancelButton:!0,confirmButtonColor:"#003399",cancelButtonColor:"#d33",confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&(t.idEstado=8,t.IdPedido=t.IdPedido,this.listarPedidosFacade.ActualizarPedido(t,t=>{!1===t.hasError&&this.listarPedidosFacade.MostrarPedidos("0")}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(M),r.Nb(F),r.Nb(A.a),r.Nb(a.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-listar-pedidos"]],decls:30,vars:16,consts:[[1,"navigation"],["aria-label","breadcrumb"],[1,"breadcrumb",2,"background-color","white !important"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"content"],[1,"titleNav"],[2,"font-size","2rem","font-weight","800","letter-spacing","-.025em!important","line-height","2.5rem!important","text-overflow","ellipsis!important"],[1,"text-right","action"],["appearance","outline",2,"width","100%"],["matInput","","type","text","placeholder","Buscar","autocomplete","off",3,"formControl"],["matPrefix",""],[4,"ngIf"],[1,"col-md-12"],[2,"display","flex","justify-content","center","align-items","center"],["class","alert alert-primary text-center mt-4","role","alert","style","width: 50%;",4,"ngIf"],["class","matCardPersonalizada mt-2",4,"ngIf"],["DetallePedido",""],[3,"data"],["role","alert",1,"alert","alert-primary","text-center","mt-4",2,"width","50%"],[1,"matCardPersonalizada","mt-2"],["role","table",1,"table","bordeTabla","tablep"],[1,"theadp"],[1,"trp","bg-success","text-center"],["scope","col ","role","columnheader ",1,"thp","text-center"],["role","rowgroup ",1,"tbodyp"],["class","text-center trp ","role","row ",4,"ngFor","ngForOf"],[3,"length","pageSize","page"],["role","row ",1,"text-center","trp"],["role","cell ","data-title","#",1,"tdp","text-center"],["mat-mini-fab","",1,"buttonView",3,"click"],["mat-mini-fab","",1,"btnDelete",3,"click"],["role","cell ","data-title","Codigo Pedido",1,"tdp","text-center"],["role","cell ","data-title","Tipo Pedido",1,"tdp","text-center"],["role","cell ","data-title","Metodo Pago",1,"tdp","text-center"],["role","cell ","data-title","Detalle Pedido",1,"tdp","text-justify"],["role","cell ","data-title","Observaci\xf3n",1,"tdp","text-justify"],["role","cell ","data-title","Nombre Reparto",1,"tdp","text-center"],["role","cell ","data-title","Fecha Ingreso",1,"tdp","text-center"],["role","cell ","data-title","Estado",1,"tdp","text-center"],[2,"float","right","z-index","1"],["mat-mini-fab","","mat-dialog-close","",1,"buttonView"],[1,"matCardHeader"],[1,"mat-typography"],[1,"row"],[1,"col-md-4"],["mat-list-icon",""],["mat-line",""],[1,"col-md-12","mt-2"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Detalle Pedido","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off","readonly","",3,"formControl"],["matInput","","placeholder","Observaci\xf3n","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off","readonly","",3,"formControl"],["matInput","","placeholder","Observaci\xf3n Cliente","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off","readonly","",3,"formControl"],["class","col-md-12",4,"ngIf"],["class","col-md-12","style","display: flex; justify-content: center; align-items: center;",4,"ngIf"],[1,"text-right"],["mat-button","","mat-dialog-close",""],["mat-raised-button","",1,"button-principal",3,"click"],[1,"col-md-12",2,"display","flex","justify-content","center","align-items","center"],[1,"imagePedido",3,"src"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"nav",1),r.Tb(2,"ol",2),r.Tb(3,"li",3),r.Tb(4,"a",4),r.Ec(5,"Inicio"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h2",7),r.Ec(9," Listado de Pedidos "),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"mat-form-field",9),r.Tb(12,"mat-label"),r.Ec(13,"Buscar"),r.Sb(),r.Ob(14,"input",10),r.Tb(15,"span",11),r.Tb(16,"mat-icon"),r.Ec(17,"search"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Cc(18,H,2,1,"div",12),r.gc(19,"async"),r.Tb(20,"div",13),r.Tb(21,"div",14),r.Cc(22,q,2,0,"div",15),r.gc(23,"async"),r.gc(24,"async"),r.Sb(),r.Cc(25,U,30,16,"mat-card",16),r.gc(26,"async"),r.gc(27,"async"),r.Sb(),r.Cc(28,J,61,9,"ng-template",null,17,r.Dc)),2&t&&(r.Bb(4),r.mc("routerLink",r.nc(15,W)),r.Bb(10),r.mc("formControl",e.buscar),r.Bb(4),r.mc("ngIf",r.hc(19,5,e.listarPedidosFacade.responseCargando$)),r.Bb(4),r.mc("ngIf",!r.hc(23,7,e.listarPedidosFacade.responseCargando$)&&0===r.hc(24,9,e.listarPedidosFacade.responsePedidos$).length),r.Bb(3),r.mc("ngIf",!r.hc(26,11,e.listarPedidosFacade.responseCargando$)&&r.hc(27,13,e.listarPedidosFacade.responsePedidos$).length>0))},directives:[s.i,g.b,g.f,v.a,n.b,n.k,n.d,g.g,x.a,o.l,B.a,u.a,u.d,o.k,$.a,T.a,A.b,A.c,z.a,z.c,z.b,P.h,S.b],pipes:[o.b,o.s,L.a,N.a,o.e],styles:[".imagePedido[_ngcontent-%COMP%]{width:30vw;height:30vh}"]}),t})();var K=i("vxfF"),Q=i("nLfN"),tt=i("8LU1"),et=i("XNiG"),it=i("quSY"),ot=i("HDdC"),st=i("D0XW"),nt=i("Y7HM");function rt(t){const{subscriber:e,counter:i,period:o}=t;e.next(i),this.schedule({subscriber:e,counter:i+1,period:o},o)}var at=i("eNwd"),ct=i("VRyK"),dt=i("1G5W"),lt=(i("JX91"),i("lJxs"),i("IzEk")),ht=(i("eIep"),i("cH1L"));function bt(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function pt(t,e){const i=e?"":"none";bt(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:i,msUserSelect:i,webkitUserSelect:i,MozUserSelect:i})}function mt(t,e){const i=t.style;i.position=e?"":"fixed",i.top=i.opacity=e?"":"0",i.left=e?"":"-999em"}function ut(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function gt(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function _t(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function ft(t,e,i){const{top:o,bottom:s,left:n,right:r}=t;return i>=o&&i<=s&&e>=n&&e<=r}function vt(t,e,i){t.top+=e,t.bottom=t.top+t.height,t.left+=i,t.right=t.left+t.width}function St(t,e,i,o){const{top:s,right:n,bottom:r,left:a,width:c,height:d}=t,l=c*e,h=d*e;return o>s-h&&o<r+h&&i>a-l&&i<n+l}class Pt{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:_t(t)})})}handleScroll(t){const e=t.target,i=this.positions.get(e);if(!i)return null;const o=e===this._document?e.documentElement:e,s=i.scrollPosition;let n,r;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();n=t.top,r=t.left}else n=e.scrollTop,r=e.scrollLeft;const a=s.top-n,c=s.left-r;return this.positions.forEach((t,i)=>{t.clientRect&&e!==i&&o.contains(i)&&vt(t.clientRect,a,c)}),s.top=n,s.left=r,{top:a,left:c}}}function Tt(t){const e=t.cloneNode(!0),i=e.querySelectorAll("[id]"),o=t.nodeName.toLowerCase();e.removeAttribute("id");for(let s=0;s<i.length;s++)i[s].removeAttribute("id");return"canvas"===o?Ct(t,e):"input"!==o&&"select"!==o&&"textarea"!==o||Et(t,e),xt("canvas",t,e,Ct),xt("input, textarea, select",t,e,Et),e}function xt(t,e,i,o){const s=e.querySelectorAll(t);if(s.length){const e=i.querySelectorAll(t);for(let t=0;t<s.length;t++)o(s[t],e[t])}}let wt=0;function Et(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${wt++}`)}function Ct(t,e){const i=e.getContext("2d");if(i)try{i.drawImage(t,0,0)}catch(o){}}const yt=Object(Q.f)({passive:!0}),Ot=Object(Q.f)({passive:!1});class Dt{constructor(t,e,i,o,s,n){this._config=e,this._document=i,this._ngZone=o,this._viewportRuler=s,this._dragDropRegistry=n,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new et.a,this._pointerMoveSubscription=it.a.EMPTY,this._pointerUpSubscription=it.a.EMPTY,this._scrollSubscription=it.a.EMPTY,this._resizeSubscription=it.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new et.a,this.started=new et.a,this.released=new et.a,this.ended=new et.a,this.entered=new et.a,this.exited=new et.a,this.dropped=new et.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const i=t.target;return!!i&&(i===e||e.contains(i))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),i=this._dropContainer;if(!e)return void this._endDragSequence(t);i&&(i.isDragging()||i.isReceiving())||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{const t=this._activeTransform;t.x=i.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=i.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:t,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new Pt(i,s),n.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Object(tt.c)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>pt(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(t=>Object(tt.e)(t)),this._handles.forEach(t=>pt(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Object(tt.e)(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Ot),e.addEventListener("touchstart",this._pointerDown,yt)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Object(tt.e)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&kt(this._rootElement),kt(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),pt(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),pt(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&kt(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&kt(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){jt(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,i=t.parentNode,o=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement(),n=this._anchor=this._anchor||this._document.createComment(""),r=this._getShadowRoot();i.insertBefore(n,t),mt(t,!1),this._document.body.appendChild(i.replaceChild(s,t)),function(t,e){return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}(this._document,r).appendChild(o),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const i=this.isDragging(),o=jt(e),s=!o&&0!==e.button,n=this._rootElement,r=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||r)return;this._handles.length&&(this._rootElementTapHighlight=n.style.webkitTapHighlightColor||"",n.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=_t(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){mt(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),o=this._getPointerPositionOnPage(t),s=this._getDragDistance(this._getPointerPositionOnPage(t)),n=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:n,distance:s}),e.drop(this,i,this._initialIndex,this._initialContainer,n,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:o}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(i,o),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=Rt(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let o;if(i&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,s=t.viewContainer.createEmbeddedView(i,t.context);s.detectChanges(),o=Mt(s,this._document),this._previewRef=s,t.matchSize?Ft(o,e):o.style.transform=Rt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;o=Tt(t),Ft(o,t.getBoundingClientRect())}return bt(o.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),pt(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>o.classList.add(t)):o.classList.add(e)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=Rt(t.left,t.top);const e=function(t){const e=getComputedStyle(t),i=gt(e,"transition-property"),o=i.find(t=>"transform"===t||"all"===t);if(!o)return 0;const s=i.indexOf(o),n=gt(e,"transition-duration"),r=gt(e,"transition-delay");return ut(n[s])+ut(r[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const i=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",i),t(),clearTimeout(o))},o=setTimeout(i,1.5*e);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=Mt(this._placeholderRef,this._document)):i=Tt(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),o=t===this._rootElement?null:t,s=o?o.getBoundingClientRect():i,n=jt(e)?e.targetTouches[0]:e,r=this._getViewportScrollPosition();return{x:s.left-i.left+(n.pageX-s.left-r.left),y:s.top-i.top+(n.pageY-s.top-r.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=jt(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,o=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=o,e.y=s,e.matrixTransform(t.inverse())}}return{x:o,y:s}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:o}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?o=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,s=this._boundaryRect,n=this._previewRect,r=s.top+e,a=s.bottom-(n.height-e);i=It(i,s.left+t,s.right-(n.width-t)),o=It(o,r,a)}return{x:i,y:o}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,o=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,n=Math.abs(e-s.x),r=Math.abs(i-s.y);return n>this._config.pointerDirectionChangeThreshold&&(o.x=e>s.x?1:-1,s.x=e),r>this._config.pointerDirectionChangeThreshold&&(o.y=i>s.y?1:-1,s.y=i),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,pt(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Ot),t.removeEventListener("touchstart",this._pointerDown,yt)}_applyRootElementTransform(t,e){const i=Rt(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?i+" "+this._initialTransform:i}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===o.width&&0===o.height)return;const s=i.left-o.left,n=o.right-i.right,r=i.top-o.top,a=o.bottom-i.bottom;i.width>o.width?(s>0&&(t+=s),n>0&&(t-=n)):t=0,i.height>o.height?(r>0&&(e+=r),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:jt(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=t.target;this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&vt(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Object(Q.c)(this._rootElement)),this._cachedShadowRoot}}function Rt(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function It(t,e,i){return Math.max(e,Math.min(i,t))}function kt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function jt(t){return"t"===t.type[0]}function Mt(t,e){const i=t.rootNodes;if(1===i.length&&i[0].nodeType===e.ELEMENT_NODE)return i[0];const o=e.createElement("div");return i.forEach(t=>o.appendChild(t)),o}function Ft(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=Rt(e.left,e.top)}function At(t,e,i){const o=Bt(e,t.length-1),s=Bt(i,t.length-1);if(o===s)return;const n=t[o],r=s<o?-1:1;for(let a=o;a!==s;a+=r)t[a]=t[a+r];t[s]=n}function Bt(t,e){return Math.max(0,Math.min(e,t))}class $t{constructor(t,e,i,o,s){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new et.a,this.entered=new et.a,this.exited=new et.a,this.dropped=new et.a,this.sorted=new et.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=it.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new et.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=st.a){return(!Object(nt.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=st.a),new ot.a(i=>(i.add(e.schedule(rt,t,{subscriber:i,counter:0,period:t})),i))}(0,at.a).pipe(Object(dt.a)(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?Lt(t,-2):2===this._verticalScrollDirection&&Lt(t,2),1===this._horizontalScrollDirection?Nt(t,-2):2===this._horizontalScrollDirection&&Nt(t,2)})},this.element=Object(tt.e)(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Pt(i,s)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Object(tt.e)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,i,o){let s;this.start(),null==o?(s=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(t,e,i))):s=o;const n=this._activeDraggables,r=n.indexOf(t),a=t.getPlaceholderElement();let c=n[s];if(c===t&&(c=n[s+1]),r>-1&&n.splice(r,1),c&&!this._dragDropRegistry.isDragging(c)){const e=c.getRootElement();e.parentElement.insertBefore(a,e),n.splice(s,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const e=n[0].getRootElement();e.parentNode.insertBefore(a,e),n.unshift(t)}else Object(tt.e)(this.element).appendChild(a),n.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,o,s,n){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:o,isPointerOverContainer:s,distance:n})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Object(tt.e)(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?zt("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,o){if(this.sortingDisabled||!St(this._clientRect,.05,e,i))return;const s=this._itemPositions,n=this._getItemIndexFromPointerPosition(t,e,i,o);if(-1===n&&s.length>0)return;const r="horizontal"===this._orientation,a=zt(s,e=>e.drag===t),c=s[n],d=c.clientRect,l=a>n?1:-1,h=this._getItemOffsetPx(s[a].clientRect,d,l),b=this._getSiblingOffsetPx(a,s,l),p=s.slice();At(s,a,n),this.sorted.next({previousIndex:a,currentIndex:n,container:this,item:t}),s.forEach((e,i)=>{if(p[i]===e)return;const o=e.drag===t,s=o?h:b,n=o?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=s,r?(n.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,vt(e.clientRect,0,s)):(n.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,vt(e.clientRect,s,0))}),this._previousSwap.overlaps=ft(d,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=r?o.x:o.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,o=0,s=0;if(this._parentPositions.positions.forEach((n,r)=>{r!==this._document&&n.clientRect&&!i&&St(n.clientRect,.05,t,e)&&([o,s]=function(t,e,i,o){const s=Ht(e,o),n=qt(e,i);let r=0,a=0;if(s){const e=t.scrollTop;1===s?e>0&&(r=1):t.scrollHeight-e>t.clientHeight&&(r=2)}if(n){const e=t.scrollLeft;1===n?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[r,a]}(r,n.clientRect,t,e),(o||s)&&(i=r))}),!o&&!s){const{width:n,height:r}=this._viewportRuler.getViewportSize(),a={width:n,height:r,top:0,right:n,bottom:r,left:0};o=Ht(a,e),s=qt(a,t),i=window}!i||o===this._verticalScrollDirection&&s===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=o,this._horizontalScrollDirection=s,this._scrollNode=i,(o||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=Object(tt.e)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:_t(e)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=Object(tt.e)(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const o="horizontal"===this._orientation,s=e[t].clientRect,n=e[t+-1*i];let r=s[o?"width":"height"]*i;if(n){const t=o?"left":"top",e=o?"right":"bottom";-1===i?r-=n.clientRect[t]-s[e]:r+=s[t]-n.clientRect[e]}return r}_getItemOffsetPx(t,e,i){const o="horizontal"===this._orientation;let s=o?e.left-t.left:e.top-t.top;return-1===i&&(s+=o?e.width-t.width:e.height-t.height),s}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,o="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return o?t>=s.right:e>=s.bottom}{const s=i[0].clientRect;return o?t<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(t,e,i,o){const s="horizontal"===this._orientation,n=zt(this._itemPositions,({drag:n,clientRect:r},a,c)=>{if(n===t)return c.length<2;if(o){const t=s?o.x:o.y;if(n===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return s?e>=Math.floor(r.left)&&e<Math.floor(r.right):i>=Math.floor(r.top)&&i<Math.floor(r.bottom)});return-1!==n&&this.sortPredicate(n,t,this)?n:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return ft(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(o=>o._canReceive(t,e,i))}_canReceive(t,e,i){if(!ft(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const o=this._getShadowRoot().elementFromPoint(e,i);if(!o)return!1;const s=Object(tt.e)(this.element);return o===s||s.contains(o)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{vt(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Object(Q.c)(Object(tt.e)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function zt(t,e){for(let i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}function Lt(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Nt(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Ht(t,e){const{top:i,bottom:o,height:s}=t,n=.05*s;return e>=i-n&&e<=i+n?1:e>=o-n&&e<=o+n?2:0}function qt(t,e){const{left:i,right:o,width:s}=t,n=.05*s;return e>=i-n&&e<=i+n?1:e>=o-n&&e<=o+n?2:0}const Vt=Object(Q.f)({passive:!1,capture:!0});let Gt=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new et.a,this.pointerUp=new et.a,this.scroll=new et.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.size&&(t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Vt)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Vt)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Vt}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:Vt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.A),r.Xb(o.d))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(r.A),Object(r.Xb)(o.d))},token:t,providedIn:"root"}),t})();const Ut={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Xt=(()=>{class t{constructor(t,e,i,o){this._document=t,this._ngZone=e,this._viewportRuler=i,this._dragDropRegistry=o}createDrag(t,e=Ut){return new Dt(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new $t(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(o.d),r.Xb(r.A),r.Xb(K.e),r.Xb(Gt))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(o.d),Object(r.Xb)(r.A),Object(r.Xb)(K.e),Object(r.Xb)(Gt))},token:t,providedIn:"root"}),t})(),Zt=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[Xt],imports:[K.b]}),t})(),Jt=(()=>{class t{constructor(t,e,i){this.dataApi=t,this.toast=e,this._mensajesHttp=i,this.Cargando$=new c.a(!1),this.responseCargando$=this.Cargando$.asObservable(),this.Pedidos$=new c.a([]),this.responsePedidos$=this.Pedidos$.asObservable(),this.Reparto$=new c.a([]),this.responseReparto$=this.Reparto$.asObservable(),this.EstadoProceso$=new c.a([]),this.responseEstadoProceso$=this.EstadoProceso$.asObservable()}MostrarSeguimientoPedidos(t){return this.Cargando$.next(!0),this.Pedidos$.next([]),this.dataApi.GetDataApi("pedido/pedidoSeguimiento",t).pipe(Object(l.a)(t=>{this.Cargando$.next(!1),this.Pedidos$.next(t.data)}),Object(h.a)(t=>(this.Cargando$.next(!1),this.Pedidos$.next([]),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al mostrar los pedidos",""),d.a))).subscribe()}MostrarEstadosProceso(t){return this.Cargando$.next(!0),this.Pedidos$.next([]),this.dataApi.GetDataApi("mantenimiento/mostrarEstadoProceso",t).pipe(Object(l.a)(t=>{this.Cargando$.next(!1),this.EstadoProceso$.next(t.data.Table0)}),Object(h.a)(t=>(this.Cargando$.next(!1),this.Pedidos$.next([]),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al mostrar los pedidos",""),d.a))).subscribe()}ActualizarPedido(t,e){return this.Cargando$.next(!0),this.dataApi.PutDataApi("pedido/pedido/",t).pipe(Object(l.a)(t=>{e(t)}),Object(h.a)(t=>(this.Cargando$.next(!1),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al actualizar el pedido",""),d.a))).subscribe()}ActualizarEstadoPedidos(t,e){return this.Cargando$.next(!0),this.Pedidos$.next([]),this.dataApi.PutDataApi("pedido/pedido/",t).pipe(Object(l.a)(t=>{this.Cargando$.next(!1),e(t)}),Object(h.a)(t=>(this.Cargando$.next(!1),this.Pedidos$.next([]),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al actualizar los pedidos",""),d.a))).subscribe()}MostrarReparto(t){return this.Cargando$.next(!0),this.Reparto$.next([]),this.dataApi.GetDataApi("mantenimiento/reparto/",t).pipe(Object(l.a)(t=>{this.Cargando$.next(!1),this.Reparto$.next(t.data.Table0)}),Object(h.a)(t=>(this.Cargando$.next(!1),this.Reparto$.next([]),this._mensajesHttp.mostrarErrorHttp(t,"Ocurrio un error al mostrar el reparto",""),d.a))).subscribe()}agregarPedido(t){let e=this.Pedidos$.value;e.forEach(e=>{if(e.Id===t.IdEstado){let i=e.pedidos.filter(e=>e.IdPedido!=t.IdPedido);i.push(t),e.pedidos=i}}),this.Pedidos$.next([]),this.Pedidos$.next(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(b.a),r.Xb(a.a),r.Xb(p.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Wt=i("rDax"),Yt=i("+rOU"),Kt=i("0MNC"),Qt=i("GS7A"),te=i("LRne"),ee=i("FtGj"),ie=i("pLZG"),oe=i("u47x");function se(t,e){}const ne=new r.r("MatBottomSheetData");class re{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}const ae={bottomSheetState:Object(Qt.m)("state",[Object(Qt.j)("void, hidden",Object(Qt.k)({transform:"translateY(100%)"})),Object(Qt.j)("visible",Object(Qt.k)({transform:"translateY(0%)"})),Object(Qt.l)("visible => void, visible => hidden",Object(Qt.e)(`${P.b.COMPLEX} ${P.a.ACCELERATION_CURVE}`)),Object(Qt.l)("void => visible",Object(Qt.e)(`${P.b.EXITING} ${P.a.DECELERATION_CURVE}`))])};let ce=(()=>{class t extends Yt.a{constructor(t,e,i,o,s,n){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=i,this.bottomSheetConfig=n,this._animationState="void",this._animationStateChanged=new r.o,this._elementFocusedBeforeOpened=null,this.attachDomPortal=t=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._document=s,this._breakpointSubscription=o.observe([Kt.b.Medium,Kt.b.Large,Kt.b.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",o.isMatched(Kt.b.Medium)),this._toggleClass("mat-bottom-sheet-container-large",o.isMatched(Kt.b.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",o.isMatched(Kt.b.XLarge))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const i=this._elementRef.nativeElement.classList;e?i.add(t):i.remove(t)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,i=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==i&&!i.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.h),r.Nb(oe.g),r.Nb(Kt.a),r.Nb(o.d,8),r.Nb(re))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,e){if(1&t&&r.yc(Yt.c,!0),2&t){let t;r.qc(t=r.cc())&&(e._portalOutlet=t.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,e){1&t&&r.Ac("@state.start",function(t){return e._onAnimationStart(t)})("@state.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.Cb("aria-label",null==e.bottomSheetConfig?null:e.bottomSheetConfig.ariaLabel),r.Bc("@state",e._animationState))},features:[r.yb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.Cc(0,se,0,0,"ng-template",0)},directives:[Yt.c],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[ae.bottomSheetState]}}),t})(),de=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[Wt.f,P.g,Yt.g],P.g]}),t})();class le{constructor(t,e){this._overlayRef=e,this._afterDismissed=new et.a,this._afterOpened=new et.a,this.containerInstance=t,this.disableClose=t.bottomSheetConfig.disableClose,t._animationStateChanged.pipe(Object(ie.a)(t=>"done"===t.phaseName&&"visible"===t.toState),Object(lt.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Object(ie.a)(t=>"done"===t.phaseName&&"hidden"===t.toState),Object(lt.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe(Object(lt.a)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),Object(ct.a)(e.backdropClick(),e.keydownEvents().pipe(Object(ie.a)(t=>t.keyCode===ee.e))).subscribe(t=>{this.disableClose||"keydown"===t.type&&Object(ee.o)(t)||(t.preventDefault(),this.dismiss())})}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe(Object(ie.a)(t=>"start"===t.phaseName),Object(lt.a)(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const he=new r.r("mat-bottom-sheet-default-options");let be=(()=>{class t{constructor(t,e,i,o){this._overlay=t,this._injector=e,this._parentBottomSheet=i,this._defaultOptions=o,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,e){const i=function(t,e){return Object.assign(Object.assign({},t),e)}(this._defaultOptions||new re,e),o=this._createOverlay(i),s=this._attachContainer(o,i),n=new le(s,o);if(t instanceof r.M)s.attachTemplatePortal(new Yt.h(t,null,{$implicit:i.data,bottomSheetRef:n}));else{const e=new Yt.d(t,void 0,this._createInjector(i,n)),o=s.attachComponentPortal(e);n.instance=o.instance}return n.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==n&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>n.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):n.containerInstance.enter(),this._openedBottomSheetRef=n,n}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(t,e){const i=r.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:re,useValue:e}]}),o=new Yt.d(ce,e.viewContainerRef,i);return t.attach(o).instance}_createOverlay(t){const e=new Wt.d({direction:t.direction,hasBackdrop:t.hasBackdrop,disposeOnNavigation:t.closeOnNavigation,maxWidth:"100%",scrollStrategy:t.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(e.backdropClass=t.backdropClass),this._overlay.create(e)}_createInjector(t,e){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:le,useValue:e},{provide:ne,useValue:t.data}];return!t.direction||i&&i.get(ht.b,null)||o.push({provide:ht.b,useValue:{value:t.direction,change:Object(te.a)()}}),r.s.create({parent:i||this._injector,providers:o})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Wt.c),r.Xb(r.s),r.Xb(t,12),r.Xb(he,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(Wt.c),Object(r.Xb)(r.p),Object(r.Xb)(t,12),Object(r.Xb)(he,8))},token:t,providedIn:de}),t})();var pe=i("7JkF");let me=(()=>{class t{constructor(t){this.socket=t,this.socketStatus=!1,this.checkStatus()}checkStatus(){this.socket.on("connect",()=>{this.socketStatus=!0}),this.socket.on("disconnect",()=>{this.socketStatus=!1})}emit(t,e,i){this.socket.emit(t,e,i)}listen(t){return this.socket.fromEvent(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(pe.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ue=i("f0Cb");const ge=["modalActualizarPedido"],_e=["modalReparto"];function fe(t,e){if(1&t){const t=r.Ub();r.Tb(0,"button",20),r.bc("click",function(){return r.tc(t),r.fc().openFullscreen()}),r.Tb(1,"mat-icon"),r.Ec(2,"fullscreen"),r.Sb(),r.Sb()}}function ve(t,e){if(1&t){const t=r.Ub();r.Tb(0,"button",20),r.bc("click",function(){return r.tc(t),r.fc().closeFullscreen()}),r.Tb(1,"mat-icon"),r.Ec(2,"fullscreen_exit"),r.Sb(),r.Sb()}}function Se(t,e){1&t&&(r.Tb(0,"div"),r.Ob(1,"app-loading",21),r.Sb()),2&t&&(r.Bb(1),r.mc("data",4))}function Pe(t,e){if(1&t&&(r.Tb(0,"th",30),r.Ec(1),r.Sb()),2&t){const t=e.$implicit;r.Bb(1),r.Fc(t.EstadoProceso)}}function Te(t,e){if(1&t){const t=r.Ub();r.Tb(0,"mat-card",33),r.Tb(1,"div",34),r.Tb(2,"button",35),r.bc("click",function(){r.tc(t);const i=e.$implicit,o=r.fc(3),s=r.rc(27);return o.openBottomSheet(s,i)}),r.Tb(3,"mat-icon"),r.Ec(4,"more_vert"),r.Sb(),r.Sb(),r.Sb(),r.Tb(5,"mat-card-content",36),r.Tb(6,"div",37),r.Tb(7,"b"),r.Ec(8),r.Sb(),r.Ob(9,"br"),r.Tb(10,"span"),r.Ec(11),r.Sb(),r.Sb(),r.Tb(12,"div",38),r.Ec(13),r.gc(14,"truncatePipe"),r.Sb(),r.Sb(),r.Tb(15,"mat-card-actions",39),r.Tb(16,"div",40),r.Tb(17,"mat-icon"),r.Ec(18,"event"),r.Sb(),r.Tb(19,"span"),r.Ec(20),r.gc(21,"date"),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit;r.Bb(8),r.Gc("# Pedido: ",t.IdPedido,""),r.Bb(3),r.Hc("",t.PrimerNombre," ",t.PrimerApellido,""),r.Bb(2),r.Gc(" ",r.ic(14,5,t.DetallePedido,100)," "),r.Bb(7),r.Fc(r.ic(21,8,t.FechaInsercion,"MMM d"))}}const xe=function(){return["DetallePedido","IdPedido"]};function we(t,e){if(1&t&&(r.Tb(0,"td",31),r.Cc(1,Te,22,11,"mat-card",32),r.gc(2,"search"),r.Sb()),2&t){const t=e.$implicit,i=r.fc(2);r.Bb(1),r.mc("ngForOf",r.jc(2,1,t.pedidos,null==i.buscar?null:i.buscar.value,r.nc(5,xe)))}}function Ee(t,e){if(1&t&&(r.Tb(0,"mat-card",22),r.Tb(1,"mat-card-content",23),r.Tb(2,"div",24),r.Tb(3,"table",25),r.Tb(4,"thead"),r.Tb(5,"tr",26),r.Cc(6,Pe,2,1,"th",27),r.gc(7,"async"),r.Sb(),r.Sb(),r.Tb(8,"tbody",28),r.Cc(9,we,3,6,"td",29),r.gc(10,"async"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t){const t=r.fc();r.Bb(6),r.mc("ngForOf",r.hc(7,2,t.seguiminetoPedidos.responsePedidos$)),r.Bb(3),r.mc("ngForOf",r.hc(10,4,t.seguiminetoPedidos.responsePedidos$))}}function Ce(t,e){if(1&t){const t=r.Ub();r.Tb(0,"a",41),r.bc("click",function(){r.tc(t);const e=r.fc().$implicit;return r.fc(2).cambiarEstado(e)}),r.Tb(1,"span",42),r.Tb(2,"b"),r.Ec(3),r.Sb(),r.Sb(),r.Tb(4,"span",42),r.Ec(5),r.Sb(),r.Sb()}if(2&t){const t=r.fc().$implicit;r.Bb(3),r.Fc(t.EstadoProceso),r.Bb(2),r.Fc(t.Descripcion)}}function ye(t,e){if(1&t&&(r.Rb(0),r.Ob(1,"mat-divider"),r.Cc(2,Ce,6,2,"a",44),r.Qb()),2&t){const t=e.$implicit,i=r.fc(2);r.Bb(2),r.mc("ngIf",t.id!=i.pedido.IdEstado&&8!=t.id)}}function Oe(t,e){if(1&t){const t=r.Ub();r.Tb(0,"mat-nav-list"),r.Tb(1,"a",41),r.bc("click",function(){r.tc(t);const e=r.fc(),i=r.rc(29);return e.verDetalle(i)}),r.Tb(2,"span",42),r.Tb(3,"b"),r.Ec(4,"Ver Detalle Pedido"),r.Sb(),r.Sb(),r.Tb(5,"span",42),r.Ec(6,"Detalle del pedido"),r.Sb(),r.Sb(),r.Cc(7,ye,3,1,"ng-container",43),r.gc(8,"async"),r.Sb()}if(2&t){const t=r.fc();r.Bb(7),r.mc("ngForOf",r.hc(8,1,t.seguiminetoPedidos.responseEstadoProceso$))}}function De(t,e){if(1&t&&(r.Tb(0,"div",60),r.Ob(1,"img",61),r.Sb()),2&t){const t=r.fc(2);r.Bb(1),r.mc("src",t.pedido.Url,r.vc)}}function Re(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",45),r.Tb(1,"button",46),r.Tb(2,"mat-icon"),r.Ec(3,"close"),r.Sb(),r.Sb(),r.Sb(),r.Tb(4,"div",47),r.Ec(5," Detalle Pedido "),r.Sb(),r.Tb(6,"mat-dialog-content",48),r.Tb(7,"div",49),r.Tb(8,"mat-list",50),r.Tb(9,"mat-list-item"),r.Tb(10,"mat-icon",51),r.Ec(11,"local_shipping"),r.Sb(),r.Tb(12,"div",42),r.Ec(13,"Tipo Pedido"),r.Sb(),r.Tb(14,"div",42),r.Ec(15),r.Sb(),r.Sb(),r.Sb(),r.Tb(16,"mat-list",50),r.Tb(17,"mat-list-item"),r.Tb(18,"mat-icon",51),r.Ec(19,"paid"),r.Sb(),r.Tb(20,"div",42),r.Ec(21,"Metodo Pago"),r.Sb(),r.Tb(22,"div",42),r.Ec(23),r.Sb(),r.Sb(),r.Sb(),r.Tb(24,"mat-list",50),r.Tb(25,"mat-list-item"),r.Tb(26,"mat-icon",51),r.Ec(27,"paid"),r.Sb(),r.Tb(28,"div",42),r.Ec(29,"Nombre Reparto"),r.Sb(),r.Tb(30,"div",42),r.Ec(31),r.Sb(),r.Sb(),r.Sb(),r.Tb(32,"mat-list",50),r.Tb(33,"mat-list-item"),r.Tb(34,"mat-icon",51),r.Ec(35,"filter_list"),r.Sb(),r.Tb(36,"div",42),r.Ec(37,"Estado Proceso"),r.Sb(),r.Tb(38,"div",42),r.Ec(39),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(40,"div",49),r.Tb(41,"div",52),r.Tb(42,"mat-form-field",53),r.Tb(43,"mat-label"),r.Ec(44," Detalle Pedido "),r.Sb(),r.Ob(45,"textarea",54),r.Sb(),r.Sb(),r.Tb(46,"div",52),r.Tb(47,"mat-form-field",53),r.Tb(48,"mat-label"),r.Ec(49," Observaci\xf3n "),r.Sb(),r.Ob(50,"textarea",54),r.Sb(),r.Sb(),r.Tb(51,"div",52),r.Tb(52,"mat-form-field",53),r.Tb(53,"mat-label"),r.Ec(54," Observaci\xf3n Cliente"),r.Sb(),r.Ob(55,"textarea",55),r.Sb(),r.Sb(),r.Sb(),r.Tb(56,"div",52),r.Tb(57,"button",56),r.bc("click",function(){return r.tc(t),r.fc().descargarImagen()}),r.Tb(58,"mat-icon"),r.Ec(59,"file_download"),r.Sb(),r.Ec(60," Descargar "),r.Sb(),r.Sb(),r.Cc(61,De,2,1,"div",57),r.Tb(62,"div",58),r.Tb(63,"button",59),r.Ec(64,"Salir"),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.fc();r.Bb(15),r.Fc(t.pedido.TipoPedido),r.Bb(8),r.Fc(t.pedido.MetodoPago),r.Bb(8),r.Fc(t.pedido.NombreReparto||"N/A"),r.Bb(8),r.Fc(t.pedido.EstadoProceso),r.Bb(6),r.mc("formControl",t.detallePedido),r.Bb(5),r.mc("formControl",t.observacion),r.Bb(5),r.mc("formControl",t.observacionCliente),r.Bb(6),r.mc("ngIf",null!=t.pedido.Url)}}function Ie(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",45),r.Tb(1,"button",46),r.Tb(2,"mat-icon"),r.Ec(3,"close"),r.Sb(),r.Sb(),r.Sb(),r.Tb(4,"div",47),r.Ec(5," Actualizar Pedido "),r.Sb(),r.Tb(6,"mat-dialog-content",48),r.Tb(7,"div",49),r.Tb(8,"div",52),r.Tb(9,"mat-form-field",53),r.Tb(10,"mat-label"),r.Ec(11," Detalle Pedido "),r.Sb(),r.Ob(12,"textarea",62),r.Sb(),r.Sb(),r.Tb(13,"div",52),r.Tb(14,"mat-form-field",53),r.Tb(15,"mat-label"),r.Ec(16," Observaci\xf3n "),r.Sb(),r.Ob(17,"textarea",63),r.Sb(),r.Sb(),r.Sb(),r.Tb(18,"div",58),r.Tb(19,"button",59),r.Ec(20,"Salir"),r.Sb(),r.Tb(21,"button",56),r.bc("click",function(){return r.tc(t),r.fc().actualizarPedido()}),r.Ec(22,"Guardar"),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.fc();r.Bb(12),r.mc("formControl",t.detallePedido),r.Bb(5),r.mc("formControl",t.observacion)}}function ke(t,e){if(1&t&&(r.Tb(0,"mat-option",67),r.Ec(1),r.Sb()),2&t){const t=e.$implicit;r.mc("value",t.Id),r.Bb(1),r.Fc(t.NombreReparto)}}function je(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",45),r.Tb(1,"button",46),r.Tb(2,"mat-icon"),r.Ec(3,"close"),r.Sb(),r.Sb(),r.Sb(),r.Tb(4,"div",47),r.Ec(5," Seleccionar Repartidor "),r.Sb(),r.Tb(6,"mat-dialog-content",48),r.Tb(7,"div",49),r.Tb(8,"mat-form-field",64),r.Tb(9,"mat-label"),r.Ec(10,"Reparto"),r.Sb(),r.Tb(11,"mat-select",65),r.Cc(12,ke,2,2,"mat-option",66),r.gc(13,"async"),r.Sb(),r.Tb(14,"mat-hint"),r.Ec(15,"Seleccionar el reparto"),r.Sb(),r.Sb(),r.Sb(),r.Tb(16,"div",58),r.Tb(17,"button",59),r.Ec(18,"Salir"),r.Sb(),r.Tb(19,"button",56),r.bc("click",function(){return r.tc(t),r.fc().actualizarRepartidor()}),r.Ec(20,"Guardar"),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.fc();r.Bb(11),r.mc("formControl",t.idReparto),r.Bb(1),r.mc("ngForOf",r.hc(13,2,t.seguiminetoPedidos.responseReparto$))}}const Me=function(){return["/dashboard"]},Fe=[{path:"generarPedido",component:I},{path:"listadoPedido",component:Y},{path:"seguimientoPedido",component:(()=>{class t{constructor(t,e,i,o,s,r){this.seguiminetoPedidos=t,this._bottomSheet=e,this.document=i,this.clienteSocket=o,this.toast=s,this.dialog=r,this.fullscreen=!1,this.prueba1=["1","2","3","4"],this.prueba2=["5","6","7","8","9"],this.prueba3=["10","11","12","13","14"],this.prueba4=["15","16","17","18","19"],this.encabezados=["Aperturado","Preparaci\xf3n","Empacando","Despachado","Entregado","Rechazado"],this.buscar=new n.c(""),this.detallePedido=new n.c("",[n.q.required]),this.observacion=new n.c("",[n.q.required]),this.observacionCliente=new n.c({value:"",disabled:!0}),this.idReparto=new n.c("",[n.q.required]),this.seguiminetoPedidos.MostrarSeguimientoPedidos(""),this.seguiminetoPedidos.MostrarEstadosProceso(""),this.clienteSocket.listen("pedido").subscribe(t=>{this.notificarPedido(t)})}ngOnInit(){this.elem=document.documentElement}drop(t){t.previousContainer===t.container?At(t.container.data,t.previousIndex,t.currentIndex):function(t,e,i,o){const s=Bt(i,t.length-1),n=Bt(o,e.length);t.length&&e.splice(n,0,t.splice(s,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}openBottomSheet(t,e){this.pedido=e,this._bottomSheet.open(t)}cambiarEstado(t){this.pedido.IdEstado===t.id?this.toast.mensajeWarning("","El pedido ya se encuenta en estado"+this.pedido.EstadoProceso):(this.pedido.idEstado=t.id,t.requiereObservacion?this.modalPedido():5===this.pedido.idEstado?this.openModalRepartidor():this.seguiminetoPedidos.ActualizarEstadoPedidos(this.pedido,t=>{this.seguiminetoPedidos.MostrarSeguimientoPedidos(""),this._bottomSheet.dismiss()}))}openFullscreen(){this.elem.requestFullscreen?this.elem.requestFullscreen():this.elem.mozRequestFullScreen?this.elem.mozRequestFullScreen():this.elem.webkitRequestFullscreen?this.elem.webkitRequestFullscreen():this.elem.msRequestFullscreen&&this.elem.msRequestFullscreen(),this.fullscreen=!0}closeFullscreen(){this.document.exitFullscreen?this.document.exitFullscreen():this.document.mozCancelFullScreen?this.document.mozCancelFullScreen():this.document.webkitExitFullscreen?this.document.webkitExitFullscreen():this.document.msExitFullscreen&&this.document.msExitFullscreen(),this.fullscreen=!1}notificarPedido(t){this.toast.clearToasts(),this.seguiminetoPedidos.agregarPedido(t),new Audio("./assets/audio/timbretimbrecasa.mp3").play(),this.toast.mensajeInfo("Nuevo Pedido","#"+t.IdPedido)}verDetalle(t){this.detallePedido.setValue(this.pedido.DetallePedido||""),this.observacion.setValue(this.pedido.Observacion||""),this.observacionCliente.setValue(this.pedido.observacionCliente),this._bottomSheet.dismiss(),this.dialog.open(t,{width:"80%",panelClass:"app-full-bleed-dialog"})}modalPedido(){this.detallePedido.setValue(this.pedido.DetallePedido||""),this.observacion.setValue(this.pedido.Observacion||""),this.dialog.open(this.modalActualizarPedido,{width:"80%",panelClass:"app-full-bleed-dialog"}),this._bottomSheet.dismiss()}actualizarPedido(){this.observacion.invalid?this.toast.mensajeWarning("","Es requerido ingresar la observaci\xf3n"):(this.pedido.DetallePedido=this.detallePedido.value,this.pedido.Observacion=this.observacion.value,this.seguiminetoPedidos.ActualizarEstadoPedidos(this.pedido,t=>{this.seguiminetoPedidos.MostrarSeguimientoPedidos(""),this._bottomSheet.dismiss(),this.dialog.closeAll()}))}openModalRepartidor(){this.idReparto.setValue(""),this.seguiminetoPedidos.MostrarReparto("0"),this.dialog.open(this.modalRepartidor,{width:"40vw",panelClass:"app-full-bleed-dialog"}),this._bottomSheet.dismiss()}actualizarRepartidor(){if(this.idReparto.invalid)return this.toast.mensajeWarning("","Es requerido seleccionar un repartidor"),void this.idReparto.markAllAsTouched();this.pedido.IdReparto=this.idReparto.value,this.seguiminetoPedidos.ActualizarEstadoPedidos(this.pedido,t=>{!1===t.hasError&&(this.seguiminetoPedidos.MostrarSeguimientoPedidos(""),this._bottomSheet.dismiss(),this.dialog.closeAll())})}descargarImagen(){window.open(this.pedido.Url)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Jt),r.Nb(be),r.Nb(o.d),r.Nb(me),r.Nb(a.a),r.Nb(A.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-seguimiento-pedidos"]],viewQuery:function(t,e){if(1&t&&(r.yc(ge,!0),r.yc(_e,!0)),2&t){let t;r.qc(t=r.cc())&&(e.modalActualizarPedido=t.first),r.qc(t=r.cc())&&(e.modalRepartidor=t.first)}},decls:34,vars:13,consts:[[1,"navigation"],["aria-label","breadcrumb"],[1,"breadcrumb",2,"background-color","white !important"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"content"],[1,"titleNav"],[2,"font-size","2rem","font-weight","800","letter-spacing","-.025em!important","line-height","2.5rem!important","text-overflow","ellipsis!important"],[1,"text-right","action"],[2,"margin-right","5px"],["mat-mini-fab","","class","buttonSecundary",3,"click",4,"ngIf"],["appearance","outline",2,"width","100%"],["matInput","","type","text","placeholder","Buscar","autocomplete","off",3,"formControl"],["matPrefix",""],[4,"ngIf"],["class","tarjetaSeguimiento  mt-2",4,"ngIf"],["Estados",""],["DetallePedido",""],["modalActualizarPedido",""],["modalReparto",""],["mat-mini-fab","",1,"buttonSecundary",3,"click"],[3,"data"],[1,"tarjetaSeguimiento","mt-2"],[1,"seguimiento"],[1,"tableFixHead"],["role","table","id","table",1,"table"],[1,"text-center"],["class","text-center","style","width: 20%;",4,"ngFor","ngForOf"],["id","tableBodyActivos"],["class","columna text-center","style","width: 20%;",4,"ngFor","ngForOf"],[1,"text-center",2,"width","20%"],[1,"columna","text-center",2,"width","20%"],["class","tarjeta col-md-12 mt-2",4,"ngFor","ngForOf"],[1,"tarjeta","col-md-12","mt-2"],[2,"float","right","z-index","1","margin-right","5px"],["mat-mini-fab","",1,"buttonView",3,"click"],[2,"padding","5px !important"],[2,"letter-spacing","-0.025em !important","line-height","2rem !important","font-weight","600 !important","text-align","left"],[2,"letter-spacing","-0.025em !important","font-weight","500 !important","color","rgba(100, 116, 139, 1)","text-align","justify","overflow","scroll","max-height","320px"],[2,"padding","5px"],[1,"text-left",2,"display","flex","align-items","center","font-size","12px"],["mat-list-item","",3,"click"],["mat-line",""],[4,"ngFor","ngForOf"],["mat-list-item","",3,"click",4,"ngIf"],[2,"float","right","z-index","1"],["mat-mini-fab","","mat-dialog-close","",1,"buttonView"],[1,"matCardHeader"],[1,"mat-typography"],[1,"row"],[1,"col-md-4"],["mat-list-icon",""],[1,"col-md-12","mt-2"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Detalle Pedido","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off","readonly","",3,"formControl"],["matInput","","placeholder","Observaci\xf3n Cliente","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off",3,"formControl"],["mat-raised-button","",1,"button-principal",3,"click"],["class","col-md-12 mt-2","style","display: flex; justify-content: center; align-items: center;",4,"ngIf"],[1,"text-right"],["mat-button","","mat-dialog-close",""],[1,"col-md-12","mt-2",2,"display","flex","justify-content","center","align-items","center"],[1,"imagePedido",3,"src"],["matInput","","placeholder","Detalle Pedido","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off",3,"formControl"],["matInput","","placeholder","Observaci\xf3n","cdkTextareaAutosize","","cdkAutosizeMinRows","10","autocomplete","off",3,"formControl"],["appearance","outline",1,"col-md-12","mt-2"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"nav",1),r.Tb(2,"ol",2),r.Tb(3,"li",3),r.Tb(4,"a",4),r.Ec(5,"Inicio"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h2",7),r.Ec(9," Seguimiento Pedidos "),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"div",9),r.Cc(12,fe,3,0,"button",10),r.Cc(13,ve,3,0,"button",10),r.Sb(),r.Tb(14,"mat-form-field",11),r.Tb(15,"mat-label"),r.Ec(16,"Buscar"),r.Sb(),r.Ob(17,"input",12),r.Tb(18,"span",13),r.Tb(19,"mat-icon"),r.Ec(20,"search"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Cc(21,Se,2,1,"div",14),r.gc(22,"async"),r.Cc(23,Ee,11,6,"mat-card",15),r.gc(24,"async"),r.gc(25,"async"),r.Cc(26,Oe,9,3,"ng-template",null,16,r.Dc),r.Cc(28,Re,65,8,"ng-template",null,17,r.Dc),r.Cc(30,Ie,23,2,"ng-template",null,18,r.Dc),r.Cc(32,je,21,4,"ng-template",null,19,r.Dc)),2&t&&(r.Bb(4),r.mc("routerLink",r.nc(12,Me)),r.Bb(8),r.mc("ngIf",!e.fullscreen),r.Bb(1),r.mc("ngIf",e.fullscreen),r.Bb(4),r.mc("formControl",e.buscar),r.Bb(4),r.mc("ngIf",r.hc(22,6,e.seguiminetoPedidos.responseCargando$)),r.Bb(2),r.mc("ngIf",!r.hc(24,8,e.seguiminetoPedidos.responseCargando$)&&r.hc(25,10,e.seguiminetoPedidos.responsePedidos$).length>0))},directives:[s.i,o.l,g.b,g.f,v.a,n.b,n.k,n.d,g.g,x.a,T.a,B.a,u.a,u.d,o.k,u.b,z.e,z.c,P.h,ue.a,A.b,A.c,z.a,z.b,S.b,_.a,g.e,P.j],pipes:[o.b,L.a,N.a,o.e],styles:[".example-container[_ngcontent-%COMP%]{width:400px;max-width:100%;margin:0 25px 25px 0;display:inline-block;vertical-align:top}.example-list[_ngcontent-%COMP%]{border:1px solid #ccc;min-height:60px;background:#fff;border-radius:4px;overflow:hidden;display:block}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:#fff;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.tarjetaSeguimiento[_ngcontent-%COMP%]{background-color:transparent!important;box-shadow:none!important}.seguimiento[_ngcontent-%COMP%]   .columna[_ngcontent-%COMP%]{vertical-align:top!important;padding:10px!important}.seguimiento[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]{background-color:#f5f5f5;height:45px;margin-bottom:5px!important;align-items:center;font-size:15px;white-space:nowrap;padding:0}.seguimiento[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:auto!important}.seguimiento[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%], .seguimiento[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   ng-deep[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]{padding:0!important}.seguimiento[_ngcontent-%COMP%]   .tarjeta[_ngcontent-%COMP%]{border-right:8px solid red}.seguimiento[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-right:1px solid #ccc}.seguimiento[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#f3f3f3!important}.tableFixHead[_ngcontent-%COMP%]{max-height:75vh!important}.imagePedido[_ngcontent-%COMP%]{width:30vw;height:30vh}"]}),t})()}];let Ae=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[s.j.forChild(Fe)],s.j]}),t})();var Be=i("Qvjp"),$e=i("Xa2L"),ze=i("PCNd");let Le=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[o.c,Ae,g.d,x.b,v.b,T.b,u.f,n.o,_.b,Be.a,$.c,$e.a,Zt,z.d,ze.a,de,A.d,f.b]]}),t})()}}]);