{"version":3,"sources":["webpack:///src/app/modules/clientes/clientes.module.ts","webpack:///node_modules/@angular/material/__ivy_ngcc__/fesm2015/bottom-sheet.js","webpack:///node_modules/@angular/cdk/__ivy_ngcc__/fesm2015/drag-drop.js","webpack:///src/app/services/client-socket.service.ts","webpack:///src/app/modules/clientes/clientes-routing.module.ts","webpack:///src/app/modules/clientes/listar-pedidos/listar-pedidos.component.ts","webpack:///src/app/modules/clientes/listar-pedidos/listar-pedidos.component.html","webpack:///src/app/modules/clientes/generar-pedido/generar-pedido-facade.service.ts","webpack:///src/app/modules/clientes/seguimiento-pedidos/seguimiento-pedido-facade.service.ts","webpack:///src/app/modules/clientes/generar-pedido/generar-pedido.component.ts","webpack:///src/app/modules/clientes/generar-pedido/generar-pedido.component.html","webpack:///src/app/modules/clientes/seguimiento-pedidos/seguimiento-pedidos.component.ts","webpack:///src/app/modules/clientes/seguimiento-pedidos/seguimiento-pedidos.component.html","webpack:///src/app/modules/clientes/listar-pedidos/listar-pedidos-facade.service.ts","webpack:///src/app/shared/paginator/paginator-facade.service.ts"],"names":["PedidosModule","declarations","imports","MatBottomSheetContainer_ng_template_0_Template","rf","ctx","MAT_BOTTOM_SHEET_DATA","MatBottomSheetConfig","data","hasBackdrop","disableClose","ariaLabel","closeOnNavigation","autoFocus","restoreFocus","matBottomSheetAnimations","bottomSheetState","transform","COMPLEX","ACCELERATION_CURVE","EXITING","DECELERATION_CURVE","MatBottomSheetContainer","_elementRef","_changeDetectorRef","_focusTrapFactory","breakpointObserver","document","bottomSheetConfig","_animationState","_animationStateChanged","_elementFocusedBeforeOpened","attachDomPortal","portal","_validatePortalAttached","_setPanelClass","_savePreviouslyFocusedElement","_portalOutlet","_document","_breakpointSubscription","observe","Medium","Large","XLarge","subscribe","_toggleClass","isMatched","attachComponentPortal","attachTemplatePortal","_destroyed","detectChanges","markForCheck","unsubscribe","event","toState","_restoreFocus","_trapFocus","emit","cssClass","add","classList","nativeElement","remove","hasAttached","ngDevMode","Error","element","panelClass","Array","isArray","forEach","_focusTrap","create","focusInitialElementWhenReady","activeElement","contains","focus","toFocus","body","destroy","Promise","resolve","then","ɵfac","MatBottomSheetContainer_Factory","t","ɵcmp","type","selectors","viewQuery","MatBottomSheetContainer_Query","_t","first","hostAttrs","hostVars","hostBindings","MatBottomSheetContainer_HostBindings","MatBottomSheetContainer_animation_state_start_HostBindingHandler","$event","_onAnimationStart","MatBottomSheetContainer_animation_state_done_HostBindingHandler","_onAnimationDone","features","decls","vars","consts","template","MatBottomSheetContainer_Template","directives","styles","encapsulation","animation","ctorParameters","undefined","decorators","args","propDecorators","selector","changeDetection","Default","None","animations","host","MatBottomSheetModule","ɵmod","ɵinj","factory","MatBottomSheetModule_Factory","ngJitMode","exports","entryComponents","MatBottomSheetRef","containerInstance","_overlayRef","_afterDismissed","_afterOpened","pipe","phaseName","next","complete","clearTimeout","_closeFallbackTimeout","dispose","detachments","_result","backdropClick","keydownEvents","keyCode","preventDefault","dismiss","result","closed","setTimeout","totalTime","detachBackdrop","exit","MAT_BOTTOM_SHEET_DEFAULT_OPTIONS","MatBottomSheet","_overlay","_injector","_parentBottomSheet","_defaultOptions","_bottomSheetRefAtThisLevel","parent","_openedBottomSheetRef","value","componentOrTemplateRef","config","_config","_applyConfigDefaults","overlayRef","_createOverlay","container","_attachContainer","ref","$implicit","bottomSheetRef","_createInjector","contentRef","instance","afterDismissed","enter","userInjector","viewContainerRef","injector","providers","provide","useValue","containerPortal","containerRef","attach","overlayConfig","direction","disposeOnNavigation","maxWidth","scrollStrategy","scrollStrategies","block","positionStrategy","position","global","centerHorizontally","bottom","backdropClass","get","push","change","MatBottomSheet_Factory","ɵprov","token","providedIn","defaults","Object","assign","extendStyles","dest","source","key","hasOwnProperty","toggleNativeDragInteractions","enable","userSelect","style","touchAction","webkitUserDrag","webkitTapHighlightColor","msUserSelect","webkitUserSelect","MozUserSelect","toggleVisibility","top","opacity","left","parseCssTimeUnitsToMs","multiplier","toLowerCase","indexOf","parseFloat","getTransformTransitionDurationInMs","computedStyle","getComputedStyle","transitionedProperties","parseCssPropertyValue","property","find","prop","propertyIndex","rawDurations","rawDelays","name","getPropertyValue","split","map","part","trim","getMutableClientRect","clientRect","getBoundingClientRect","right","width","height","isInsideClientRect","x","y","adjustClientRect","isPointerNearClientRect","rect","threshold","pointerX","pointerY","xThreshold","yThreshold","ParentPositionTracker","_viewportRuler","positions","Map","clear","elements","set","scrollPosition","getViewportScrollPosition","scrollTop","scrollLeft","target","cachedPosition","scrolledParentNode","documentElement","newTop","newLeft","viewportScrollPosition","topDifference","leftDifference","node","deepCloneNode","clone","cloneNode","descendantsWithId","querySelectorAll","nodeName","removeAttribute","i","length","transferCanvasData","transferInputData","transferData","callback","descendantElements","cloneElements","cloneUniqueId","context","getContext","drawImage","_a","passiveEventListenerOptions","passive","activeEventListenerOptions","MOUSE_EVENT_IGNORE_TIME","DragRef","_ngZone","_dragDropRegistry","_passiveTransform","_activeTransform","_moveEvents","_pointerMoveSubscription","EMPTY","_pointerUpSubscription","_scrollSubscription","_resizeSubscription","_boundaryElement","_nativeInteractionsEnabled","_handles","_disabledHandles","Set","_direction","dragStartDelay","_disabled","beforeStarted","started","released","ended","entered","exited","dropped","moved","_pointerDown","targetHandle","handle","has","disabled","_initializeDragSequence","_rootElement","_pointerMove","pointerPosition","_getPointerPositionOnPage","_hasStartedDragging","distanceX","Math","abs","_pickupPositionOnPage","distanceY","isOverThreshold","dragStartThreshold","isDelayElapsed","Date","now","_dragStartTime","_getDragStartDelay","_dropContainer","_endDragSequence","isDragging","isReceiving","run","_startDragSequence","_previewRect","_preview","constrainedPointerPosition","_getConstrainedPointerPosition","_hasMoved","_lastKnownPointerPosition","_updatePointerDirectionDelta","_updateActiveDropContainer","activeTransform","_applyRootElementTransform","SVGElement","appliedTransform","setAttribute","observers","distance","_getDragDistance","delta","_pointerDirectionDelta","_pointerUp","withRootElement","_parentPositions","registerDragItem","newValue","_toggleNativeDragInteractions","_placeholder","getPlaceholderElement","getRootElement","handles","disabledHandles","_previewTemplate","_placeholderTemplate","rootElement","_removeRootElementListeners","runOutsideAngular","addEventListener","_initialTransform","_ownerSVGElement","ownerSVGElement","boundaryElement","_containInsideBoundaryOnResize","removeNode","_anchor","_destroyPreview","_destroyPlaceholder","removeDragItem","_removeSubscriptions","_previewRef","_placeholderRef","stopDragging","_rootElementTapHighlight","_stopScrolling","_animatePreviewToPlaceholder","_cleanupDragArtifacts","_cleanupCachedDimensions","isTouchEvent","_lastTouchEventTime","dropContainer","parentNode","preview","_createPreviewElement","placeholder","_createPlaceholderElement","anchor","createComment","shadowRoot","_getShadowRoot","insertBefore","appendChild","replaceChild","getPreviewInsertionPoint","start","_initialContainer","_initialIndex","getItemIndex","cache","getScrollableParents","referenceElement","stopPropagation","isTouchSequence","isAuxiliaryMouseButton","button","isSyntheticEvent","draggable","pointerMove","pointerUp","scroll","scrollEvent","_updateOnScroll","_boundaryRect","previewTemplate","_pickupPositionInElement","matchSize","_getPointerPositionInElement","_pointerPositionAtLastDirectionChange","startDragging","currentIndex","isPointerOverContainer","_isOverContainer","item","previousIndex","previousContainer","drop","rawX","rawY","newContainer","_getSiblingContainerFromPosition","sortingDisabled","_startScrollingIfNecessary","_sortItem","getTransform","previewConfig","previewClass","rootRect","viewRef","viewContainer","createEmbeddedView","getRootNode","matchElementSize","pointerEvents","margin","zIndex","className","placeholderRect","duration","handler","propertyName","removeEventListener","timeout","placeholderConfig","placeholderTemplate","elementRect","handleElement","referenceRect","point","targetTouches","_getViewportScrollPosition","pageX","pageY","touches","changedTouches","svgMatrix","getScreenCTM","svgPoint","createSVGPoint","matrixTransform","inverse","dropContainerLock","lockAxis","constrainPosition","pickupX","pickupY","boundaryRect","previewRect","minY","maxY","minX","maxX","clamp","pointerPositionOnPage","positionSinceLastChange","changeX","changeY","pointerDirectionChangeThreshold","shouldEnable","currentPosition","pickupPosition","leftOverflow","rightOverflow","topOverflow","bottomOverflow","setFreeDragPosition","touch","mouse","scrollDifference","handleScroll","_cachedShadowRoot","round","min","max","removeChild","documentRef","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","rootNodes","nodeType","ELEMENT_NODE","wrapper","createElement","sourceRect","moveItemInArray","array","fromIndex","toIndex","from","clamp$1","to","transferArrayItem","currentArray","targetArray","targetIndex","splice","copyArrayItem","DROP_PROXIMITY_THRESHOLD","SCROLL_PROXIMITY_THRESHOLD","AUTO_SCROLL_STEP","DropListRef","autoScrollDisabled","enterPredicate","sortPredicate","sorted","_isDragging","_itemPositions","_previousSwap","drag","overlaps","_siblings","_orientation","_activeSiblings","_viewportScrollSubscription","_verticalScrollDirection","_horizontalScrollDirection","_stopScrollTimers","_startScrollInterval","_scrollNode","incrementVerticalScroll","incrementHorizontalScroll","withScrollableParents","registerDropContainer","removeDropContainer","_initialScrollSnap","msScrollSnapType","scrollSnapType","_cacheItems","sibling","_startReceiving","_listenToScrollEvents","index","newIndex","_draggables","_getItemIndexFromPointerPosition","activeDraggables","_activeDraggables","newPositionReference","parentElement","_shouldEnterAsFirstChild","reference","unshift","_cacheItemPositions","_cacheParentPositions","_reset","items","previousItems","_withDropContainer","draggedItems","filter","every","connectedTo","slice","orientation","_scrollableElements","reverse","findIndex","currentItem","size","pointerDelta","_clientRect","siblings","isHorizontal","siblingAtNewPosition","newPosition","itemOffset","_getItemOffsetPx","siblingOffset","_getSiblingOffsetPx","oldOrder","isDraggedItem","offset","elementToOffset","scrollNode","verticalScrollDirection","horizontalScrollDirection","getElementScrollDirections","getViewportSize","getVerticalScrollDirection","getHorizontalScrollDirection","window","elementToMeasure","getVisibleElement","sort","a","b","_stopReceiving","immediateSibling","end","itemPositions","reversed","lastItemRect","firstItemRect","_","floor","_canReceive","elementFromPoint","activeSiblings","_sortFromLastPointerPosition","predicate","amount","scrollBy","computedVertical","computedHorizontal","scrollHeight","clientHeight","scrollWidth","clientWidth","activeCapturingEventOptions","capture","DragDropRegistry","_dropInstances","_dragInstances","_activeDragInstances","_globalListeners","_preventDefaultWhileDragging","_persistentTouchmoveListener","startsWith","e","options","_clearGlobalListeners","DragDropRegistry_Factory","DEFAULT_CONFIG","DragDrop","DragDrop_Factory","CDK_DRAG_PARENT","CDK_DROP_LIST_GROUP","CdkDropListGroup","_items","CdkDropListGroup_Factory","ɵdir","inputs","exportAs","useExisting","CDK_DRAG_CONFIG","assertElementNode","_uniqueIdCounter","CDK_DROP_LIST","ɵ0","CdkDropList","dragDrop","_scrollDispatcher","_dir","_group","id","_unsortedItems","_dropListRef","createDropList","_assignDefaults","_setupInputSyncSubscription","_handleEvents","_dropLists","_syncItemsWithRef","documentPosition","_dragRef","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","withDirection","correspondingDropList","list","console","warn","_scrollableParentsResolved","scrollableParents","getAncestorScrollContainers","scrollable","getElementRef","withOrientation","draggingDisabled","listAutoScrollDisabled","listOrientation","withItems","getSortedItems","CdkDropList_Factory","CdkDropList_HostBindings","outputs","CDK_DRAG_HANDLE","CdkDragHandle","parentDrag","_stateChanges","_parentDrag","CdkDragHandle_Factory","CDK_DRAG_PLACEHOLDER","CdkDragPlaceholder","templateRef","CdkDragPlaceholder_Factory","CDK_DRAG_PREVIEW","CdkDragPreview","_matchSize","CdkDragPreview_Factory","CdkDrag","_viewContainerRef","_selfHandle","observer","subscription","movedEvent","createDrag","addItem","_syncInputs","reset","getFreeDragPosition","onStable","_updateRootElement","changes","childHandleElements","rootElementSelector","withHandles","handleInstance","dragRef","disableHandle","enableHandle","freeDragPosition","rootSelectorChange","positionChange","firstChange","removeItem","getClosestMatchingAncestor","boundary","dir","withBoundaryElement","_getBoundaryElement","withPlaceholderTemplate","withPreviewTemplate","CdkDrag_Factory","contentQueries","CdkDrag_ContentQueries","dirIndex","CdkDrag_HostBindings","descendants","currentElement","matches","msMatchesSelector","DragDropModule","DragDropModule_Factory","ClientSocketService","socket","socketStatus","checkStatus","on","evento","payload","fromEvent","routes","path","component","PedidosRoutingModule","forChild","ListarPedidosComponent","listarPedidosFacade","paginatorService","dialog","buscar","pageSize","page","pageIndex","desde","hasta","detallePedido","observacion","MostrarPedidos","pedido","setValue","DetallePedido","Observacion","dialogRef","open","Url","templateUrl","styleUrls","GenerarPedidoFacadeService","dataApi","_mensajesHttp","Cargando$","responseCargando$","asObservable","TipoPedidos$","responseTipoPedidos$","MetodosPago$","responseMetodosPago$","params","request$","GetDataApi","Table0","error","mostrarErrorHttp","respuesta","PostDataApi","SeguimientoPedidoFacadeService","toast","Pedidos$","responsePedidos$","Reparto$","responseReparto$","EstadoProceso$","responseEstadoProceso$","PutDataApi","d","Id","IdEstado","newPedidos","pedidos","p","GenerarPedidoComponent","generarPedidoFacade","router","pagoRealizado","fileForm","required","url","selectFile","MostrarTipoPedidos","MostrarMetodosPago","pedidosForm","IdTipoPedido","IdMetodoPago","IdReparto","IdUsuario","usuario","idEstado","invalid","markAllAsTouched","mensajeWarning","formData","FormData","InsertarPedido","respuestaPedido","hasError","append","cargarArchivo","respuestaArchivo","formAdjunto","idPedido","nombreAdjunto","nombreArchivo","extension","substring","InsertarArchivoAdjunto","respuestAdjunto","mensajeSuccess","navigateByUrl","files","file","imageError","max_size","allowed_types","max_height","max_width","reader","FileReader","onload","image","Image","src","foto","rs","img_height","currentTarget","img_width","imgBase64Path","cardImageBase64","isImageSaved","readAsDataURL","SeguimientoPedidosComponent","seguiminetoPedidos","_bottomSheet","clienteSocket","fullscreen","prueba1","prueba2","prueba3","prueba4","encabezados","idReparto","MostrarSeguimientoPedidos","MostrarEstadosProceso","listen","notificarPedido","elem","EstadoProceso","requiereObservacion","modalPedido","openModalRepartidor","ActualizarEstadoPedidos","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","clearToasts","agregarPedido","audio","Audio","play","mensajeInfo","modalActualizarPedido","closeAll","MostrarReparto","modalRepartidor","ListarPedidosFacadeService","PaginatorFacadeService","DataPaginator","itemPagina","totalItem","responseDataPaginator"],"mappings":"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","file":"modules-clientes-clientes-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PedidosRoutingModule } from './clientes-routing.module';\nimport { GenerarPedidoComponent } from './generar-pedido/generar-pedido.component';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { MatSelectModule } from '@angular/material/select';\nimport { ListarPedidosComponent } from './listar-pedidos/listar-pedidos.component';\n\nimport { PipeModule } from 'src/app/core/pipe/pipe.module';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { SeguimientoPedidosComponent } from './seguimiento-pedidos/seguimiento-pedidos.component';\nimport {DragDropModule} from '@angular/cdk/drag-drop';\nimport {MatListModule} from '@angular/material/list';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport {MatBottomSheetModule} from '@angular/material/bottom-sheet';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\n@NgModule({\n  declarations: [GenerarPedidoComponent, ListarPedidosComponent, SeguimientoPedidosComponent],\n  imports: [\n    CommonModule,\n    PedidosRoutingModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatInputModule,\n    MatButtonModule,\n    MatCardModule,\n    ReactiveFormsModule,\n    MatSelectModule,\n    PipeModule,\n    MatPaginatorModule,\n    MatProgressSpinnerModule,\n    DragDropModule,\n    MatListModule,\n    SharedModule,\n    MatBottomSheetModule,\n    MatDialogModule,\n    MatSlideToggleModule\n  ]\n})\nexport class PedidosModule { }\n","import { OverlayModule, OverlayConfig, Overlay } from '@angular/cdk/overlay';\nimport { BasePortalOutlet, CdkPortalOutlet, PortalModule, TemplatePortal, ComponentPortal } from '@angular/cdk/portal';\nimport { InjectionToken, EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, ElementRef, ChangeDetectorRef, Optional, Inject, ViewChild, NgModule, TemplateRef, Injector, ɵɵdefineInjectable, ɵɵinject, INJECTOR, Injectable, SkipSelf } from '@angular/core';\nimport { AnimationDurations, AnimationCurves, MatCommonModule } from '@angular/material/core';\nimport { Breakpoints, BreakpointObserver } from '@angular/cdk/layout';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { DOCUMENT } from '@angular/common';\nimport { FocusTrapFactory } from '@angular/cdk/a11y';\nimport { Directionality } from '@angular/cdk/bidi';\nimport { Subject, merge, of } from 'rxjs';\nimport { ESCAPE, hasModifierKey } from '@angular/cdk/keycodes';\nimport { filter, take } from 'rxjs/operators';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Injection token that can be used to access the data that was passed in to a bottom sheet. */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/a11y';\nimport * as ɵngcc2 from '@angular/cdk/layout';\nimport * as ɵngcc3 from '@angular/cdk/portal';\nimport * as ɵngcc4 from '@angular/cdk/overlay';\n\nfunction MatBottomSheetContainer_ng_template_0_Template(rf, ctx) { }\nconst MAT_BOTTOM_SHEET_DATA = new InjectionToken('MatBottomSheetData');\n/**\n * Configuration used when opening a bottom sheet.\n */\nclass MatBottomSheetConfig {\n    constructor() {\n        /** Data being injected into the child component. */\n        this.data = null;\n        /** Whether the bottom sheet has a backdrop. */\n        this.hasBackdrop = true;\n        /** Whether the user can use escape or clicking outside to close the bottom sheet. */\n        this.disableClose = false;\n        /** Aria label to assign to the bottom sheet element. */\n        this.ariaLabel = null;\n        /**\n         * Whether the bottom sheet should close when the user goes backwards/forwards in history.\n         * Note that this usually doesn't include clicking on links (unless the user is using\n         * the `HashLocationStrategy`).\n         */\n        this.closeOnNavigation = true;\n        // Note that this is disabled by default, because while the a11y recommendations are to focus\n        // the first focusable element, doing so prevents screen readers from reading out the\n        // rest of the bottom sheet content.\n        /** Whether the bottom sheet should focus the first focusable element on open. */\n        this.autoFocus = false;\n        /**\n         * Whether the bottom sheet should restore focus to the\n         * previously-focused element, after it's closed.\n         */\n        this.restoreFocus = true;\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Animations used by the Material bottom sheet. */\nconst matBottomSheetAnimations = {\n    /** Animation that shows and hides a bottom sheet. */\n    bottomSheetState: trigger('state', [\n        state('void, hidden', style({ transform: 'translateY(100%)' })),\n        state('visible', style({ transform: 'translateY(0%)' })),\n        transition('visible => void, visible => hidden', animate(`${AnimationDurations.COMPLEX} ${AnimationCurves.ACCELERATION_CURVE}`)),\n        transition('void => visible', animate(`${AnimationDurations.EXITING} ${AnimationCurves.DECELERATION_CURVE}`)),\n    ])\n};\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// TODO(crisbeto): consolidate some logic between this, MatDialog and MatSnackBar\n/**\n * Internal component that wraps user-provided bottom sheet content.\n * @docs-private\n */\nclass MatBottomSheetContainer extends BasePortalOutlet {\n    constructor(_elementRef, _changeDetectorRef, _focusTrapFactory, breakpointObserver, document, \n    /** The bottom sheet configuration. */\n    bottomSheetConfig) {\n        super();\n        this._elementRef = _elementRef;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._focusTrapFactory = _focusTrapFactory;\n        this.bottomSheetConfig = bottomSheetConfig;\n        /** The state of the bottom sheet animations. */\n        this._animationState = 'void';\n        /** Emits whenever the state of the animation changes. */\n        this._animationStateChanged = new EventEmitter();\n        /** Element that was focused before the bottom sheet was opened. */\n        this._elementFocusedBeforeOpened = null;\n        /**\n         * Attaches a DOM portal to the bottom sheet container.\n         * @deprecated To be turned into a method.\n         * @breaking-change 10.0.0\n         */\n        this.attachDomPortal = (portal) => {\n            this._validatePortalAttached();\n            this._setPanelClass();\n            this._savePreviouslyFocusedElement();\n            return this._portalOutlet.attachDomPortal(portal);\n        };\n        this._document = document;\n        this._breakpointSubscription = breakpointObserver\n            .observe([Breakpoints.Medium, Breakpoints.Large, Breakpoints.XLarge])\n            .subscribe(() => {\n            this._toggleClass('mat-bottom-sheet-container-medium', breakpointObserver.isMatched(Breakpoints.Medium));\n            this._toggleClass('mat-bottom-sheet-container-large', breakpointObserver.isMatched(Breakpoints.Large));\n            this._toggleClass('mat-bottom-sheet-container-xlarge', breakpointObserver.isMatched(Breakpoints.XLarge));\n        });\n    }\n    /** Attach a component portal as content to this bottom sheet container. */\n    attachComponentPortal(portal) {\n        this._validatePortalAttached();\n        this._setPanelClass();\n        this._savePreviouslyFocusedElement();\n        return this._portalOutlet.attachComponentPortal(portal);\n    }\n    /** Attach a template portal as content to this bottom sheet container. */\n    attachTemplatePortal(portal) {\n        this._validatePortalAttached();\n        this._setPanelClass();\n        this._savePreviouslyFocusedElement();\n        return this._portalOutlet.attachTemplatePortal(portal);\n    }\n    /** Begin animation of bottom sheet entrance into view. */\n    enter() {\n        if (!this._destroyed) {\n            this._animationState = 'visible';\n            this._changeDetectorRef.detectChanges();\n        }\n    }\n    /** Begin animation of the bottom sheet exiting from view. */\n    exit() {\n        if (!this._destroyed) {\n            this._animationState = 'hidden';\n            this._changeDetectorRef.markForCheck();\n        }\n    }\n    ngOnDestroy() {\n        this._breakpointSubscription.unsubscribe();\n        this._destroyed = true;\n    }\n    _onAnimationDone(event) {\n        if (event.toState === 'hidden') {\n            this._restoreFocus();\n        }\n        else if (event.toState === 'visible') {\n            this._trapFocus();\n        }\n        this._animationStateChanged.emit(event);\n    }\n    _onAnimationStart(event) {\n        this._animationStateChanged.emit(event);\n    }\n    _toggleClass(cssClass, add) {\n        const classList = this._elementRef.nativeElement.classList;\n        add ? classList.add(cssClass) : classList.remove(cssClass);\n    }\n    _validatePortalAttached() {\n        if (this._portalOutlet.hasAttached() && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n            throw Error('Attempting to attach bottom sheet content after content is already attached');\n        }\n    }\n    _setPanelClass() {\n        const element = this._elementRef.nativeElement;\n        const panelClass = this.bottomSheetConfig.panelClass;\n        if (Array.isArray(panelClass)) {\n            // Note that we can't use a spread here, because IE doesn't support multiple arguments.\n            panelClass.forEach(cssClass => element.classList.add(cssClass));\n        }\n        else if (panelClass) {\n            element.classList.add(panelClass);\n        }\n    }\n    /** Moves the focus inside the focus trap. */\n    _trapFocus() {\n        const element = this._elementRef.nativeElement;\n        if (!this._focusTrap) {\n            this._focusTrap = this._focusTrapFactory.create(element);\n        }\n        if (this.bottomSheetConfig.autoFocus) {\n            this._focusTrap.focusInitialElementWhenReady();\n        }\n        else {\n            const activeElement = this._document.activeElement;\n            // Otherwise ensure that focus is on the container. It's possible that a different\n            // component tried to move focus while the open animation was running. See:\n            // https://github.com/angular/components/issues/16215. Note that we only want to do this\n            // if the focus isn't inside the bottom sheet already, because it's possible that the\n            // consumer turned off `autoFocus` in order to move focus themselves.\n            if (activeElement !== element && !element.contains(activeElement)) {\n                element.focus();\n            }\n        }\n    }\n    /** Restores focus to the element that was focused before the bottom sheet was opened. */\n    _restoreFocus() {\n        const toFocus = this._elementFocusedBeforeOpened;\n        // We need the extra check, because IE can set the `activeElement` to null in some cases.\n        if (this.bottomSheetConfig.restoreFocus && toFocus && typeof toFocus.focus === 'function') {\n            const activeElement = this._document.activeElement;\n            const element = this._elementRef.nativeElement;\n            // Make sure that focus is still inside the bottom sheet or is on the body (usually because a\n            // non-focusable element like the backdrop was clicked) before moving it. It's possible that\n            // the consumer moved it themselves before the animation was done, in which case we shouldn't\n            // do anything.\n            if (!activeElement || activeElement === this._document.body || activeElement === element ||\n                element.contains(activeElement)) {\n                toFocus.focus();\n            }\n        }\n        if (this._focusTrap) {\n            this._focusTrap.destroy();\n        }\n    }\n    /** Saves a reference to the element that was focused before the bottom sheet was opened. */\n    _savePreviouslyFocusedElement() {\n        this._elementFocusedBeforeOpened = this._document.activeElement;\n        // The `focus` method isn't available during server-side rendering.\n        if (this._elementRef.nativeElement.focus) {\n            Promise.resolve().then(() => this._elementRef.nativeElement.focus());\n        }\n    }\n}\nMatBottomSheetContainer.ɵfac = function MatBottomSheetContainer_Factory(t) { return new (t || MatBottomSheetContainer)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.FocusTrapFactory), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.BreakpointObserver), ɵngcc0.ɵɵdirectiveInject(DOCUMENT, 8), ɵngcc0.ɵɵdirectiveInject(MatBottomSheetConfig)); };\nMatBottomSheetContainer.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: MatBottomSheetContainer, selectors: [[\"mat-bottom-sheet-container\"]], viewQuery: function MatBottomSheetContainer_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵstaticViewQuery(CdkPortalOutlet, true);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._portalOutlet = _t.first);\n    } }, hostAttrs: [\"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-modal\", \"true\", 1, \"mat-bottom-sheet-container\"], hostVars: 2, hostBindings: function MatBottomSheetContainer_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵsyntheticHostListener(\"@state.start\", function MatBottomSheetContainer_animation_state_start_HostBindingHandler($event) { return ctx._onAnimationStart($event); })(\"@state.done\", function MatBottomSheetContainer_animation_state_done_HostBindingHandler($event) { return ctx._onAnimationDone($event); });\n    } if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"aria-label\", ctx.bottomSheetConfig == null ? null : ctx.bottomSheetConfig.ariaLabel);\n        ɵngcc0.ɵɵsyntheticHostProperty(\"@state\", ctx._animationState);\n    } }, features: [ɵngcc0.ɵɵInheritDefinitionFeature], decls: 1, vars: 0, consts: [[\"cdkPortalOutlet\", \"\"]], template: function MatBottomSheetContainer_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, MatBottomSheetContainer_ng_template_0_Template, 0, 0, \"ng-template\", 0);\n    } }, directives: [ɵngcc3.CdkPortalOutlet], styles: [\".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\\n\"], encapsulation: 2, data: { animation: [matBottomSheetAnimations.bottomSheetState] } });\nMatBottomSheetContainer.ctorParameters = () => [\n    { type: ElementRef },\n    { type: ChangeDetectorRef },\n    { type: FocusTrapFactory },\n    { type: BreakpointObserver },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [DOCUMENT,] }] },\n    { type: MatBottomSheetConfig }\n];\nMatBottomSheetContainer.propDecorators = {\n    _portalOutlet: [{ type: ViewChild, args: [CdkPortalOutlet, { static: true },] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatBottomSheetContainer, [{\n        type: Component,\n        args: [{\n                selector: 'mat-bottom-sheet-container',\n                template: \"<ng-template cdkPortalOutlet></ng-template>\\r\\n\",\n                // In Ivy embedded views will be change detected from their declaration place, rather than where\n                // they were stamped out. This means that we can't have the bottom sheet container be OnPush,\n                // because it might cause the sheets that were opened from a template not to be out of date.\n                // tslint:disable-next-line:validate-decorators\n                changeDetection: ChangeDetectionStrategy.Default,\n                encapsulation: ViewEncapsulation.None,\n                animations: [matBottomSheetAnimations.bottomSheetState],\n                host: {\n                    'class': 'mat-bottom-sheet-container',\n                    'tabindex': '-1',\n                    'role': 'dialog',\n                    'aria-modal': 'true',\n                    '[attr.aria-label]': 'bottomSheetConfig?.ariaLabel',\n                    '[@state]': '_animationState',\n                    '(@state.start)': '_onAnimationStart($event)',\n                    '(@state.done)': '_onAnimationDone($event)'\n                },\n                styles: [\".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\\n\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc1.FocusTrapFactory }, { type: ɵngcc2.BreakpointObserver }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: MatBottomSheetConfig }]; }, { _portalOutlet: [{\n            type: ViewChild,\n            args: [CdkPortalOutlet, { static: true }]\n        }] }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nclass MatBottomSheetModule {\n}\nMatBottomSheetModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: MatBottomSheetModule });\nMatBottomSheetModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function MatBottomSheetModule_Factory(t) { return new (t || MatBottomSheetModule)(); }, imports: [[\n            OverlayModule,\n            MatCommonModule,\n            PortalModule,\n        ], MatCommonModule] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(MatBottomSheetModule, { declarations: function () { return [MatBottomSheetContainer]; }, imports: function () { return [OverlayModule,\n        MatCommonModule,\n        PortalModule]; }, exports: function () { return [MatBottomSheetContainer, MatCommonModule]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatBottomSheetModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    OverlayModule,\n                    MatCommonModule,\n                    PortalModule,\n                ],\n                exports: [MatBottomSheetContainer, MatCommonModule],\n                declarations: [MatBottomSheetContainer],\n                entryComponents: [MatBottomSheetContainer]\n            }]\n    }], null, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Reference to a bottom sheet dispatched from the bottom sheet service.\n */\nclass MatBottomSheetRef {\n    constructor(containerInstance, _overlayRef) {\n        this._overlayRef = _overlayRef;\n        /** Subject for notifying the user that the bottom sheet has been dismissed. */\n        this._afterDismissed = new Subject();\n        /** Subject for notifying the user that the bottom sheet has opened and appeared. */\n        this._afterOpened = new Subject();\n        this.containerInstance = containerInstance;\n        this.disableClose = containerInstance.bottomSheetConfig.disableClose;\n        // Emit when opening animation completes\n        containerInstance._animationStateChanged.pipe(filter(event => event.phaseName === 'done' && event.toState === 'visible'), take(1))\n            .subscribe(() => {\n            this._afterOpened.next();\n            this._afterOpened.complete();\n        });\n        // Dispose overlay when closing animation is complete\n        containerInstance._animationStateChanged\n            .pipe(filter(event => event.phaseName === 'done' && event.toState === 'hidden'), take(1))\n            .subscribe(() => {\n            clearTimeout(this._closeFallbackTimeout);\n            _overlayRef.dispose();\n        });\n        _overlayRef.detachments().pipe(take(1)).subscribe(() => {\n            this._afterDismissed.next(this._result);\n            this._afterDismissed.complete();\n        });\n        merge(_overlayRef.backdropClick(), _overlayRef.keydownEvents().pipe(filter(event => event.keyCode === ESCAPE))).subscribe(event => {\n            if (!this.disableClose &&\n                (event.type !== 'keydown' || !hasModifierKey(event))) {\n                event.preventDefault();\n                this.dismiss();\n            }\n        });\n    }\n    /**\n     * Dismisses the bottom sheet.\n     * @param result Data to be passed back to the bottom sheet opener.\n     */\n    dismiss(result) {\n        if (!this._afterDismissed.closed) {\n            // Transition the backdrop in parallel to the bottom sheet.\n            this.containerInstance._animationStateChanged.pipe(filter(event => event.phaseName === 'start'), take(1)).subscribe(event => {\n                // The logic that disposes of the overlay depends on the exit animation completing, however\n                // it isn't guaranteed if the parent view is destroyed while it's running. Add a fallback\n                // timeout which will clean everything up if the animation hasn't fired within the specified\n                // amount of time plus 100ms. We don't need to run this outside the NgZone, because for the\n                // vast majority of cases the timeout will have been cleared before it has fired.\n                this._closeFallbackTimeout = setTimeout(() => {\n                    this._overlayRef.dispose();\n                }, event.totalTime + 100);\n                this._overlayRef.detachBackdrop();\n            });\n            this._result = result;\n            this.containerInstance.exit();\n        }\n    }\n    /** Gets an observable that is notified when the bottom sheet is finished closing. */\n    afterDismissed() {\n        return this._afterDismissed;\n    }\n    /** Gets an observable that is notified when the bottom sheet has opened and appeared. */\n    afterOpened() {\n        return this._afterOpened;\n    }\n    /**\n     * Gets an observable that emits when the overlay's backdrop has been clicked.\n     */\n    backdropClick() {\n        return this._overlayRef.backdropClick();\n    }\n    /**\n     * Gets an observable that emits when keydown events are targeted on the overlay.\n     */\n    keydownEvents() {\n        return this._overlayRef.keydownEvents();\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Injection token that can be used to specify default bottom sheet options. */\nconst MAT_BOTTOM_SHEET_DEFAULT_OPTIONS = new InjectionToken('mat-bottom-sheet-default-options');\n/**\n * Service to trigger Material Design bottom sheets.\n */\nclass MatBottomSheet {\n    constructor(_overlay, _injector, _parentBottomSheet, _defaultOptions) {\n        this._overlay = _overlay;\n        this._injector = _injector;\n        this._parentBottomSheet = _parentBottomSheet;\n        this._defaultOptions = _defaultOptions;\n        this._bottomSheetRefAtThisLevel = null;\n    }\n    /** Reference to the currently opened bottom sheet. */\n    get _openedBottomSheetRef() {\n        const parent = this._parentBottomSheet;\n        return parent ? parent._openedBottomSheetRef : this._bottomSheetRefAtThisLevel;\n    }\n    set _openedBottomSheetRef(value) {\n        if (this._parentBottomSheet) {\n            this._parentBottomSheet._openedBottomSheetRef = value;\n        }\n        else {\n            this._bottomSheetRefAtThisLevel = value;\n        }\n    }\n    open(componentOrTemplateRef, config) {\n        const _config = _applyConfigDefaults(this._defaultOptions || new MatBottomSheetConfig(), config);\n        const overlayRef = this._createOverlay(_config);\n        const container = this._attachContainer(overlayRef, _config);\n        const ref = new MatBottomSheetRef(container, overlayRef);\n        if (componentOrTemplateRef instanceof TemplateRef) {\n            container.attachTemplatePortal(new TemplatePortal(componentOrTemplateRef, null, {\n                $implicit: _config.data,\n                bottomSheetRef: ref\n            }));\n        }\n        else {\n            const portal = new ComponentPortal(componentOrTemplateRef, undefined, this._createInjector(_config, ref));\n            const contentRef = container.attachComponentPortal(portal);\n            ref.instance = contentRef.instance;\n        }\n        // When the bottom sheet is dismissed, clear the reference to it.\n        ref.afterDismissed().subscribe(() => {\n            // Clear the bottom sheet ref if it hasn't already been replaced by a newer one.\n            if (this._openedBottomSheetRef == ref) {\n                this._openedBottomSheetRef = null;\n            }\n        });\n        if (this._openedBottomSheetRef) {\n            // If a bottom sheet is already in view, dismiss it and enter the\n            // new bottom sheet after exit animation is complete.\n            this._openedBottomSheetRef.afterDismissed().subscribe(() => ref.containerInstance.enter());\n            this._openedBottomSheetRef.dismiss();\n        }\n        else {\n            // If no bottom sheet is in view, enter the new bottom sheet.\n            ref.containerInstance.enter();\n        }\n        this._openedBottomSheetRef = ref;\n        return ref;\n    }\n    /**\n     * Dismisses the currently-visible bottom sheet.\n     * @param result Data to pass to the bottom sheet instance.\n     */\n    dismiss(result) {\n        if (this._openedBottomSheetRef) {\n            this._openedBottomSheetRef.dismiss(result);\n        }\n    }\n    ngOnDestroy() {\n        if (this._bottomSheetRefAtThisLevel) {\n            this._bottomSheetRefAtThisLevel.dismiss();\n        }\n    }\n    /**\n     * Attaches the bottom sheet container component to the overlay.\n     */\n    _attachContainer(overlayRef, config) {\n        const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n        const injector = Injector.create({\n            parent: userInjector || this._injector,\n            providers: [{ provide: MatBottomSheetConfig, useValue: config }]\n        });\n        const containerPortal = new ComponentPortal(MatBottomSheetContainer, config.viewContainerRef, injector);\n        const containerRef = overlayRef.attach(containerPortal);\n        return containerRef.instance;\n    }\n    /**\n     * Creates a new overlay and places it in the correct location.\n     * @param config The user-specified bottom sheet config.\n     */\n    _createOverlay(config) {\n        const overlayConfig = new OverlayConfig({\n            direction: config.direction,\n            hasBackdrop: config.hasBackdrop,\n            disposeOnNavigation: config.closeOnNavigation,\n            maxWidth: '100%',\n            scrollStrategy: config.scrollStrategy || this._overlay.scrollStrategies.block(),\n            positionStrategy: this._overlay.position().global().centerHorizontally().bottom('0')\n        });\n        if (config.backdropClass) {\n            overlayConfig.backdropClass = config.backdropClass;\n        }\n        return this._overlay.create(overlayConfig);\n    }\n    /**\n     * Creates an injector to be used inside of a bottom sheet component.\n     * @param config Config that was used to create the bottom sheet.\n     * @param bottomSheetRef Reference to the bottom sheet.\n     */\n    _createInjector(config, bottomSheetRef) {\n        const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n        const providers = [\n            { provide: MatBottomSheetRef, useValue: bottomSheetRef },\n            { provide: MAT_BOTTOM_SHEET_DATA, useValue: config.data }\n        ];\n        if (config.direction &&\n            (!userInjector || !userInjector.get(Directionality, null))) {\n            providers.push({\n                provide: Directionality,\n                useValue: { value: config.direction, change: of() }\n            });\n        }\n        return Injector.create({ parent: userInjector || this._injector, providers });\n    }\n}\nMatBottomSheet.ɵfac = function MatBottomSheet_Factory(t) { return new (t || MatBottomSheet)(ɵngcc0.ɵɵinject(ɵngcc4.Overlay), ɵngcc0.ɵɵinject(ɵngcc0.Injector), ɵngcc0.ɵɵinject(MatBottomSheet, 12), ɵngcc0.ɵɵinject(MAT_BOTTOM_SHEET_DEFAULT_OPTIONS, 8)); };\nMatBottomSheet.ɵprov = ɵɵdefineInjectable({ factory: function MatBottomSheet_Factory() { return new MatBottomSheet(ɵɵinject(Overlay), ɵɵinject(INJECTOR), ɵɵinject(MatBottomSheet, 12), ɵɵinject(MAT_BOTTOM_SHEET_DEFAULT_OPTIONS, 8)); }, token: MatBottomSheet, providedIn: MatBottomSheetModule });\nMatBottomSheet.ctorParameters = () => [\n    { type: Overlay },\n    { type: Injector },\n    { type: MatBottomSheet, decorators: [{ type: Optional }, { type: SkipSelf }] },\n    { type: MatBottomSheetConfig, decorators: [{ type: Optional }, { type: Inject, args: [MAT_BOTTOM_SHEET_DEFAULT_OPTIONS,] }] }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatBottomSheet, [{\n        type: Injectable,\n        args: [{ providedIn: MatBottomSheetModule }]\n    }], function () { return [{ type: ɵngcc4.Overlay }, { type: ɵngcc0.Injector }, { type: MatBottomSheet, decorators: [{\n                type: Optional\n            }, {\n                type: SkipSelf\n            }] }, { type: MatBottomSheetConfig, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [MAT_BOTTOM_SHEET_DEFAULT_OPTIONS]\n            }] }]; }, null); })();\n/**\n * Applies default options to the bottom sheet config.\n * @param defaults Object containing the default values to which to fall back.\n * @param config The configuration to which the defaults will be applied.\n * @returns The new configuration object with defaults applied.\n */\nfunction _applyConfigDefaults(defaults, config) {\n    return Object.assign(Object.assign({}, defaults), config);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_BOTTOM_SHEET_DATA, MAT_BOTTOM_SHEET_DEFAULT_OPTIONS, MatBottomSheet, MatBottomSheetConfig, MatBottomSheetContainer, MatBottomSheetModule, MatBottomSheetRef, matBottomSheetAnimations };\n\n//# sourceMappingURL=bottom-sheet.js.map","import { ɵɵdefineInjectable, ɵɵinject, NgZone, Injectable, Inject, InjectionToken, Directive, Input, EventEmitter, ElementRef, ChangeDetectorRef, Optional, SkipSelf, Output, TemplateRef, ViewContainerRef, Self, ContentChildren, ContentChild, NgModule } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { ViewportRuler, ScrollDispatcher, CdkScrollableModule } from '@angular/cdk/scrolling';\nimport { normalizePassiveListenerOptions, _getShadowRoot } from '@angular/cdk/platform';\nimport { coerceBooleanProperty, coerceElement, coerceArray, coerceNumberProperty } from '@angular/cdk/coercion';\nimport { Subject, Subscription, interval, animationFrameScheduler, Observable, merge } from 'rxjs';\nimport { takeUntil, startWith, map, take, tap, switchMap } from 'rxjs/operators';\nimport { Directionality } from '@angular/cdk/bidi';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Shallow-extends a stylesheet object with another stylesheet object.\n * @docs-private\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/scrolling';\nimport * as ɵngcc2 from '@angular/cdk/bidi';\nfunction extendStyles(dest, source) {\n    for (let key in source) {\n        if (source.hasOwnProperty(key)) {\n            dest[key] = source[key];\n        }\n    }\n    return dest;\n}\n/**\n * Toggles whether the native drag interactions should be enabled for an element.\n * @param element Element on which to toggle the drag interactions.\n * @param enable Whether the drag interactions should be enabled.\n * @docs-private\n */\nfunction toggleNativeDragInteractions(element, enable) {\n    const userSelect = enable ? '' : 'none';\n    extendStyles(element.style, {\n        touchAction: enable ? '' : 'none',\n        webkitUserDrag: enable ? '' : 'none',\n        webkitTapHighlightColor: enable ? '' : 'transparent',\n        userSelect: userSelect,\n        msUserSelect: userSelect,\n        webkitUserSelect: userSelect,\n        MozUserSelect: userSelect\n    });\n}\n/**\n * Toggles whether an element is visible while preserving its dimensions.\n * @param element Element whose visibility to toggle\n * @param enable Whether the element should be visible.\n * @docs-private\n */\nfunction toggleVisibility(element, enable) {\n    const styles = element.style;\n    styles.position = enable ? '' : 'fixed';\n    styles.top = styles.opacity = enable ? '' : '0';\n    styles.left = enable ? '' : '-999em';\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Parses a CSS time value to milliseconds. */\nfunction parseCssTimeUnitsToMs(value) {\n    // Some browsers will return it in seconds, whereas others will return milliseconds.\n    const multiplier = value.toLowerCase().indexOf('ms') > -1 ? 1 : 1000;\n    return parseFloat(value) * multiplier;\n}\n/** Gets the transform transition duration, including the delay, of an element in milliseconds. */\nfunction getTransformTransitionDurationInMs(element) {\n    const computedStyle = getComputedStyle(element);\n    const transitionedProperties = parseCssPropertyValue(computedStyle, 'transition-property');\n    const property = transitionedProperties.find(prop => prop === 'transform' || prop === 'all');\n    // If there's no transition for `all` or `transform`, we shouldn't do anything.\n    if (!property) {\n        return 0;\n    }\n    // Get the index of the property that we're interested in and match\n    // it up to the same index in `transition-delay` and `transition-duration`.\n    const propertyIndex = transitionedProperties.indexOf(property);\n    const rawDurations = parseCssPropertyValue(computedStyle, 'transition-duration');\n    const rawDelays = parseCssPropertyValue(computedStyle, 'transition-delay');\n    return parseCssTimeUnitsToMs(rawDurations[propertyIndex]) +\n        parseCssTimeUnitsToMs(rawDelays[propertyIndex]);\n}\n/** Parses out multiple values from a computed style into an array. */\nfunction parseCssPropertyValue(computedStyle, name) {\n    const value = computedStyle.getPropertyValue(name);\n    return value.split(',').map(part => part.trim());\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Gets a mutable version of an element's bounding `ClientRect`. */\nfunction getMutableClientRect(element) {\n    const clientRect = element.getBoundingClientRect();\n    // We need to clone the `clientRect` here, because all the values on it are readonly\n    // and we need to be able to update them. Also we can't use a spread here, because\n    // the values on a `ClientRect` aren't own properties. See:\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect#Notes\n    return {\n        top: clientRect.top,\n        right: clientRect.right,\n        bottom: clientRect.bottom,\n        left: clientRect.left,\n        width: clientRect.width,\n        height: clientRect.height\n    };\n}\n/**\n * Checks whether some coordinates are within a `ClientRect`.\n * @param clientRect ClientRect that is being checked.\n * @param x Coordinates along the X axis.\n * @param y Coordinates along the Y axis.\n */\nfunction isInsideClientRect(clientRect, x, y) {\n    const { top, bottom, left, right } = clientRect;\n    return y >= top && y <= bottom && x >= left && x <= right;\n}\n/**\n * Updates the top/left positions of a `ClientRect`, as well as their bottom/right counterparts.\n * @param clientRect `ClientRect` that should be updated.\n * @param top Amount to add to the `top` position.\n * @param left Amount to add to the `left` position.\n */\nfunction adjustClientRect(clientRect, top, left) {\n    clientRect.top += top;\n    clientRect.bottom = clientRect.top + clientRect.height;\n    clientRect.left += left;\n    clientRect.right = clientRect.left + clientRect.width;\n}\n/**\n * Checks whether the pointer coordinates are close to a ClientRect.\n * @param rect ClientRect to check against.\n * @param threshold Threshold around the ClientRect.\n * @param pointerX Coordinates along the X axis.\n * @param pointerY Coordinates along the Y axis.\n */\nfunction isPointerNearClientRect(rect, threshold, pointerX, pointerY) {\n    const { top, right, bottom, left, width, height } = rect;\n    const xThreshold = width * threshold;\n    const yThreshold = height * threshold;\n    return pointerY > top - yThreshold && pointerY < bottom + yThreshold &&\n        pointerX > left - xThreshold && pointerX < right + xThreshold;\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Keeps track of the scroll position and dimensions of the parents of an element. */\nclass ParentPositionTracker {\n    constructor(_document, _viewportRuler) {\n        this._document = _document;\n        this._viewportRuler = _viewportRuler;\n        /** Cached positions of the scrollable parent elements. */\n        this.positions = new Map();\n    }\n    /** Clears the cached positions. */\n    clear() {\n        this.positions.clear();\n    }\n    /** Caches the positions. Should be called at the beginning of a drag sequence. */\n    cache(elements) {\n        this.clear();\n        this.positions.set(this._document, {\n            scrollPosition: this._viewportRuler.getViewportScrollPosition(),\n        });\n        elements.forEach(element => {\n            this.positions.set(element, {\n                scrollPosition: { top: element.scrollTop, left: element.scrollLeft },\n                clientRect: getMutableClientRect(element)\n            });\n        });\n    }\n    /** Handles scrolling while a drag is taking place. */\n    handleScroll(event) {\n        const target = event.target;\n        const cachedPosition = this.positions.get(target);\n        if (!cachedPosition) {\n            return null;\n        }\n        // Used when figuring out whether an element is inside the scroll parent. If the scrolled\n        // parent is the `document`, we use the `documentElement`, because IE doesn't support\n        // `contains` on the `document`.\n        const scrolledParentNode = target === this._document ? target.documentElement : target;\n        const scrollPosition = cachedPosition.scrollPosition;\n        let newTop;\n        let newLeft;\n        if (target === this._document) {\n            const viewportScrollPosition = this._viewportRuler.getViewportScrollPosition();\n            newTop = viewportScrollPosition.top;\n            newLeft = viewportScrollPosition.left;\n        }\n        else {\n            newTop = target.scrollTop;\n            newLeft = target.scrollLeft;\n        }\n        const topDifference = scrollPosition.top - newTop;\n        const leftDifference = scrollPosition.left - newLeft;\n        // Go through and update the cached positions of the scroll\n        // parents that are inside the element that was scrolled.\n        this.positions.forEach((position, node) => {\n            if (position.clientRect && target !== node && scrolledParentNode.contains(node)) {\n                adjustClientRect(position.clientRect, topDifference, leftDifference);\n            }\n        });\n        scrollPosition.top = newTop;\n        scrollPosition.left = newLeft;\n        return { top: topDifference, left: leftDifference };\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Creates a deep clone of an element. */\nfunction deepCloneNode(node) {\n    const clone = node.cloneNode(true);\n    const descendantsWithId = clone.querySelectorAll('[id]');\n    const nodeName = node.nodeName.toLowerCase();\n    // Remove the `id` to avoid having multiple elements with the same id on the page.\n    clone.removeAttribute('id');\n    for (let i = 0; i < descendantsWithId.length; i++) {\n        descendantsWithId[i].removeAttribute('id');\n    }\n    if (nodeName === 'canvas') {\n        transferCanvasData(node, clone);\n    }\n    else if (nodeName === 'input' || nodeName === 'select' || nodeName === 'textarea') {\n        transferInputData(node, clone);\n    }\n    transferData('canvas', node, clone, transferCanvasData);\n    transferData('input, textarea, select', node, clone, transferInputData);\n    return clone;\n}\n/** Matches elements between an element and its clone and allows for their data to be cloned. */\nfunction transferData(selector, node, clone, callback) {\n    const descendantElements = node.querySelectorAll(selector);\n    if (descendantElements.length) {\n        const cloneElements = clone.querySelectorAll(selector);\n        for (let i = 0; i < descendantElements.length; i++) {\n            callback(descendantElements[i], cloneElements[i]);\n        }\n    }\n}\n// Counter for unique cloned radio button names.\nlet cloneUniqueId = 0;\n/** Transfers the data of one input element to another. */\nfunction transferInputData(source, clone) {\n    // Browsers throw an error when assigning the value of a file input programmatically.\n    if (clone.type !== 'file') {\n        clone.value = source.value;\n    }\n    // Radio button `name` attributes must be unique for radio button groups\n    // otherwise original radio buttons can lose their checked state\n    // once the clone is inserted in the DOM.\n    if (clone.type === 'radio' && clone.name) {\n        clone.name = `mat-clone-${clone.name}-${cloneUniqueId++}`;\n    }\n}\n/** Transfers the data of one canvas element to another. */\nfunction transferCanvasData(source, clone) {\n    const context = clone.getContext('2d');\n    if (context) {\n        // In some cases `drawImage` can throw (e.g. if the canvas size is 0x0).\n        // We can't do much about it so just ignore the error.\n        try {\n            context.drawImage(source, 0, 0);\n        }\n        catch (_a) { }\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Options that can be used to bind a passive event listener. */\nconst passiveEventListenerOptions = normalizePassiveListenerOptions({ passive: true });\n/** Options that can be used to bind an active event listener. */\nconst activeEventListenerOptions = normalizePassiveListenerOptions({ passive: false });\n/**\n * Time in milliseconds for which to ignore mouse events, after\n * receiving a touch event. Used to avoid doing double work for\n * touch devices where the browser fires fake mouse events, in\n * addition to touch events.\n */\nconst MOUSE_EVENT_IGNORE_TIME = 800;\n/**\n * Reference to a draggable item. Used to manipulate or dispose of the item.\n */\nclass DragRef {\n    constructor(element, _config, _document, _ngZone, _viewportRuler, _dragDropRegistry) {\n        this._config = _config;\n        this._document = _document;\n        this._ngZone = _ngZone;\n        this._viewportRuler = _viewportRuler;\n        this._dragDropRegistry = _dragDropRegistry;\n        /**\n         * CSS `transform` applied to the element when it isn't being dragged. We need a\n         * passive transform in order for the dragged element to retain its new position\n         * after the user has stopped dragging and because we need to know the relative\n         * position in case they start dragging again. This corresponds to `element.style.transform`.\n         */\n        this._passiveTransform = { x: 0, y: 0 };\n        /** CSS `transform` that is applied to the element while it's being dragged. */\n        this._activeTransform = { x: 0, y: 0 };\n        /** Emits when the item is being moved. */\n        this._moveEvents = new Subject();\n        /** Subscription to pointer movement events. */\n        this._pointerMoveSubscription = Subscription.EMPTY;\n        /** Subscription to the event that is dispatched when the user lifts their pointer. */\n        this._pointerUpSubscription = Subscription.EMPTY;\n        /** Subscription to the viewport being scrolled. */\n        this._scrollSubscription = Subscription.EMPTY;\n        /** Subscription to the viewport being resized. */\n        this._resizeSubscription = Subscription.EMPTY;\n        /** Cached reference to the boundary element. */\n        this._boundaryElement = null;\n        /** Whether the native dragging interactions have been enabled on the root element. */\n        this._nativeInteractionsEnabled = true;\n        /** Elements that can be used to drag the draggable item. */\n        this._handles = [];\n        /** Registered handles that are currently disabled. */\n        this._disabledHandles = new Set();\n        /** Layout direction of the item. */\n        this._direction = 'ltr';\n        /**\n         * Amount of milliseconds to wait after the user has put their\n         * pointer down before starting to drag the element.\n         */\n        this.dragStartDelay = 0;\n        this._disabled = false;\n        /** Emits as the drag sequence is being prepared. */\n        this.beforeStarted = new Subject();\n        /** Emits when the user starts dragging the item. */\n        this.started = new Subject();\n        /** Emits when the user has released a drag item, before any animations have started. */\n        this.released = new Subject();\n        /** Emits when the user stops dragging an item in the container. */\n        this.ended = new Subject();\n        /** Emits when the user has moved the item into a new container. */\n        this.entered = new Subject();\n        /** Emits when the user removes the item its container by dragging it into another container. */\n        this.exited = new Subject();\n        /** Emits when the user drops the item inside a container. */\n        this.dropped = new Subject();\n        /**\n         * Emits as the user is dragging the item. Use with caution,\n         * because this event will fire for every pixel that the user has dragged.\n         */\n        this.moved = this._moveEvents;\n        /** Handler for the `mousedown`/`touchstart` events. */\n        this._pointerDown = (event) => {\n            this.beforeStarted.next();\n            // Delegate the event based on whether it started from a handle or the element itself.\n            if (this._handles.length) {\n                const targetHandle = this._handles.find(handle => {\n                    const target = event.target;\n                    return !!target && (target === handle || handle.contains(target));\n                });\n                if (targetHandle && !this._disabledHandles.has(targetHandle) && !this.disabled) {\n                    this._initializeDragSequence(targetHandle, event);\n                }\n            }\n            else if (!this.disabled) {\n                this._initializeDragSequence(this._rootElement, event);\n            }\n        };\n        /** Handler that is invoked when the user moves their pointer after they've initiated a drag. */\n        this._pointerMove = (event) => {\n            // Prevent the default action as early as possible in order to block\n            // native actions like dragging the selected text or images with the mouse.\n            event.preventDefault();\n            const pointerPosition = this._getPointerPositionOnPage(event);\n            if (!this._hasStartedDragging) {\n                const distanceX = Math.abs(pointerPosition.x - this._pickupPositionOnPage.x);\n                const distanceY = Math.abs(pointerPosition.y - this._pickupPositionOnPage.y);\n                const isOverThreshold = distanceX + distanceY >= this._config.dragStartThreshold;\n                // Only start dragging after the user has moved more than the minimum distance in either\n                // direction. Note that this is preferrable over doing something like `skip(minimumDistance)`\n                // in the `pointerMove` subscription, because we're not guaranteed to have one move event\n                // per pixel of movement (e.g. if the user moves their pointer quickly).\n                if (isOverThreshold) {\n                    const isDelayElapsed = Date.now() >= this._dragStartTime + this._getDragStartDelay(event);\n                    const container = this._dropContainer;\n                    if (!isDelayElapsed) {\n                        this._endDragSequence(event);\n                        return;\n                    }\n                    // Prevent other drag sequences from starting while something in the container is still\n                    // being dragged. This can happen while we're waiting for the drop animation to finish\n                    // and can cause errors, because some elements might still be moving around.\n                    if (!container || (!container.isDragging() && !container.isReceiving())) {\n                        this._hasStartedDragging = true;\n                        this._ngZone.run(() => this._startDragSequence(event));\n                    }\n                }\n                return;\n            }\n            // We only need the preview dimensions if we have a boundary element.\n            if (this._boundaryElement) {\n                // Cache the preview element rect if we haven't cached it already or if\n                // we cached it too early before the element dimensions were computed.\n                if (!this._previewRect || (!this._previewRect.width && !this._previewRect.height)) {\n                    this._previewRect = (this._preview || this._rootElement).getBoundingClientRect();\n                }\n            }\n            const constrainedPointerPosition = this._getConstrainedPointerPosition(pointerPosition);\n            this._hasMoved = true;\n            this._lastKnownPointerPosition = pointerPosition;\n            this._updatePointerDirectionDelta(constrainedPointerPosition);\n            if (this._dropContainer) {\n                this._updateActiveDropContainer(constrainedPointerPosition, pointerPosition);\n            }\n            else {\n                const activeTransform = this._activeTransform;\n                activeTransform.x =\n                    constrainedPointerPosition.x - this._pickupPositionOnPage.x + this._passiveTransform.x;\n                activeTransform.y =\n                    constrainedPointerPosition.y - this._pickupPositionOnPage.y + this._passiveTransform.y;\n                this._applyRootElementTransform(activeTransform.x, activeTransform.y);\n                // Apply transform as attribute if dragging and svg element to work for IE\n                if (typeof SVGElement !== 'undefined' && this._rootElement instanceof SVGElement) {\n                    const appliedTransform = `translate(${activeTransform.x} ${activeTransform.y})`;\n                    this._rootElement.setAttribute('transform', appliedTransform);\n                }\n            }\n            // Since this event gets fired for every pixel while dragging, we only\n            // want to fire it if the consumer opted into it. Also we have to\n            // re-enter the zone because we run all of the events on the outside.\n            if (this._moveEvents.observers.length) {\n                this._ngZone.run(() => {\n                    this._moveEvents.next({\n                        source: this,\n                        pointerPosition: constrainedPointerPosition,\n                        event,\n                        distance: this._getDragDistance(constrainedPointerPosition),\n                        delta: this._pointerDirectionDelta\n                    });\n                });\n            }\n        };\n        /** Handler that is invoked when the user lifts their pointer up, after initiating a drag. */\n        this._pointerUp = (event) => {\n            this._endDragSequence(event);\n        };\n        this.withRootElement(element);\n        this._parentPositions = new ParentPositionTracker(_document, _viewportRuler);\n        _dragDropRegistry.registerDragItem(this);\n    }\n    /** Whether starting to drag this element is disabled. */\n    get disabled() {\n        return this._disabled || !!(this._dropContainer && this._dropContainer.disabled);\n    }\n    set disabled(value) {\n        const newValue = coerceBooleanProperty(value);\n        if (newValue !== this._disabled) {\n            this._disabled = newValue;\n            this._toggleNativeDragInteractions();\n            this._handles.forEach(handle => toggleNativeDragInteractions(handle, newValue));\n        }\n    }\n    /**\n     * Returns the element that is being used as a placeholder\n     * while the current element is being dragged.\n     */\n    getPlaceholderElement() {\n        return this._placeholder;\n    }\n    /** Returns the root draggable element. */\n    getRootElement() {\n        return this._rootElement;\n    }\n    /**\n     * Gets the currently-visible element that represents the drag item.\n     * While dragging this is the placeholder, otherwise it's the root element.\n     */\n    getVisibleElement() {\n        return this.isDragging() ? this.getPlaceholderElement() : this.getRootElement();\n    }\n    /** Registers the handles that can be used to drag the element. */\n    withHandles(handles) {\n        this._handles = handles.map(handle => coerceElement(handle));\n        this._handles.forEach(handle => toggleNativeDragInteractions(handle, this.disabled));\n        this._toggleNativeDragInteractions();\n        // Delete any lingering disabled handles that may have been destroyed. Note that we re-create\n        // the set, rather than iterate over it and filter out the destroyed handles, because while\n        // the ES spec allows for sets to be modified while they're being iterated over, some polyfills\n        // use an array internally which may throw an error.\n        const disabledHandles = new Set();\n        this._disabledHandles.forEach(handle => {\n            if (this._handles.indexOf(handle) > -1) {\n                disabledHandles.add(handle);\n            }\n        });\n        this._disabledHandles = disabledHandles;\n        return this;\n    }\n    /**\n     * Registers the template that should be used for the drag preview.\n     * @param template Template that from which to stamp out the preview.\n     */\n    withPreviewTemplate(template) {\n        this._previewTemplate = template;\n        return this;\n    }\n    /**\n     * Registers the template that should be used for the drag placeholder.\n     * @param template Template that from which to stamp out the placeholder.\n     */\n    withPlaceholderTemplate(template) {\n        this._placeholderTemplate = template;\n        return this;\n    }\n    /**\n     * Sets an alternate drag root element. The root element is the element that will be moved as\n     * the user is dragging. Passing an alternate root element is useful when trying to enable\n     * dragging on an element that you might not have access to.\n     */\n    withRootElement(rootElement) {\n        const element = coerceElement(rootElement);\n        if (element !== this._rootElement) {\n            if (this._rootElement) {\n                this._removeRootElementListeners(this._rootElement);\n            }\n            this._ngZone.runOutsideAngular(() => {\n                element.addEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\n                element.addEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\n            });\n            this._initialTransform = undefined;\n            this._rootElement = element;\n        }\n        if (typeof SVGElement !== 'undefined' && this._rootElement instanceof SVGElement) {\n            this._ownerSVGElement = this._rootElement.ownerSVGElement;\n        }\n        return this;\n    }\n    /**\n     * Element to which the draggable's position will be constrained.\n     */\n    withBoundaryElement(boundaryElement) {\n        this._boundaryElement = boundaryElement ? coerceElement(boundaryElement) : null;\n        this._resizeSubscription.unsubscribe();\n        if (boundaryElement) {\n            this._resizeSubscription = this._viewportRuler\n                .change(10)\n                .subscribe(() => this._containInsideBoundaryOnResize());\n        }\n        return this;\n    }\n    /** Removes the dragging functionality from the DOM element. */\n    dispose() {\n        this._removeRootElementListeners(this._rootElement);\n        // Do this check before removing from the registry since it'll\n        // stop being considered as dragged once it is removed.\n        if (this.isDragging()) {\n            // Since we move out the element to the end of the body while it's being\n            // dragged, we have to make sure that it's removed if it gets destroyed.\n            removeNode(this._rootElement);\n        }\n        removeNode(this._anchor);\n        this._destroyPreview();\n        this._destroyPlaceholder();\n        this._dragDropRegistry.removeDragItem(this);\n        this._removeSubscriptions();\n        this.beforeStarted.complete();\n        this.started.complete();\n        this.released.complete();\n        this.ended.complete();\n        this.entered.complete();\n        this.exited.complete();\n        this.dropped.complete();\n        this._moveEvents.complete();\n        this._handles = [];\n        this._disabledHandles.clear();\n        this._dropContainer = undefined;\n        this._resizeSubscription.unsubscribe();\n        this._parentPositions.clear();\n        this._boundaryElement = this._rootElement = this._ownerSVGElement = this._placeholderTemplate =\n            this._previewTemplate = this._anchor = null;\n    }\n    /** Checks whether the element is currently being dragged. */\n    isDragging() {\n        return this._hasStartedDragging && this._dragDropRegistry.isDragging(this);\n    }\n    /** Resets a standalone drag item to its initial position. */\n    reset() {\n        this._rootElement.style.transform = this._initialTransform || '';\n        this._activeTransform = { x: 0, y: 0 };\n        this._passiveTransform = { x: 0, y: 0 };\n    }\n    /**\n     * Sets a handle as disabled. While a handle is disabled, it'll capture and interrupt dragging.\n     * @param handle Handle element that should be disabled.\n     */\n    disableHandle(handle) {\n        if (!this._disabledHandles.has(handle) && this._handles.indexOf(handle) > -1) {\n            this._disabledHandles.add(handle);\n            toggleNativeDragInteractions(handle, true);\n        }\n    }\n    /**\n     * Enables a handle, if it has been disabled.\n     * @param handle Handle element to be enabled.\n     */\n    enableHandle(handle) {\n        if (this._disabledHandles.has(handle)) {\n            this._disabledHandles.delete(handle);\n            toggleNativeDragInteractions(handle, this.disabled);\n        }\n    }\n    /** Sets the layout direction of the draggable item. */\n    withDirection(direction) {\n        this._direction = direction;\n        return this;\n    }\n    /** Sets the container that the item is part of. */\n    _withDropContainer(container) {\n        this._dropContainer = container;\n    }\n    /**\n     * Gets the current position in pixels the draggable outside of a drop container.\n     */\n    getFreeDragPosition() {\n        const position = this.isDragging() ? this._activeTransform : this._passiveTransform;\n        return { x: position.x, y: position.y };\n    }\n    /**\n     * Sets the current position in pixels the draggable outside of a drop container.\n     * @param value New position to be set.\n     */\n    setFreeDragPosition(value) {\n        this._activeTransform = { x: 0, y: 0 };\n        this._passiveTransform.x = value.x;\n        this._passiveTransform.y = value.y;\n        if (!this._dropContainer) {\n            this._applyRootElementTransform(value.x, value.y);\n        }\n        return this;\n    }\n    /** Updates the item's sort order based on the last-known pointer position. */\n    _sortFromLastPointerPosition() {\n        const position = this._lastKnownPointerPosition;\n        if (position && this._dropContainer) {\n            this._updateActiveDropContainer(this._getConstrainedPointerPosition(position), position);\n        }\n    }\n    /** Unsubscribes from the global subscriptions. */\n    _removeSubscriptions() {\n        this._pointerMoveSubscription.unsubscribe();\n        this._pointerUpSubscription.unsubscribe();\n        this._scrollSubscription.unsubscribe();\n    }\n    /** Destroys the preview element and its ViewRef. */\n    _destroyPreview() {\n        if (this._preview) {\n            removeNode(this._preview);\n        }\n        if (this._previewRef) {\n            this._previewRef.destroy();\n        }\n        this._preview = this._previewRef = null;\n    }\n    /** Destroys the placeholder element and its ViewRef. */\n    _destroyPlaceholder() {\n        if (this._placeholder) {\n            removeNode(this._placeholder);\n        }\n        if (this._placeholderRef) {\n            this._placeholderRef.destroy();\n        }\n        this._placeholder = this._placeholderRef = null;\n    }\n    /**\n     * Clears subscriptions and stops the dragging sequence.\n     * @param event Browser event object that ended the sequence.\n     */\n    _endDragSequence(event) {\n        // Note that here we use `isDragging` from the service, rather than from `this`.\n        // The difference is that the one from the service reflects whether a dragging sequence\n        // has been initiated, whereas the one on `this` includes whether the user has passed\n        // the minimum dragging threshold.\n        if (!this._dragDropRegistry.isDragging(this)) {\n            return;\n        }\n        this._removeSubscriptions();\n        this._dragDropRegistry.stopDragging(this);\n        this._toggleNativeDragInteractions();\n        if (this._handles) {\n            this._rootElement.style.webkitTapHighlightColor = this._rootElementTapHighlight;\n        }\n        if (!this._hasStartedDragging) {\n            return;\n        }\n        this.released.next({ source: this });\n        if (this._dropContainer) {\n            // Stop scrolling immediately, instead of waiting for the animation to finish.\n            this._dropContainer._stopScrolling();\n            this._animatePreviewToPlaceholder().then(() => {\n                this._cleanupDragArtifacts(event);\n                this._cleanupCachedDimensions();\n                this._dragDropRegistry.stopDragging(this);\n            });\n        }\n        else {\n            // Convert the active transform into a passive one. This means that next time\n            // the user starts dragging the item, its position will be calculated relatively\n            // to the new passive transform.\n            this._passiveTransform.x = this._activeTransform.x;\n            this._passiveTransform.y = this._activeTransform.y;\n            this._ngZone.run(() => {\n                this.ended.next({\n                    source: this,\n                    distance: this._getDragDistance(this._getPointerPositionOnPage(event))\n                });\n            });\n            this._cleanupCachedDimensions();\n            this._dragDropRegistry.stopDragging(this);\n        }\n    }\n    /** Starts the dragging sequence. */\n    _startDragSequence(event) {\n        if (isTouchEvent(event)) {\n            this._lastTouchEventTime = Date.now();\n        }\n        this._toggleNativeDragInteractions();\n        const dropContainer = this._dropContainer;\n        if (dropContainer) {\n            const element = this._rootElement;\n            const parent = element.parentNode;\n            const preview = this._preview = this._createPreviewElement();\n            const placeholder = this._placeholder = this._createPlaceholderElement();\n            const anchor = this._anchor = this._anchor || this._document.createComment('');\n            // Needs to happen before the root element is moved.\n            const shadowRoot = this._getShadowRoot();\n            // Insert an anchor node so that we can restore the element's position in the DOM.\n            parent.insertBefore(anchor, element);\n            // We move the element out at the end of the body and we make it hidden, because keeping it in\n            // place will throw off the consumer's `:last-child` selectors. We can't remove the element\n            // from the DOM completely, because iOS will stop firing all subsequent events in the chain.\n            toggleVisibility(element, false);\n            this._document.body.appendChild(parent.replaceChild(placeholder, element));\n            getPreviewInsertionPoint(this._document, shadowRoot).appendChild(preview);\n            this.started.next({ source: this }); // Emit before notifying the container.\n            dropContainer.start();\n            this._initialContainer = dropContainer;\n            this._initialIndex = dropContainer.getItemIndex(this);\n        }\n        else {\n            this.started.next({ source: this });\n            this._initialContainer = this._initialIndex = undefined;\n        }\n        // Important to run after we've called `start` on the parent container\n        // so that it has had time to resolve its scrollable parents.\n        this._parentPositions.cache(dropContainer ? dropContainer.getScrollableParents() : []);\n    }\n    /**\n     * Sets up the different variables and subscriptions\n     * that will be necessary for the dragging sequence.\n     * @param referenceElement Element that started the drag sequence.\n     * @param event Browser event object that started the sequence.\n     */\n    _initializeDragSequence(referenceElement, event) {\n        // Always stop propagation for the event that initializes\n        // the dragging sequence, in order to prevent it from potentially\n        // starting another sequence for a draggable parent somewhere up the DOM tree.\n        event.stopPropagation();\n        const isDragging = this.isDragging();\n        const isTouchSequence = isTouchEvent(event);\n        const isAuxiliaryMouseButton = !isTouchSequence && event.button !== 0;\n        const rootElement = this._rootElement;\n        const isSyntheticEvent = !isTouchSequence && this._lastTouchEventTime &&\n            this._lastTouchEventTime + MOUSE_EVENT_IGNORE_TIME > Date.now();\n        // If the event started from an element with the native HTML drag&drop, it'll interfere\n        // with our own dragging (e.g. `img` tags do it by default). Prevent the default action\n        // to stop it from happening. Note that preventing on `dragstart` also seems to work, but\n        // it's flaky and it fails if the user drags it away quickly. Also note that we only want\n        // to do this for `mousedown` since doing the same for `touchstart` will stop any `click`\n        // events from firing on touch devices.\n        if (event.target && event.target.draggable && event.type === 'mousedown') {\n            event.preventDefault();\n        }\n        // Abort if the user is already dragging or is using a mouse button other than the primary one.\n        if (isDragging || isAuxiliaryMouseButton || isSyntheticEvent) {\n            return;\n        }\n        // If we've got handles, we need to disable the tap highlight on the entire root element,\n        // otherwise iOS will still add it, even though all the drag interactions on the handle\n        // are disabled.\n        if (this._handles.length) {\n            this._rootElementTapHighlight = rootElement.style.webkitTapHighlightColor || '';\n            rootElement.style.webkitTapHighlightColor = 'transparent';\n        }\n        this._hasStartedDragging = this._hasMoved = false;\n        // Avoid multiple subscriptions and memory leaks when multi touch\n        // (isDragging check above isn't enough because of possible temporal and/or dimensional delays)\n        this._removeSubscriptions();\n        this._pointerMoveSubscription = this._dragDropRegistry.pointerMove.subscribe(this._pointerMove);\n        this._pointerUpSubscription = this._dragDropRegistry.pointerUp.subscribe(this._pointerUp);\n        this._scrollSubscription = this._dragDropRegistry.scroll.subscribe(scrollEvent => {\n            this._updateOnScroll(scrollEvent);\n        });\n        if (this._boundaryElement) {\n            this._boundaryRect = getMutableClientRect(this._boundaryElement);\n        }\n        // If we have a custom preview we can't know ahead of time how large it'll be so we position\n        // it next to the cursor. The exception is when the consumer has opted into making the preview\n        // the same size as the root element, in which case we do know the size.\n        const previewTemplate = this._previewTemplate;\n        this._pickupPositionInElement = previewTemplate && previewTemplate.template &&\n            !previewTemplate.matchSize ? { x: 0, y: 0 } :\n            this._getPointerPositionInElement(referenceElement, event);\n        const pointerPosition = this._pickupPositionOnPage = this._lastKnownPointerPosition =\n            this._getPointerPositionOnPage(event);\n        this._pointerDirectionDelta = { x: 0, y: 0 };\n        this._pointerPositionAtLastDirectionChange = { x: pointerPosition.x, y: pointerPosition.y };\n        this._dragStartTime = Date.now();\n        this._dragDropRegistry.startDragging(this, event);\n    }\n    /** Cleans up the DOM artifacts that were added to facilitate the element being dragged. */\n    _cleanupDragArtifacts(event) {\n        // Restore the element's visibility and insert it at its old position in the DOM.\n        // It's important that we maintain the position, because moving the element around in the DOM\n        // can throw off `NgFor` which does smart diffing and re-creates elements only when necessary,\n        // while moving the existing elements in all other cases.\n        toggleVisibility(this._rootElement, true);\n        this._anchor.parentNode.replaceChild(this._rootElement, this._anchor);\n        this._destroyPreview();\n        this._destroyPlaceholder();\n        this._boundaryRect = this._previewRect = undefined;\n        // Re-enter the NgZone since we bound `document` events on the outside.\n        this._ngZone.run(() => {\n            const container = this._dropContainer;\n            const currentIndex = container.getItemIndex(this);\n            const pointerPosition = this._getPointerPositionOnPage(event);\n            const distance = this._getDragDistance(this._getPointerPositionOnPage(event));\n            const isPointerOverContainer = container._isOverContainer(pointerPosition.x, pointerPosition.y);\n            this.ended.next({ source: this, distance });\n            this.dropped.next({\n                item: this,\n                currentIndex,\n                previousIndex: this._initialIndex,\n                container: container,\n                previousContainer: this._initialContainer,\n                isPointerOverContainer,\n                distance\n            });\n            container.drop(this, currentIndex, this._initialIndex, this._initialContainer, isPointerOverContainer, distance);\n            this._dropContainer = this._initialContainer;\n        });\n    }\n    /**\n     * Updates the item's position in its drop container, or moves it\n     * into a new one, depending on its current drag position.\n     */\n    _updateActiveDropContainer({ x, y }, { x: rawX, y: rawY }) {\n        // Drop container that draggable has been moved into.\n        let newContainer = this._initialContainer._getSiblingContainerFromPosition(this, x, y);\n        // If we couldn't find a new container to move the item into, and the item has left its\n        // initial container, check whether the it's over the initial container. This handles the\n        // case where two containers are connected one way and the user tries to undo dragging an\n        // item into a new container.\n        if (!newContainer && this._dropContainer !== this._initialContainer &&\n            this._initialContainer._isOverContainer(x, y)) {\n            newContainer = this._initialContainer;\n        }\n        if (newContainer && newContainer !== this._dropContainer) {\n            this._ngZone.run(() => {\n                // Notify the old container that the item has left.\n                this.exited.next({ item: this, container: this._dropContainer });\n                this._dropContainer.exit(this);\n                // Notify the new container that the item has entered.\n                this._dropContainer = newContainer;\n                this._dropContainer.enter(this, x, y, newContainer === this._initialContainer &&\n                    // If we're re-entering the initial container and sorting is disabled,\n                    // put item the into its starting index to begin with.\n                    newContainer.sortingDisabled ? this._initialIndex : undefined);\n                this.entered.next({\n                    item: this,\n                    container: newContainer,\n                    currentIndex: newContainer.getItemIndex(this)\n                });\n            });\n        }\n        this._dropContainer._startScrollingIfNecessary(rawX, rawY);\n        this._dropContainer._sortItem(this, x, y, this._pointerDirectionDelta);\n        this._preview.style.transform =\n            getTransform(x - this._pickupPositionInElement.x, y - this._pickupPositionInElement.y);\n    }\n    /**\n     * Creates the element that will be rendered next to the user's pointer\n     * and will be used as a preview of the element that is being dragged.\n     */\n    _createPreviewElement() {\n        const previewConfig = this._previewTemplate;\n        const previewClass = this.previewClass;\n        const previewTemplate = previewConfig ? previewConfig.template : null;\n        let preview;\n        if (previewTemplate && previewConfig) {\n            // Measure the element before we've inserted the preview\n            // since the insertion could throw off the measurement.\n            const rootRect = previewConfig.matchSize ? this._rootElement.getBoundingClientRect() : null;\n            const viewRef = previewConfig.viewContainer.createEmbeddedView(previewTemplate, previewConfig.context);\n            viewRef.detectChanges();\n            preview = getRootNode(viewRef, this._document);\n            this._previewRef = viewRef;\n            if (previewConfig.matchSize) {\n                matchElementSize(preview, rootRect);\n            }\n            else {\n                preview.style.transform =\n                    getTransform(this._pickupPositionOnPage.x, this._pickupPositionOnPage.y);\n            }\n        }\n        else {\n            const element = this._rootElement;\n            preview = deepCloneNode(element);\n            matchElementSize(preview, element.getBoundingClientRect());\n        }\n        extendStyles(preview.style, {\n            // It's important that we disable the pointer events on the preview, because\n            // it can throw off the `document.elementFromPoint` calls in the `CdkDropList`.\n            pointerEvents: 'none',\n            // We have to reset the margin, because it can throw off positioning relative to the viewport.\n            margin: '0',\n            position: 'fixed',\n            top: '0',\n            left: '0',\n            zIndex: `${this._config.zIndex || 1000}`\n        });\n        toggleNativeDragInteractions(preview, false);\n        preview.classList.add('cdk-drag-preview');\n        preview.setAttribute('dir', this._direction);\n        if (previewClass) {\n            if (Array.isArray(previewClass)) {\n                previewClass.forEach(className => preview.classList.add(className));\n            }\n            else {\n                preview.classList.add(previewClass);\n            }\n        }\n        return preview;\n    }\n    /**\n     * Animates the preview element from its current position to the location of the drop placeholder.\n     * @returns Promise that resolves when the animation completes.\n     */\n    _animatePreviewToPlaceholder() {\n        // If the user hasn't moved yet, the transitionend event won't fire.\n        if (!this._hasMoved) {\n            return Promise.resolve();\n        }\n        const placeholderRect = this._placeholder.getBoundingClientRect();\n        // Apply the class that adds a transition to the preview.\n        this._preview.classList.add('cdk-drag-animating');\n        // Move the preview to the placeholder position.\n        this._preview.style.transform = getTransform(placeholderRect.left, placeholderRect.top);\n        // If the element doesn't have a `transition`, the `transitionend` event won't fire. Since\n        // we need to trigger a style recalculation in order for the `cdk-drag-animating` class to\n        // apply its style, we take advantage of the available info to figure out whether we need to\n        // bind the event in the first place.\n        const duration = getTransformTransitionDurationInMs(this._preview);\n        if (duration === 0) {\n            return Promise.resolve();\n        }\n        return this._ngZone.runOutsideAngular(() => {\n            return new Promise(resolve => {\n                const handler = ((event) => {\n                    if (!event || (event.target === this._preview && event.propertyName === 'transform')) {\n                        this._preview.removeEventListener('transitionend', handler);\n                        resolve();\n                        clearTimeout(timeout);\n                    }\n                });\n                // If a transition is short enough, the browser might not fire the `transitionend` event.\n                // Since we know how long it's supposed to take, add a timeout with a 50% buffer that'll\n                // fire if the transition hasn't completed when it was supposed to.\n                const timeout = setTimeout(handler, duration * 1.5);\n                this._preview.addEventListener('transitionend', handler);\n            });\n        });\n    }\n    /** Creates an element that will be shown instead of the current element while dragging. */\n    _createPlaceholderElement() {\n        const placeholderConfig = this._placeholderTemplate;\n        const placeholderTemplate = placeholderConfig ? placeholderConfig.template : null;\n        let placeholder;\n        if (placeholderTemplate) {\n            this._placeholderRef = placeholderConfig.viewContainer.createEmbeddedView(placeholderTemplate, placeholderConfig.context);\n            this._placeholderRef.detectChanges();\n            placeholder = getRootNode(this._placeholderRef, this._document);\n        }\n        else {\n            placeholder = deepCloneNode(this._rootElement);\n        }\n        placeholder.classList.add('cdk-drag-placeholder');\n        return placeholder;\n    }\n    /**\n     * Figures out the coordinates at which an element was picked up.\n     * @param referenceElement Element that initiated the dragging.\n     * @param event Event that initiated the dragging.\n     */\n    _getPointerPositionInElement(referenceElement, event) {\n        const elementRect = this._rootElement.getBoundingClientRect();\n        const handleElement = referenceElement === this._rootElement ? null : referenceElement;\n        const referenceRect = handleElement ? handleElement.getBoundingClientRect() : elementRect;\n        const point = isTouchEvent(event) ? event.targetTouches[0] : event;\n        const scrollPosition = this._getViewportScrollPosition();\n        const x = point.pageX - referenceRect.left - scrollPosition.left;\n        const y = point.pageY - referenceRect.top - scrollPosition.top;\n        return {\n            x: referenceRect.left - elementRect.left + x,\n            y: referenceRect.top - elementRect.top + y\n        };\n    }\n    /** Determines the point of the page that was touched by the user. */\n    _getPointerPositionOnPage(event) {\n        const scrollPosition = this._getViewportScrollPosition();\n        const point = isTouchEvent(event) ?\n            // `touches` will be empty for start/end events so we have to fall back to `changedTouches`.\n            // Also note that on real devices we're guaranteed for either `touches` or `changedTouches`\n            // to have a value, but Firefox in device emulation mode has a bug where both can be empty\n            // for `touchstart` and `touchend` so we fall back to a dummy object in order to avoid\n            // throwing an error. The value returned here will be incorrect, but since this only\n            // breaks inside a developer tool and the value is only used for secondary information,\n            // we can get away with it. See https://bugzilla.mozilla.org/show_bug.cgi?id=1615824.\n            (event.touches[0] || event.changedTouches[0] || { pageX: 0, pageY: 0 }) : event;\n        const x = point.pageX - scrollPosition.left;\n        const y = point.pageY - scrollPosition.top;\n        // if dragging SVG element, try to convert from the screen coordinate system to the SVG\n        // coordinate system\n        if (this._ownerSVGElement) {\n            const svgMatrix = this._ownerSVGElement.getScreenCTM();\n            if (svgMatrix) {\n                const svgPoint = this._ownerSVGElement.createSVGPoint();\n                svgPoint.x = x;\n                svgPoint.y = y;\n                return svgPoint.matrixTransform(svgMatrix.inverse());\n            }\n        }\n        return { x, y };\n    }\n    /** Gets the pointer position on the page, accounting for any position constraints. */\n    _getConstrainedPointerPosition(point) {\n        const dropContainerLock = this._dropContainer ? this._dropContainer.lockAxis : null;\n        let { x, y } = this.constrainPosition ? this.constrainPosition(point, this) : point;\n        if (this.lockAxis === 'x' || dropContainerLock === 'x') {\n            y = this._pickupPositionOnPage.y;\n        }\n        else if (this.lockAxis === 'y' || dropContainerLock === 'y') {\n            x = this._pickupPositionOnPage.x;\n        }\n        if (this._boundaryRect) {\n            const { x: pickupX, y: pickupY } = this._pickupPositionInElement;\n            const boundaryRect = this._boundaryRect;\n            const previewRect = this._previewRect;\n            const minY = boundaryRect.top + pickupY;\n            const maxY = boundaryRect.bottom - (previewRect.height - pickupY);\n            const minX = boundaryRect.left + pickupX;\n            const maxX = boundaryRect.right - (previewRect.width - pickupX);\n            x = clamp(x, minX, maxX);\n            y = clamp(y, minY, maxY);\n        }\n        return { x, y };\n    }\n    /** Updates the current drag delta, based on the user's current pointer position on the page. */\n    _updatePointerDirectionDelta(pointerPositionOnPage) {\n        const { x, y } = pointerPositionOnPage;\n        const delta = this._pointerDirectionDelta;\n        const positionSinceLastChange = this._pointerPositionAtLastDirectionChange;\n        // Amount of pixels the user has dragged since the last time the direction changed.\n        const changeX = Math.abs(x - positionSinceLastChange.x);\n        const changeY = Math.abs(y - positionSinceLastChange.y);\n        // Because we handle pointer events on a per-pixel basis, we don't want the delta\n        // to change for every pixel, otherwise anything that depends on it can look erratic.\n        // To make the delta more consistent, we track how much the user has moved since the last\n        // delta change and we only update it after it has reached a certain threshold.\n        if (changeX > this._config.pointerDirectionChangeThreshold) {\n            delta.x = x > positionSinceLastChange.x ? 1 : -1;\n            positionSinceLastChange.x = x;\n        }\n        if (changeY > this._config.pointerDirectionChangeThreshold) {\n            delta.y = y > positionSinceLastChange.y ? 1 : -1;\n            positionSinceLastChange.y = y;\n        }\n        return delta;\n    }\n    /** Toggles the native drag interactions, based on how many handles are registered. */\n    _toggleNativeDragInteractions() {\n        if (!this._rootElement || !this._handles) {\n            return;\n        }\n        const shouldEnable = this._handles.length > 0 || !this.isDragging();\n        if (shouldEnable !== this._nativeInteractionsEnabled) {\n            this._nativeInteractionsEnabled = shouldEnable;\n            toggleNativeDragInteractions(this._rootElement, shouldEnable);\n        }\n    }\n    /** Removes the manually-added event listeners from the root element. */\n    _removeRootElementListeners(element) {\n        element.removeEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\n        element.removeEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\n    }\n    /**\n     * Applies a `transform` to the root element, taking into account any existing transforms on it.\n     * @param x New transform value along the X axis.\n     * @param y New transform value along the Y axis.\n     */\n    _applyRootElementTransform(x, y) {\n        const transform = getTransform(x, y);\n        // Cache the previous transform amount only after the first drag sequence, because\n        // we don't want our own transforms to stack on top of each other.\n        if (this._initialTransform == null) {\n            this._initialTransform = this._rootElement.style.transform || '';\n        }\n        // Preserve the previous `transform` value, if there was one. Note that we apply our own\n        // transform before the user's, because things like rotation can affect which direction\n        // the element will be translated towards.\n        this._rootElement.style.transform = this._initialTransform ?\n            transform + ' ' + this._initialTransform : transform;\n    }\n    /**\n     * Gets the distance that the user has dragged during the current drag sequence.\n     * @param currentPosition Current position of the user's pointer.\n     */\n    _getDragDistance(currentPosition) {\n        const pickupPosition = this._pickupPositionOnPage;\n        if (pickupPosition) {\n            return { x: currentPosition.x - pickupPosition.x, y: currentPosition.y - pickupPosition.y };\n        }\n        return { x: 0, y: 0 };\n    }\n    /** Cleans up any cached element dimensions that we don't need after dragging has stopped. */\n    _cleanupCachedDimensions() {\n        this._boundaryRect = this._previewRect = undefined;\n        this._parentPositions.clear();\n    }\n    /**\n     * Checks whether the element is still inside its boundary after the viewport has been resized.\n     * If not, the position is adjusted so that the element fits again.\n     */\n    _containInsideBoundaryOnResize() {\n        let { x, y } = this._passiveTransform;\n        if ((x === 0 && y === 0) || this.isDragging() || !this._boundaryElement) {\n            return;\n        }\n        const boundaryRect = this._boundaryElement.getBoundingClientRect();\n        const elementRect = this._rootElement.getBoundingClientRect();\n        // It's possible that the element got hidden away after dragging (e.g. by switching to a\n        // different tab). Don't do anything in this case so we don't clear the user's position.\n        if ((boundaryRect.width === 0 && boundaryRect.height === 0) ||\n            (elementRect.width === 0 && elementRect.height === 0)) {\n            return;\n        }\n        const leftOverflow = boundaryRect.left - elementRect.left;\n        const rightOverflow = elementRect.right - boundaryRect.right;\n        const topOverflow = boundaryRect.top - elementRect.top;\n        const bottomOverflow = elementRect.bottom - boundaryRect.bottom;\n        // If the element has become wider than the boundary, we can't\n        // do much to make it fit so we just anchor it to the left.\n        if (boundaryRect.width > elementRect.width) {\n            if (leftOverflow > 0) {\n                x += leftOverflow;\n            }\n            if (rightOverflow > 0) {\n                x -= rightOverflow;\n            }\n        }\n        else {\n            x = 0;\n        }\n        // If the element has become taller than the boundary, we can't\n        // do much to make it fit so we just anchor it to the top.\n        if (boundaryRect.height > elementRect.height) {\n            if (topOverflow > 0) {\n                y += topOverflow;\n            }\n            if (bottomOverflow > 0) {\n                y -= bottomOverflow;\n            }\n        }\n        else {\n            y = 0;\n        }\n        if (x !== this._passiveTransform.x || y !== this._passiveTransform.y) {\n            this.setFreeDragPosition({ y, x });\n        }\n    }\n    /** Gets the drag start delay, based on the event type. */\n    _getDragStartDelay(event) {\n        const value = this.dragStartDelay;\n        if (typeof value === 'number') {\n            return value;\n        }\n        else if (isTouchEvent(event)) {\n            return value.touch;\n        }\n        return value ? value.mouse : 0;\n    }\n    /** Updates the internal state of the draggable element when scrolling has occurred. */\n    _updateOnScroll(event) {\n        const scrollDifference = this._parentPositions.handleScroll(event);\n        if (scrollDifference) {\n            const target = event.target;\n            // ClientRect dimensions are based on the scroll position of the page and its parent node so\n            // we have to update the cached boundary ClientRect if the user has scrolled. Check for\n            // the `document` specifically since IE doesn't support `contains` on it.\n            if (this._boundaryRect && (target === this._document ||\n                (target !== this._boundaryElement && target.contains(this._boundaryElement)))) {\n                adjustClientRect(this._boundaryRect, scrollDifference.top, scrollDifference.left);\n            }\n            this._pickupPositionOnPage.x += scrollDifference.left;\n            this._pickupPositionOnPage.y += scrollDifference.top;\n            // If we're in free drag mode, we have to update the active transform, because\n            // it isn't relative to the viewport like the preview inside a drop list.\n            if (!this._dropContainer) {\n                this._activeTransform.x -= scrollDifference.left;\n                this._activeTransform.y -= scrollDifference.top;\n                this._applyRootElementTransform(this._activeTransform.x, this._activeTransform.y);\n            }\n        }\n    }\n    /** Gets the scroll position of the viewport. */\n    _getViewportScrollPosition() {\n        const cachedPosition = this._parentPositions.positions.get(this._document);\n        return cachedPosition ? cachedPosition.scrollPosition :\n            this._viewportRuler.getViewportScrollPosition();\n    }\n    /**\n     * Lazily resolves and returns the shadow root of the element. We do this in a function, rather\n     * than saving it in property directly on init, because we want to resolve it as late as possible\n     * in order to ensure that the element has been moved into the shadow DOM. Doing it inside the\n     * constructor might be too early if the element is inside of something like `ngFor` or `ngIf`.\n     */\n    _getShadowRoot() {\n        if (this._cachedShadowRoot === undefined) {\n            this._cachedShadowRoot = _getShadowRoot(this._rootElement);\n        }\n        return this._cachedShadowRoot;\n    }\n}\n/**\n * Gets a 3d `transform` that can be applied to an element.\n * @param x Desired position of the element along the X axis.\n * @param y Desired position of the element along the Y axis.\n */\nfunction getTransform(x, y) {\n    // Round the transforms since some browsers will\n    // blur the elements for sub-pixel transforms.\n    return `translate3d(${Math.round(x)}px, ${Math.round(y)}px, 0)`;\n}\n/** Clamps a value between a minimum and a maximum. */\nfunction clamp(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\n/**\n * Helper to remove a node from the DOM and to do all the necessary null checks.\n * @param node Node to be removed.\n */\nfunction removeNode(node) {\n    if (node && node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\n/** Determines whether an event is a touch event. */\nfunction isTouchEvent(event) {\n    // This function is called for every pixel that the user has dragged so we need it to be\n    // as fast as possible. Since we only bind mouse events and touch events, we can assume\n    // that if the event's name starts with `t`, it's a touch event.\n    return event.type[0] === 't';\n}\n/** Gets the element into which the drag preview should be inserted. */\nfunction getPreviewInsertionPoint(documentRef, shadowRoot) {\n    // We can't use the body if the user is in fullscreen mode,\n    // because the preview will render under the fullscreen element.\n    // TODO(crisbeto): dedupe this with the `FullscreenOverlayContainer` eventually.\n    return shadowRoot ||\n        documentRef.fullscreenElement ||\n        documentRef.webkitFullscreenElement ||\n        documentRef.mozFullScreenElement ||\n        documentRef.msFullscreenElement ||\n        documentRef.body;\n}\n/**\n * Gets the root HTML element of an embedded view.\n * If the root is not an HTML element it gets wrapped in one.\n */\nfunction getRootNode(viewRef, _document) {\n    const rootNodes = viewRef.rootNodes;\n    if (rootNodes.length === 1 && rootNodes[0].nodeType === _document.ELEMENT_NODE) {\n        return rootNodes[0];\n    }\n    const wrapper = _document.createElement('div');\n    rootNodes.forEach(node => wrapper.appendChild(node));\n    return wrapper;\n}\n/**\n * Matches the target element's size to the source's size.\n * @param target Element that needs to be resized.\n * @param sourceRect Dimensions of the source element.\n */\nfunction matchElementSize(target, sourceRect) {\n    target.style.width = `${sourceRect.width}px`;\n    target.style.height = `${sourceRect.height}px`;\n    target.style.transform = getTransform(sourceRect.left, sourceRect.top);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Moves an item one index in an array to another.\n * @param array Array in which to move the item.\n * @param fromIndex Starting index of the item.\n * @param toIndex Index to which the item should be moved.\n */\nfunction moveItemInArray(array, fromIndex, toIndex) {\n    const from = clamp$1(fromIndex, array.length - 1);\n    const to = clamp$1(toIndex, array.length - 1);\n    if (from === to) {\n        return;\n    }\n    const target = array[from];\n    const delta = to < from ? -1 : 1;\n    for (let i = from; i !== to; i += delta) {\n        array[i] = array[i + delta];\n    }\n    array[to] = target;\n}\n/**\n * Moves an item from one array to another.\n * @param currentArray Array from which to transfer the item.\n * @param targetArray Array into which to put the item.\n * @param currentIndex Index of the item in its current array.\n * @param targetIndex Index at which to insert the item.\n */\nfunction transferArrayItem(currentArray, targetArray, currentIndex, targetIndex) {\n    const from = clamp$1(currentIndex, currentArray.length - 1);\n    const to = clamp$1(targetIndex, targetArray.length);\n    if (currentArray.length) {\n        targetArray.splice(to, 0, currentArray.splice(from, 1)[0]);\n    }\n}\n/**\n * Copies an item from one array to another, leaving it in its\n * original position in current array.\n * @param currentArray Array from which to copy the item.\n * @param targetArray Array into which is copy the item.\n * @param currentIndex Index of the item in its current array.\n * @param targetIndex Index at which to insert the item.\n *\n */\nfunction copyArrayItem(currentArray, targetArray, currentIndex, targetIndex) {\n    const to = clamp$1(targetIndex, targetArray.length);\n    if (currentArray.length) {\n        targetArray.splice(to, 0, currentArray[currentIndex]);\n    }\n}\n/** Clamps a number between zero and a maximum. */\nfunction clamp$1(value, max) {\n    return Math.max(0, Math.min(max, value));\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Proximity, as a ratio to width/height, at which a\n * dragged item will affect the drop container.\n */\nconst DROP_PROXIMITY_THRESHOLD = 0.05;\n/**\n * Proximity, as a ratio to width/height at which to start auto-scrolling the drop list or the\n * viewport. The value comes from trying it out manually until it feels right.\n */\nconst SCROLL_PROXIMITY_THRESHOLD = 0.05;\n/**\n * Number of pixels to scroll for each frame when auto-scrolling an element.\n * The value comes from trying it out manually until it feels right.\n */\nconst AUTO_SCROLL_STEP = 2;\n/**\n * Reference to a drop list. Used to manipulate or dispose of the container.\n */\nclass DropListRef {\n    constructor(element, _dragDropRegistry, _document, _ngZone, _viewportRuler) {\n        this._dragDropRegistry = _dragDropRegistry;\n        this._ngZone = _ngZone;\n        this._viewportRuler = _viewportRuler;\n        /** Whether starting a dragging sequence from this container is disabled. */\n        this.disabled = false;\n        /** Whether sorting items within the list is disabled. */\n        this.sortingDisabled = false;\n        /**\n         * Whether auto-scrolling the view when the user\n         * moves their pointer close to the edges is disabled.\n         */\n        this.autoScrollDisabled = false;\n        /**\n         * Function that is used to determine whether an item\n         * is allowed to be moved into a drop container.\n         */\n        this.enterPredicate = () => true;\n        /** Functions that is used to determine whether an item can be sorted into a particular index. */\n        this.sortPredicate = () => true;\n        /** Emits right before dragging has started. */\n        this.beforeStarted = new Subject();\n        /**\n         * Emits when the user has moved a new drag item into this container.\n         */\n        this.entered = new Subject();\n        /**\n         * Emits when the user removes an item from the container\n         * by dragging it into another container.\n         */\n        this.exited = new Subject();\n        /** Emits when the user drops an item inside the container. */\n        this.dropped = new Subject();\n        /** Emits as the user is swapping items while actively dragging. */\n        this.sorted = new Subject();\n        /** Whether an item in the list is being dragged. */\n        this._isDragging = false;\n        /** Cache of the dimensions of all the items inside the container. */\n        this._itemPositions = [];\n        /**\n         * Keeps track of the item that was last swapped with the dragged item, as well as what direction\n         * the pointer was moving in when the swap occured and whether the user's pointer continued to\n         * overlap with the swapped item after the swapping occurred.\n         */\n        this._previousSwap = { drag: null, delta: 0, overlaps: false };\n        /** Drop lists that are connected to the current one. */\n        this._siblings = [];\n        /** Direction in which the list is oriented. */\n        this._orientation = 'vertical';\n        /** Connected siblings that currently have a dragged item. */\n        this._activeSiblings = new Set();\n        /** Layout direction of the drop list. */\n        this._direction = 'ltr';\n        /** Subscription to the window being scrolled. */\n        this._viewportScrollSubscription = Subscription.EMPTY;\n        /** Vertical direction in which the list is currently scrolling. */\n        this._verticalScrollDirection = 0 /* NONE */;\n        /** Horizontal direction in which the list is currently scrolling. */\n        this._horizontalScrollDirection = 0 /* NONE */;\n        /** Used to signal to the current auto-scroll sequence when to stop. */\n        this._stopScrollTimers = new Subject();\n        /** Shadow root of the current element. Necessary for `elementFromPoint` to resolve correctly. */\n        this._cachedShadowRoot = null;\n        /** Starts the interval that'll auto-scroll the element. */\n        this._startScrollInterval = () => {\n            this._stopScrolling();\n            interval(0, animationFrameScheduler)\n                .pipe(takeUntil(this._stopScrollTimers))\n                .subscribe(() => {\n                const node = this._scrollNode;\n                if (this._verticalScrollDirection === 1 /* UP */) {\n                    incrementVerticalScroll(node, -AUTO_SCROLL_STEP);\n                }\n                else if (this._verticalScrollDirection === 2 /* DOWN */) {\n                    incrementVerticalScroll(node, AUTO_SCROLL_STEP);\n                }\n                if (this._horizontalScrollDirection === 1 /* LEFT */) {\n                    incrementHorizontalScroll(node, -AUTO_SCROLL_STEP);\n                }\n                else if (this._horizontalScrollDirection === 2 /* RIGHT */) {\n                    incrementHorizontalScroll(node, AUTO_SCROLL_STEP);\n                }\n            });\n        };\n        this.element = coerceElement(element);\n        this._document = _document;\n        this.withScrollableParents([this.element]);\n        _dragDropRegistry.registerDropContainer(this);\n        this._parentPositions = new ParentPositionTracker(_document, _viewportRuler);\n    }\n    /** Removes the drop list functionality from the DOM element. */\n    dispose() {\n        this._stopScrolling();\n        this._stopScrollTimers.complete();\n        this._viewportScrollSubscription.unsubscribe();\n        this.beforeStarted.complete();\n        this.entered.complete();\n        this.exited.complete();\n        this.dropped.complete();\n        this.sorted.complete();\n        this._activeSiblings.clear();\n        this._scrollNode = null;\n        this._parentPositions.clear();\n        this._dragDropRegistry.removeDropContainer(this);\n    }\n    /** Whether an item from this list is currently being dragged. */\n    isDragging() {\n        return this._isDragging;\n    }\n    /** Starts dragging an item. */\n    start() {\n        const styles = coerceElement(this.element).style;\n        this.beforeStarted.next();\n        this._isDragging = true;\n        // We need to disable scroll snapping while the user is dragging, because it breaks automatic\n        // scrolling. The browser seems to round the value based on the snapping points which means\n        // that we can't increment/decrement the scroll position.\n        this._initialScrollSnap = styles.msScrollSnapType || styles.scrollSnapType || '';\n        styles.scrollSnapType = styles.msScrollSnapType = 'none';\n        this._cacheItems();\n        this._siblings.forEach(sibling => sibling._startReceiving(this));\n        this._viewportScrollSubscription.unsubscribe();\n        this._listenToScrollEvents();\n    }\n    /**\n     * Emits an event to indicate that the user moved an item into the container.\n     * @param item Item that was moved into the container.\n     * @param pointerX Position of the item along the X axis.\n     * @param pointerY Position of the item along the Y axis.\n     * @param index Index at which the item entered. If omitted, the container will try to figure it\n     *   out automatically.\n     */\n    enter(item, pointerX, pointerY, index) {\n        this.start();\n        // If sorting is disabled, we want the item to return to its starting\n        // position if the user is returning it to its initial container.\n        let newIndex;\n        if (index == null) {\n            newIndex = this.sortingDisabled ? this._draggables.indexOf(item) : -1;\n            if (newIndex === -1) {\n                // We use the coordinates of where the item entered the drop\n                // zone to figure out at which index it should be inserted.\n                newIndex = this._getItemIndexFromPointerPosition(item, pointerX, pointerY);\n            }\n        }\n        else {\n            newIndex = index;\n        }\n        const activeDraggables = this._activeDraggables;\n        const currentIndex = activeDraggables.indexOf(item);\n        const placeholder = item.getPlaceholderElement();\n        let newPositionReference = activeDraggables[newIndex];\n        // If the item at the new position is the same as the item that is being dragged,\n        // it means that we're trying to restore the item to its initial position. In this\n        // case we should use the next item from the list as the reference.\n        if (newPositionReference === item) {\n            newPositionReference = activeDraggables[newIndex + 1];\n        }\n        // Since the item may be in the `activeDraggables` already (e.g. if the user dragged it\n        // into another container and back again), we have to ensure that it isn't duplicated.\n        if (currentIndex > -1) {\n            activeDraggables.splice(currentIndex, 1);\n        }\n        // Don't use items that are being dragged as a reference, because\n        // their element has been moved down to the bottom of the body.\n        if (newPositionReference && !this._dragDropRegistry.isDragging(newPositionReference)) {\n            const element = newPositionReference.getRootElement();\n            element.parentElement.insertBefore(placeholder, element);\n            activeDraggables.splice(newIndex, 0, item);\n        }\n        else if (this._shouldEnterAsFirstChild(pointerX, pointerY)) {\n            const reference = activeDraggables[0].getRootElement();\n            reference.parentNode.insertBefore(placeholder, reference);\n            activeDraggables.unshift(item);\n        }\n        else {\n            coerceElement(this.element).appendChild(placeholder);\n            activeDraggables.push(item);\n        }\n        // The transform needs to be cleared so it doesn't throw off the measurements.\n        placeholder.style.transform = '';\n        // Note that the positions were already cached when we called `start` above,\n        // but we need to refresh them since the amount of items has changed and also parent rects.\n        this._cacheItemPositions();\n        this._cacheParentPositions();\n        this.entered.next({ item, container: this, currentIndex: this.getItemIndex(item) });\n    }\n    /**\n     * Removes an item from the container after it was dragged into another container by the user.\n     * @param item Item that was dragged out.\n     */\n    exit(item) {\n        this._reset();\n        this.exited.next({ item, container: this });\n    }\n    /**\n     * Drops an item into this container.\n     * @param item Item being dropped into the container.\n     * @param currentIndex Index at which the item should be inserted.\n     * @param previousIndex Index of the item when dragging started.\n     * @param previousContainer Container from which the item got dragged in.\n     * @param isPointerOverContainer Whether the user's pointer was over the\n     *    container when the item was dropped.\n     * @param distance Distance the user has dragged since the start of the dragging sequence.\n     */\n    drop(item, currentIndex, previousIndex, previousContainer, isPointerOverContainer, distance) {\n        this._reset();\n        this.dropped.next({\n            item,\n            currentIndex,\n            previousIndex,\n            container: this,\n            previousContainer,\n            isPointerOverContainer,\n            distance\n        });\n    }\n    /**\n     * Sets the draggable items that are a part of this list.\n     * @param items Items that are a part of this list.\n     */\n    withItems(items) {\n        const previousItems = this._draggables;\n        this._draggables = items;\n        items.forEach(item => item._withDropContainer(this));\n        if (this.isDragging()) {\n            const draggedItems = previousItems.filter(item => item.isDragging());\n            // If all of the items being dragged were removed\n            // from the list, abort the current drag sequence.\n            if (draggedItems.every(item => items.indexOf(item) === -1)) {\n                this._reset();\n            }\n            else {\n                this._cacheItems();\n            }\n        }\n        return this;\n    }\n    /** Sets the layout direction of the drop list. */\n    withDirection(direction) {\n        this._direction = direction;\n        return this;\n    }\n    /**\n     * Sets the containers that are connected to this one. When two or more containers are\n     * connected, the user will be allowed to transfer items between them.\n     * @param connectedTo Other containers that the current containers should be connected to.\n     */\n    connectedTo(connectedTo) {\n        this._siblings = connectedTo.slice();\n        return this;\n    }\n    /**\n     * Sets the orientation of the container.\n     * @param orientation New orientation for the container.\n     */\n    withOrientation(orientation) {\n        this._orientation = orientation;\n        return this;\n    }\n    /**\n     * Sets which parent elements are can be scrolled while the user is dragging.\n     * @param elements Elements that can be scrolled.\n     */\n    withScrollableParents(elements) {\n        const element = coerceElement(this.element);\n        // We always allow the current element to be scrollable\n        // so we need to ensure that it's in the array.\n        this._scrollableElements =\n            elements.indexOf(element) === -1 ? [element, ...elements] : elements.slice();\n        return this;\n    }\n    /** Gets the scrollable parents that are registered with this drop container. */\n    getScrollableParents() {\n        return this._scrollableElements;\n    }\n    /**\n     * Figures out the index of an item in the container.\n     * @param item Item whose index should be determined.\n     */\n    getItemIndex(item) {\n        if (!this._isDragging) {\n            return this._draggables.indexOf(item);\n        }\n        // Items are sorted always by top/left in the cache, however they flow differently in RTL.\n        // The rest of the logic still stands no matter what orientation we're in, however\n        // we need to invert the array when determining the index.\n        const items = this._orientation === 'horizontal' && this._direction === 'rtl' ?\n            this._itemPositions.slice().reverse() : this._itemPositions;\n        return findIndex(items, currentItem => currentItem.drag === item);\n    }\n    /**\n     * Whether the list is able to receive the item that\n     * is currently being dragged inside a connected drop list.\n     */\n    isReceiving() {\n        return this._activeSiblings.size > 0;\n    }\n    /**\n     * Sorts an item inside the container based on its position.\n     * @param item Item to be sorted.\n     * @param pointerX Position of the item along the X axis.\n     * @param pointerY Position of the item along the Y axis.\n     * @param pointerDelta Direction in which the pointer is moving along each axis.\n     */\n    _sortItem(item, pointerX, pointerY, pointerDelta) {\n        // Don't sort the item if sorting is disabled or it's out of range.\n        if (this.sortingDisabled ||\n            !isPointerNearClientRect(this._clientRect, DROP_PROXIMITY_THRESHOLD, pointerX, pointerY)) {\n            return;\n        }\n        const siblings = this._itemPositions;\n        const newIndex = this._getItemIndexFromPointerPosition(item, pointerX, pointerY, pointerDelta);\n        if (newIndex === -1 && siblings.length > 0) {\n            return;\n        }\n        const isHorizontal = this._orientation === 'horizontal';\n        const currentIndex = findIndex(siblings, currentItem => currentItem.drag === item);\n        const siblingAtNewPosition = siblings[newIndex];\n        const currentPosition = siblings[currentIndex].clientRect;\n        const newPosition = siblingAtNewPosition.clientRect;\n        const delta = currentIndex > newIndex ? 1 : -1;\n        // How many pixels the item's placeholder should be offset.\n        const itemOffset = this._getItemOffsetPx(currentPosition, newPosition, delta);\n        // How many pixels all the other items should be offset.\n        const siblingOffset = this._getSiblingOffsetPx(currentIndex, siblings, delta);\n        // Save the previous order of the items before moving the item to its new index.\n        // We use this to check whether an item has been moved as a result of the sorting.\n        const oldOrder = siblings.slice();\n        // Shuffle the array in place.\n        moveItemInArray(siblings, currentIndex, newIndex);\n        this.sorted.next({\n            previousIndex: currentIndex,\n            currentIndex: newIndex,\n            container: this,\n            item\n        });\n        siblings.forEach((sibling, index) => {\n            // Don't do anything if the position hasn't changed.\n            if (oldOrder[index] === sibling) {\n                return;\n            }\n            const isDraggedItem = sibling.drag === item;\n            const offset = isDraggedItem ? itemOffset : siblingOffset;\n            const elementToOffset = isDraggedItem ? item.getPlaceholderElement() :\n                sibling.drag.getRootElement();\n            // Update the offset to reflect the new position.\n            sibling.offset += offset;\n            // Since we're moving the items with a `transform`, we need to adjust their cached\n            // client rects to reflect their new position, as well as swap their positions in the cache.\n            // Note that we shouldn't use `getBoundingClientRect` here to update the cache, because the\n            // elements may be mid-animation which will give us a wrong result.\n            if (isHorizontal) {\n                // Round the transforms since some browsers will\n                // blur the elements, for sub-pixel transforms.\n                elementToOffset.style.transform = `translate3d(${Math.round(sibling.offset)}px, 0, 0)`;\n                adjustClientRect(sibling.clientRect, 0, offset);\n            }\n            else {\n                elementToOffset.style.transform = `translate3d(0, ${Math.round(sibling.offset)}px, 0)`;\n                adjustClientRect(sibling.clientRect, offset, 0);\n            }\n        });\n        // Note that it's important that we do this after the client rects have been adjusted.\n        this._previousSwap.overlaps = isInsideClientRect(newPosition, pointerX, pointerY);\n        this._previousSwap.drag = siblingAtNewPosition.drag;\n        this._previousSwap.delta = isHorizontal ? pointerDelta.x : pointerDelta.y;\n    }\n    /**\n     * Checks whether the user's pointer is close to the edges of either the\n     * viewport or the drop list and starts the auto-scroll sequence.\n     * @param pointerX User's pointer position along the x axis.\n     * @param pointerY User's pointer position along the y axis.\n     */\n    _startScrollingIfNecessary(pointerX, pointerY) {\n        if (this.autoScrollDisabled) {\n            return;\n        }\n        let scrollNode;\n        let verticalScrollDirection = 0 /* NONE */;\n        let horizontalScrollDirection = 0 /* NONE */;\n        // Check whether we should start scrolling any of the parent containers.\n        this._parentPositions.positions.forEach((position, element) => {\n            // We have special handling for the `document` below. Also this would be\n            // nicer with a  for...of loop, but it requires changing a compiler flag.\n            if (element === this._document || !position.clientRect || scrollNode) {\n                return;\n            }\n            if (isPointerNearClientRect(position.clientRect, DROP_PROXIMITY_THRESHOLD, pointerX, pointerY)) {\n                [verticalScrollDirection, horizontalScrollDirection] = getElementScrollDirections(element, position.clientRect, pointerX, pointerY);\n                if (verticalScrollDirection || horizontalScrollDirection) {\n                    scrollNode = element;\n                }\n            }\n        });\n        // Otherwise check if we can start scrolling the viewport.\n        if (!verticalScrollDirection && !horizontalScrollDirection) {\n            const { width, height } = this._viewportRuler.getViewportSize();\n            const clientRect = { width, height, top: 0, right: width, bottom: height, left: 0 };\n            verticalScrollDirection = getVerticalScrollDirection(clientRect, pointerY);\n            horizontalScrollDirection = getHorizontalScrollDirection(clientRect, pointerX);\n            scrollNode = window;\n        }\n        if (scrollNode && (verticalScrollDirection !== this._verticalScrollDirection ||\n            horizontalScrollDirection !== this._horizontalScrollDirection ||\n            scrollNode !== this._scrollNode)) {\n            this._verticalScrollDirection = verticalScrollDirection;\n            this._horizontalScrollDirection = horizontalScrollDirection;\n            this._scrollNode = scrollNode;\n            if ((verticalScrollDirection || horizontalScrollDirection) && scrollNode) {\n                this._ngZone.runOutsideAngular(this._startScrollInterval);\n            }\n            else {\n                this._stopScrolling();\n            }\n        }\n    }\n    /** Stops any currently-running auto-scroll sequences. */\n    _stopScrolling() {\n        this._stopScrollTimers.next();\n    }\n    /** Caches the positions of the configured scrollable parents. */\n    _cacheParentPositions() {\n        const element = coerceElement(this.element);\n        this._parentPositions.cache(this._scrollableElements);\n        // The list element is always in the `scrollableElements`\n        // so we can take advantage of the cached `ClientRect`.\n        this._clientRect = this._parentPositions.positions.get(element).clientRect;\n    }\n    /** Refreshes the position cache of the items and sibling containers. */\n    _cacheItemPositions() {\n        const isHorizontal = this._orientation === 'horizontal';\n        this._itemPositions = this._activeDraggables.map(drag => {\n            const elementToMeasure = drag.getVisibleElement();\n            return { drag, offset: 0, clientRect: getMutableClientRect(elementToMeasure) };\n        }).sort((a, b) => {\n            return isHorizontal ? a.clientRect.left - b.clientRect.left :\n                a.clientRect.top - b.clientRect.top;\n        });\n    }\n    /** Resets the container to its initial state. */\n    _reset() {\n        this._isDragging = false;\n        const styles = coerceElement(this.element).style;\n        styles.scrollSnapType = styles.msScrollSnapType = this._initialScrollSnap;\n        // TODO(crisbeto): may have to wait for the animations to finish.\n        this._activeDraggables.forEach(item => {\n            const rootElement = item.getRootElement();\n            if (rootElement) {\n                rootElement.style.transform = '';\n            }\n        });\n        this._siblings.forEach(sibling => sibling._stopReceiving(this));\n        this._activeDraggables = [];\n        this._itemPositions = [];\n        this._previousSwap.drag = null;\n        this._previousSwap.delta = 0;\n        this._previousSwap.overlaps = false;\n        this._stopScrolling();\n        this._viewportScrollSubscription.unsubscribe();\n        this._parentPositions.clear();\n    }\n    /**\n     * Gets the offset in pixels by which the items that aren't being dragged should be moved.\n     * @param currentIndex Index of the item currently being dragged.\n     * @param siblings All of the items in the list.\n     * @param delta Direction in which the user is moving.\n     */\n    _getSiblingOffsetPx(currentIndex, siblings, delta) {\n        const isHorizontal = this._orientation === 'horizontal';\n        const currentPosition = siblings[currentIndex].clientRect;\n        const immediateSibling = siblings[currentIndex + delta * -1];\n        let siblingOffset = currentPosition[isHorizontal ? 'width' : 'height'] * delta;\n        if (immediateSibling) {\n            const start = isHorizontal ? 'left' : 'top';\n            const end = isHorizontal ? 'right' : 'bottom';\n            // Get the spacing between the start of the current item and the end of the one immediately\n            // after it in the direction in which the user is dragging, or vice versa. We add it to the\n            // offset in order to push the element to where it will be when it's inline and is influenced\n            // by the `margin` of its siblings.\n            if (delta === -1) {\n                siblingOffset -= immediateSibling.clientRect[start] - currentPosition[end];\n            }\n            else {\n                siblingOffset += currentPosition[start] - immediateSibling.clientRect[end];\n            }\n        }\n        return siblingOffset;\n    }\n    /**\n     * Gets the offset in pixels by which the item that is being dragged should be moved.\n     * @param currentPosition Current position of the item.\n     * @param newPosition Position of the item where the current item should be moved.\n     * @param delta Direction in which the user is moving.\n     */\n    _getItemOffsetPx(currentPosition, newPosition, delta) {\n        const isHorizontal = this._orientation === 'horizontal';\n        let itemOffset = isHorizontal ? newPosition.left - currentPosition.left :\n            newPosition.top - currentPosition.top;\n        // Account for differences in the item width/height.\n        if (delta === -1) {\n            itemOffset += isHorizontal ? newPosition.width - currentPosition.width :\n                newPosition.height - currentPosition.height;\n        }\n        return itemOffset;\n    }\n    /**\n     * Checks if pointer is entering in the first position\n     * @param pointerX Position of the user's pointer along the X axis.\n     * @param pointerY Position of the user's pointer along the Y axis.\n     */\n    _shouldEnterAsFirstChild(pointerX, pointerY) {\n        if (!this._activeDraggables.length) {\n            return false;\n        }\n        const itemPositions = this._itemPositions;\n        const isHorizontal = this._orientation === 'horizontal';\n        // `itemPositions` are sorted by position while `activeDraggables` are sorted by child index\n        // check if container is using some sort of \"reverse\" ordering (eg: flex-direction: row-reverse)\n        const reversed = itemPositions[0].drag !== this._activeDraggables[0];\n        if (reversed) {\n            const lastItemRect = itemPositions[itemPositions.length - 1].clientRect;\n            return isHorizontal ? pointerX >= lastItemRect.right : pointerY >= lastItemRect.bottom;\n        }\n        else {\n            const firstItemRect = itemPositions[0].clientRect;\n            return isHorizontal ? pointerX <= firstItemRect.left : pointerY <= firstItemRect.top;\n        }\n    }\n    /**\n     * Gets the index of an item in the drop container, based on the position of the user's pointer.\n     * @param item Item that is being sorted.\n     * @param pointerX Position of the user's pointer along the X axis.\n     * @param pointerY Position of the user's pointer along the Y axis.\n     * @param delta Direction in which the user is moving their pointer.\n     */\n    _getItemIndexFromPointerPosition(item, pointerX, pointerY, delta) {\n        const isHorizontal = this._orientation === 'horizontal';\n        const index = findIndex(this._itemPositions, ({ drag, clientRect }, _, array) => {\n            if (drag === item) {\n                // If there's only one item left in the container, it must be\n                // the dragged item itself so we use it as a reference.\n                return array.length < 2;\n            }\n            if (delta) {\n                const direction = isHorizontal ? delta.x : delta.y;\n                // If the user is still hovering over the same item as last time, their cursor hasn't left\n                // the item after we made the swap, and they didn't change the direction in which they're\n                // dragging, we don't consider it a direction swap.\n                if (drag === this._previousSwap.drag && this._previousSwap.overlaps &&\n                    direction === this._previousSwap.delta) {\n                    return false;\n                }\n            }\n            return isHorizontal ?\n                // Round these down since most browsers report client rects with\n                // sub-pixel precision, whereas the pointer coordinates are rounded to pixels.\n                pointerX >= Math.floor(clientRect.left) && pointerX < Math.floor(clientRect.right) :\n                pointerY >= Math.floor(clientRect.top) && pointerY < Math.floor(clientRect.bottom);\n        });\n        return (index === -1 || !this.sortPredicate(index, item, this)) ? -1 : index;\n    }\n    /** Caches the current items in the list and their positions. */\n    _cacheItems() {\n        this._activeDraggables = this._draggables.slice();\n        this._cacheItemPositions();\n        this._cacheParentPositions();\n    }\n    /**\n     * Checks whether the user's pointer is positioned over the container.\n     * @param x Pointer position along the X axis.\n     * @param y Pointer position along the Y axis.\n     */\n    _isOverContainer(x, y) {\n        return isInsideClientRect(this._clientRect, x, y);\n    }\n    /**\n     * Figures out whether an item should be moved into a sibling\n     * drop container, based on its current position.\n     * @param item Drag item that is being moved.\n     * @param x Position of the item along the X axis.\n     * @param y Position of the item along the Y axis.\n     */\n    _getSiblingContainerFromPosition(item, x, y) {\n        return this._siblings.find(sibling => sibling._canReceive(item, x, y));\n    }\n    /**\n     * Checks whether the drop list can receive the passed-in item.\n     * @param item Item that is being dragged into the list.\n     * @param x Position of the item along the X axis.\n     * @param y Position of the item along the Y axis.\n     */\n    _canReceive(item, x, y) {\n        if (!isInsideClientRect(this._clientRect, x, y) || !this.enterPredicate(item, this)) {\n            return false;\n        }\n        const elementFromPoint = this._getShadowRoot().elementFromPoint(x, y);\n        // If there's no element at the pointer position, then\n        // the client rect is probably scrolled out of the view.\n        if (!elementFromPoint) {\n            return false;\n        }\n        const nativeElement = coerceElement(this.element);\n        // The `ClientRect`, that we're using to find the container over which the user is\n        // hovering, doesn't give us any information on whether the element has been scrolled\n        // out of the view or whether it's overlapping with other containers. This means that\n        // we could end up transferring the item into a container that's invisible or is positioned\n        // below another one. We use the result from `elementFromPoint` to get the top-most element\n        // at the pointer position and to find whether it's one of the intersecting drop containers.\n        return elementFromPoint === nativeElement || nativeElement.contains(elementFromPoint);\n    }\n    /**\n     * Called by one of the connected drop lists when a dragging sequence has started.\n     * @param sibling Sibling in which dragging has started.\n     */\n    _startReceiving(sibling) {\n        const activeSiblings = this._activeSiblings;\n        if (!activeSiblings.has(sibling)) {\n            activeSiblings.add(sibling);\n            this._cacheParentPositions();\n            this._listenToScrollEvents();\n        }\n    }\n    /**\n     * Called by a connected drop list when dragging has stopped.\n     * @param sibling Sibling whose dragging has stopped.\n     */\n    _stopReceiving(sibling) {\n        this._activeSiblings.delete(sibling);\n        this._viewportScrollSubscription.unsubscribe();\n    }\n    /**\n     * Starts listening to scroll events on the viewport.\n     * Used for updating the internal state of the list.\n     */\n    _listenToScrollEvents() {\n        this._viewportScrollSubscription = this._dragDropRegistry.scroll.subscribe(event => {\n            if (this.isDragging()) {\n                const scrollDifference = this._parentPositions.handleScroll(event);\n                if (scrollDifference) {\n                    // Since we know the amount that the user has scrolled we can shift all of the\n                    // client rectangles ourselves. This is cheaper than re-measuring everything and\n                    // we can avoid inconsistent behavior where we might be measuring the element before\n                    // its position has changed.\n                    this._itemPositions.forEach(({ clientRect }) => {\n                        adjustClientRect(clientRect, scrollDifference.top, scrollDifference.left);\n                    });\n                    // We need two loops for this, because we want all of the cached\n                    // positions to be up-to-date before we re-sort the item.\n                    this._itemPositions.forEach(({ drag }) => {\n                        if (this._dragDropRegistry.isDragging(drag)) {\n                            // We need to re-sort the item manually, because the pointer move\n                            // events won't be dispatched while the user is scrolling.\n                            drag._sortFromLastPointerPosition();\n                        }\n                    });\n                }\n            }\n            else if (this.isReceiving()) {\n                this._cacheParentPositions();\n            }\n        });\n    }\n    /**\n     * Lazily resolves and returns the shadow root of the element. We do this in a function, rather\n     * than saving it in property directly on init, because we want to resolve it as late as possible\n     * in order to ensure that the element has been moved into the shadow DOM. Doing it inside the\n     * constructor might be too early if the element is inside of something like `ngFor` or `ngIf`.\n     */\n    _getShadowRoot() {\n        if (!this._cachedShadowRoot) {\n            const shadowRoot = _getShadowRoot(coerceElement(this.element));\n            this._cachedShadowRoot = shadowRoot || this._document;\n        }\n        return this._cachedShadowRoot;\n    }\n}\n/**\n * Finds the index of an item that matches a predicate function. Used as an equivalent\n * of `Array.prototype.findIndex` which isn't part of the standard Google typings.\n * @param array Array in which to look for matches.\n * @param predicate Function used to determine whether an item is a match.\n */\nfunction findIndex(array, predicate) {\n    for (let i = 0; i < array.length; i++) {\n        if (predicate(array[i], i, array)) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * Increments the vertical scroll position of a node.\n * @param node Node whose scroll position should change.\n * @param amount Amount of pixels that the `node` should be scrolled.\n */\nfunction incrementVerticalScroll(node, amount) {\n    if (node === window) {\n        node.scrollBy(0, amount);\n    }\n    else {\n        // Ideally we could use `Element.scrollBy` here as well, but IE and Edge don't support it.\n        node.scrollTop += amount;\n    }\n}\n/**\n * Increments the horizontal scroll position of a node.\n * @param node Node whose scroll position should change.\n * @param amount Amount of pixels that the `node` should be scrolled.\n */\nfunction incrementHorizontalScroll(node, amount) {\n    if (node === window) {\n        node.scrollBy(amount, 0);\n    }\n    else {\n        // Ideally we could use `Element.scrollBy` here as well, but IE and Edge don't support it.\n        node.scrollLeft += amount;\n    }\n}\n/**\n * Gets whether the vertical auto-scroll direction of a node.\n * @param clientRect Dimensions of the node.\n * @param pointerY Position of the user's pointer along the y axis.\n */\nfunction getVerticalScrollDirection(clientRect, pointerY) {\n    const { top, bottom, height } = clientRect;\n    const yThreshold = height * SCROLL_PROXIMITY_THRESHOLD;\n    if (pointerY >= top - yThreshold && pointerY <= top + yThreshold) {\n        return 1 /* UP */;\n    }\n    else if (pointerY >= bottom - yThreshold && pointerY <= bottom + yThreshold) {\n        return 2 /* DOWN */;\n    }\n    return 0 /* NONE */;\n}\n/**\n * Gets whether the horizontal auto-scroll direction of a node.\n * @param clientRect Dimensions of the node.\n * @param pointerX Position of the user's pointer along the x axis.\n */\nfunction getHorizontalScrollDirection(clientRect, pointerX) {\n    const { left, right, width } = clientRect;\n    const xThreshold = width * SCROLL_PROXIMITY_THRESHOLD;\n    if (pointerX >= left - xThreshold && pointerX <= left + xThreshold) {\n        return 1 /* LEFT */;\n    }\n    else if (pointerX >= right - xThreshold && pointerX <= right + xThreshold) {\n        return 2 /* RIGHT */;\n    }\n    return 0 /* NONE */;\n}\n/**\n * Gets the directions in which an element node should be scrolled,\n * assuming that the user's pointer is already within it scrollable region.\n * @param element Element for which we should calculate the scroll direction.\n * @param clientRect Bounding client rectangle of the element.\n * @param pointerX Position of the user's pointer along the x axis.\n * @param pointerY Position of the user's pointer along the y axis.\n */\nfunction getElementScrollDirections(element, clientRect, pointerX, pointerY) {\n    const computedVertical = getVerticalScrollDirection(clientRect, pointerY);\n    const computedHorizontal = getHorizontalScrollDirection(clientRect, pointerX);\n    let verticalScrollDirection = 0 /* NONE */;\n    let horizontalScrollDirection = 0 /* NONE */;\n    // Note that we here we do some extra checks for whether the element is actually scrollable in\n    // a certain direction and we only assign the scroll direction if it is. We do this so that we\n    // can allow other elements to be scrolled, if the current element can't be scrolled anymore.\n    // This allows us to handle cases where the scroll regions of two scrollable elements overlap.\n    if (computedVertical) {\n        const scrollTop = element.scrollTop;\n        if (computedVertical === 1 /* UP */) {\n            if (scrollTop > 0) {\n                verticalScrollDirection = 1 /* UP */;\n            }\n        }\n        else if (element.scrollHeight - scrollTop > element.clientHeight) {\n            verticalScrollDirection = 2 /* DOWN */;\n        }\n    }\n    if (computedHorizontal) {\n        const scrollLeft = element.scrollLeft;\n        if (computedHorizontal === 1 /* LEFT */) {\n            if (scrollLeft > 0) {\n                horizontalScrollDirection = 1 /* LEFT */;\n            }\n        }\n        else if (element.scrollWidth - scrollLeft > element.clientWidth) {\n            horizontalScrollDirection = 2 /* RIGHT */;\n        }\n    }\n    return [verticalScrollDirection, horizontalScrollDirection];\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Event options that can be used to bind an active, capturing event. */\nconst activeCapturingEventOptions = normalizePassiveListenerOptions({\n    passive: false,\n    capture: true\n});\n/**\n * Service that keeps track of all the drag item and drop container\n * instances, and manages global event listeners on the `document`.\n * @docs-private\n */\n// Note: this class is generic, rather than referencing CdkDrag and CdkDropList directly, in order\n// to avoid circular imports. If we were to reference them here, importing the registry into the\n// classes that are registering themselves will introduce a circular import.\nclass DragDropRegistry {\n    constructor(_ngZone, _document) {\n        this._ngZone = _ngZone;\n        /** Registered drop container instances. */\n        this._dropInstances = new Set();\n        /** Registered drag item instances. */\n        this._dragInstances = new Set();\n        /** Drag item instances that are currently being dragged. */\n        this._activeDragInstances = new Set();\n        /** Keeps track of the event listeners that we've bound to the `document`. */\n        this._globalListeners = new Map();\n        /**\n         * Emits the `touchmove` or `mousemove` events that are dispatched\n         * while the user is dragging a drag item instance.\n         */\n        this.pointerMove = new Subject();\n        /**\n         * Emits the `touchend` or `mouseup` events that are dispatched\n         * while the user is dragging a drag item instance.\n         */\n        this.pointerUp = new Subject();\n        /** Emits when the viewport has been scrolled while the user is dragging an item. */\n        this.scroll = new Subject();\n        /**\n         * Event listener that will prevent the default browser action while the user is dragging.\n         * @param event Event whose default action should be prevented.\n         */\n        this._preventDefaultWhileDragging = (event) => {\n            if (this._activeDragInstances.size) {\n                event.preventDefault();\n            }\n        };\n        /** Event listener for `touchmove` that is bound even if no dragging is happening. */\n        this._persistentTouchmoveListener = (event) => {\n            if (this._activeDragInstances.size) {\n                event.preventDefault();\n                this.pointerMove.next(event);\n            }\n        };\n        this._document = _document;\n    }\n    /** Adds a drop container to the registry. */\n    registerDropContainer(drop) {\n        if (!this._dropInstances.has(drop)) {\n            this._dropInstances.add(drop);\n        }\n    }\n    /** Adds a drag item instance to the registry. */\n    registerDragItem(drag) {\n        this._dragInstances.add(drag);\n        // The `touchmove` event gets bound once, ahead of time, because WebKit\n        // won't preventDefault on a dynamically-added `touchmove` listener.\n        // See https://bugs.webkit.org/show_bug.cgi?id=184250.\n        if (this._dragInstances.size === 1) {\n            this._ngZone.runOutsideAngular(() => {\n                // The event handler has to be explicitly active,\n                // because newer browsers make it passive by default.\n                this._document.addEventListener('touchmove', this._persistentTouchmoveListener, activeCapturingEventOptions);\n            });\n        }\n    }\n    /** Removes a drop container from the registry. */\n    removeDropContainer(drop) {\n        this._dropInstances.delete(drop);\n    }\n    /** Removes a drag item instance from the registry. */\n    removeDragItem(drag) {\n        this._dragInstances.delete(drag);\n        this.stopDragging(drag);\n        if (this._dragInstances.size === 0) {\n            this._document.removeEventListener('touchmove', this._persistentTouchmoveListener, activeCapturingEventOptions);\n        }\n    }\n    /**\n     * Starts the dragging sequence for a drag instance.\n     * @param drag Drag instance which is being dragged.\n     * @param event Event that initiated the dragging.\n     */\n    startDragging(drag, event) {\n        // Do not process the same drag twice to avoid memory leaks and redundant listeners\n        if (this._activeDragInstances.has(drag)) {\n            return;\n        }\n        this._activeDragInstances.add(drag);\n        if (this._activeDragInstances.size === 1) {\n            const isTouchEvent = event.type.startsWith('touch');\n            // We explicitly bind __active__ listeners here, because newer browsers will default to\n            // passive ones for `mousemove` and `touchmove`. The events need to be active, because we\n            // use `preventDefault` to prevent the page from scrolling while the user is dragging.\n            this._globalListeners\n                .set(isTouchEvent ? 'touchend' : 'mouseup', {\n                handler: (e) => this.pointerUp.next(e),\n                options: true\n            })\n                .set('scroll', {\n                handler: (e) => this.scroll.next(e),\n                // Use capturing so that we pick up scroll changes in any scrollable nodes that aren't\n                // the document. See https://github.com/angular/components/issues/17144.\n                options: true\n            })\n                // Preventing the default action on `mousemove` isn't enough to disable text selection\n                // on Safari so we need to prevent the selection event as well. Alternatively this can\n                // be done by setting `user-select: none` on the `body`, however it has causes a style\n                // recalculation which can be expensive on pages with a lot of elements.\n                .set('selectstart', {\n                handler: this._preventDefaultWhileDragging,\n                options: activeCapturingEventOptions\n            });\n            // We don't have to bind a move event for touch drag sequences, because\n            // we already have a persistent global one bound from `registerDragItem`.\n            if (!isTouchEvent) {\n                this._globalListeners.set('mousemove', {\n                    handler: (e) => this.pointerMove.next(e),\n                    options: activeCapturingEventOptions\n                });\n            }\n            this._ngZone.runOutsideAngular(() => {\n                this._globalListeners.forEach((config, name) => {\n                    this._document.addEventListener(name, config.handler, config.options);\n                });\n            });\n        }\n    }\n    /** Stops dragging a drag item instance. */\n    stopDragging(drag) {\n        this._activeDragInstances.delete(drag);\n        if (this._activeDragInstances.size === 0) {\n            this._clearGlobalListeners();\n        }\n    }\n    /** Gets whether a drag item instance is currently being dragged. */\n    isDragging(drag) {\n        return this._activeDragInstances.has(drag);\n    }\n    ngOnDestroy() {\n        this._dragInstances.forEach(instance => this.removeDragItem(instance));\n        this._dropInstances.forEach(instance => this.removeDropContainer(instance));\n        this._clearGlobalListeners();\n        this.pointerMove.complete();\n        this.pointerUp.complete();\n    }\n    /** Clears out the global event listeners from the `document`. */\n    _clearGlobalListeners() {\n        this._globalListeners.forEach((config, name) => {\n            this._document.removeEventListener(name, config.handler, config.options);\n        });\n        this._globalListeners.clear();\n    }\n}\nDragDropRegistry.ɵfac = function DragDropRegistry_Factory(t) { return new (t || DragDropRegistry)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(DOCUMENT)); };\nDragDropRegistry.ɵprov = ɵɵdefineInjectable({ factory: function DragDropRegistry_Factory() { return new DragDropRegistry(ɵɵinject(NgZone), ɵɵinject(DOCUMENT)); }, token: DragDropRegistry, providedIn: \"root\" });\nDragDropRegistry.ctorParameters = () => [\n    { type: NgZone },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DragDropRegistry, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }]; }, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Default configuration to be used when creating a `DragRef`. */\nconst DEFAULT_CONFIG = {\n    dragStartThreshold: 5,\n    pointerDirectionChangeThreshold: 5\n};\n/**\n * Service that allows for drag-and-drop functionality to be attached to DOM elements.\n */\nclass DragDrop {\n    constructor(_document, _ngZone, _viewportRuler, _dragDropRegistry) {\n        this._document = _document;\n        this._ngZone = _ngZone;\n        this._viewportRuler = _viewportRuler;\n        this._dragDropRegistry = _dragDropRegistry;\n    }\n    /**\n     * Turns an element into a draggable item.\n     * @param element Element to which to attach the dragging functionality.\n     * @param config Object used to configure the dragging behavior.\n     */\n    createDrag(element, config = DEFAULT_CONFIG) {\n        return new DragRef(element, config, this._document, this._ngZone, this._viewportRuler, this._dragDropRegistry);\n    }\n    /**\n     * Turns an element into a drop list.\n     * @param element Element to which to attach the drop list functionality.\n     */\n    createDropList(element) {\n        return new DropListRef(element, this._dragDropRegistry, this._document, this._ngZone, this._viewportRuler);\n    }\n}\nDragDrop.ɵfac = function DragDrop_Factory(t) { return new (t || DragDrop)(ɵngcc0.ɵɵinject(DOCUMENT), ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(ɵngcc1.ViewportRuler), ɵngcc0.ɵɵinject(DragDropRegistry)); };\nDragDrop.ɵprov = ɵɵdefineInjectable({ factory: function DragDrop_Factory() { return new DragDrop(ɵɵinject(DOCUMENT), ɵɵinject(NgZone), ɵɵinject(ViewportRuler), ɵɵinject(DragDropRegistry)); }, token: DragDrop, providedIn: \"root\" });\nDragDrop.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },\n    { type: NgZone },\n    { type: ViewportRuler },\n    { type: DragDropRegistry }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DragDrop, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: ɵngcc0.NgZone }, { type: ɵngcc1.ViewportRuler }, { type: DragDropRegistry }]; }, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used for a `CdkDrag` to provide itself as a parent to the\n * drag-specific child directive (`CdkDragHandle`, `CdkDragPreview` etc.). Used primarily\n * to avoid circular imports.\n * @docs-private\n */\nconst CDK_DRAG_PARENT = new InjectionToken('CDK_DRAG_PARENT');\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used to reference instances of `CdkDropListGroup`. It serves as\n * alternative token to the actual `CdkDropListGroup` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst CDK_DROP_LIST_GROUP = new InjectionToken('CdkDropListGroup');\n/**\n * Declaratively connects sibling `cdkDropList` instances together. All of the `cdkDropList`\n * elements that are placed inside a `cdkDropListGroup` will be connected to each other\n * automatically. Can be used as an alternative to the `cdkDropListConnectedTo` input\n * from `cdkDropList`.\n */\nclass CdkDropListGroup {\n    constructor() {\n        /** Drop lists registered inside the group. */\n        this._items = new Set();\n        this._disabled = false;\n    }\n    /** Whether starting a dragging sequence from inside this group is disabled. */\n    get disabled() { return this._disabled; }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n    }\n    ngOnDestroy() {\n        this._items.clear();\n    }\n}\nCdkDropListGroup.ɵfac = function CdkDropListGroup_Factory(t) { return new (t || CdkDropListGroup)(); };\nCdkDropListGroup.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CdkDropListGroup, selectors: [[\"\", \"cdkDropListGroup\", \"\"]], inputs: { disabled: [\"cdkDropListGroupDisabled\", \"disabled\"] }, exportAs: [\"cdkDropListGroup\"], features: [ɵngcc0.ɵɵProvidersFeature([{ provide: CDK_DROP_LIST_GROUP, useExisting: CdkDropListGroup }])] });\nCdkDropListGroup.propDecorators = {\n    disabled: [{ type: Input, args: ['cdkDropListGroupDisabled',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkDropListGroup, [{\n        type: Directive,\n        args: [{\n                selector: '[cdkDropListGroup]',\n                exportAs: 'cdkDropListGroup',\n                providers: [{ provide: CDK_DROP_LIST_GROUP, useExisting: CdkDropListGroup }]\n            }]\n    }], function () { return []; }, { disabled: [{\n            type: Input,\n            args: ['cdkDropListGroupDisabled']\n        }] }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used to configure the\n * behavior of the drag&drop-related components.\n */\nconst CDK_DRAG_CONFIG = new InjectionToken('CDK_DRAG_CONFIG');\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Asserts that a particular node is an element.\n * @param node Node to be checked.\n * @param name Name to attach to the error message.\n */\nfunction assertElementNode(node, name) {\n    if (node.nodeType !== 1) {\n        throw Error(`${name} must be attached to an element node. ` +\n            `Currently attached to \"${node.nodeName}\".`);\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Counter used to generate unique ids for drop zones. */\nlet _uniqueIdCounter = 0;\n/**\n * Injection token that can be used to reference instances of `CdkDropList`. It serves as\n * alternative token to the actual `CdkDropList` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst CDK_DROP_LIST = new InjectionToken('CdkDropList');\nconst ɵ0 = undefined;\n/** Container that wraps a set of draggable items. */\nclass CdkDropList {\n    constructor(\n    /** Element that the drop list is attached to. */\n    element, dragDrop, _changeDetectorRef, _scrollDispatcher, _dir, _group, config) {\n        this.element = element;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._scrollDispatcher = _scrollDispatcher;\n        this._dir = _dir;\n        this._group = _group;\n        /** Emits when the list has been destroyed. */\n        this._destroyed = new Subject();\n        /**\n         * Other draggable containers that this container is connected to and into which the\n         * container's items can be transferred. Can either be references to other drop containers,\n         * or their unique IDs.\n         */\n        this.connectedTo = [];\n        /**\n         * Unique ID for the drop zone. Can be used as a reference\n         * in the `connectedTo` of another `CdkDropList`.\n         */\n        this.id = `cdk-drop-list-${_uniqueIdCounter++}`;\n        /**\n         * Function that is used to determine whether an item\n         * is allowed to be moved into a drop container.\n         */\n        this.enterPredicate = () => true;\n        /** Functions that is used to determine whether an item can be sorted into a particular index. */\n        this.sortPredicate = () => true;\n        /** Emits when the user drops an item inside the container. */\n        this.dropped = new EventEmitter();\n        /**\n         * Emits when the user has moved a new drag item into this container.\n         */\n        this.entered = new EventEmitter();\n        /**\n         * Emits when the user removes an item from the container\n         * by dragging it into another container.\n         */\n        this.exited = new EventEmitter();\n        /** Emits as the user is swapping items while actively dragging. */\n        this.sorted = new EventEmitter();\n        /**\n         * Keeps track of the items that are registered with this container. Historically we used to\n         * do this with a `ContentChildren` query, however queries don't handle transplanted views very\n         * well which means that we can't handle cases like dragging the headers of a `mat-table`\n         * correctly. What we do instead is to have the items register themselves with the container\n         * and then we sort them based on their position in the DOM.\n         */\n        this._unsortedItems = new Set();\n        if (typeof ngDevMode === 'undefined' || ngDevMode) {\n            assertElementNode(element.nativeElement, 'cdkDropList');\n        }\n        this._dropListRef = dragDrop.createDropList(element);\n        this._dropListRef.data = this;\n        if (config) {\n            this._assignDefaults(config);\n        }\n        this._dropListRef.enterPredicate = (drag, drop) => {\n            return this.enterPredicate(drag.data, drop.data);\n        };\n        this._dropListRef.sortPredicate =\n            (index, drag, drop) => {\n                return this.sortPredicate(index, drag.data, drop.data);\n            };\n        this._setupInputSyncSubscription(this._dropListRef);\n        this._handleEvents(this._dropListRef);\n        CdkDropList._dropLists.push(this);\n        if (_group) {\n            _group._items.add(this);\n        }\n    }\n    /** Whether starting a dragging sequence from this container is disabled. */\n    get disabled() {\n        return this._disabled || (!!this._group && this._group.disabled);\n    }\n    set disabled(value) {\n        // Usually we sync the directive and ref state right before dragging starts, in order to have\n        // a single point of failure and to avoid having to use setters for everything. `disabled` is\n        // a special case, because it can prevent the `beforeStarted` event from firing, which can lock\n        // the user in a disabled state, so we also need to sync it as it's being set.\n        this._dropListRef.disabled = this._disabled = coerceBooleanProperty(value);\n    }\n    /** Registers an items with the drop list. */\n    addItem(item) {\n        this._unsortedItems.add(item);\n        if (this._dropListRef.isDragging()) {\n            this._syncItemsWithRef();\n        }\n    }\n    /** Removes an item from the drop list. */\n    removeItem(item) {\n        this._unsortedItems.delete(item);\n        if (this._dropListRef.isDragging()) {\n            this._syncItemsWithRef();\n        }\n    }\n    /** Gets the registered items in the list, sorted by their position in the DOM. */\n    getSortedItems() {\n        return Array.from(this._unsortedItems).sort((a, b) => {\n            const documentPosition = a._dragRef.getVisibleElement().compareDocumentPosition(b._dragRef.getVisibleElement());\n            // `compareDocumentPosition` returns a bitmask so we have to use a bitwise operator.\n            // https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n            // tslint:disable-next-line:no-bitwise\n            return documentPosition & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : 1;\n        });\n    }\n    ngOnDestroy() {\n        const index = CdkDropList._dropLists.indexOf(this);\n        if (index > -1) {\n            CdkDropList._dropLists.splice(index, 1);\n        }\n        if (this._group) {\n            this._group._items.delete(this);\n        }\n        this._unsortedItems.clear();\n        this._dropListRef.dispose();\n        this._destroyed.next();\n        this._destroyed.complete();\n    }\n    /** Syncs the inputs of the CdkDropList with the options of the underlying DropListRef. */\n    _setupInputSyncSubscription(ref) {\n        if (this._dir) {\n            this._dir.change\n                .pipe(startWith(this._dir.value), takeUntil(this._destroyed))\n                .subscribe(value => ref.withDirection(value));\n        }\n        ref.beforeStarted.subscribe(() => {\n            const siblings = coerceArray(this.connectedTo).map(drop => {\n                if (typeof drop === 'string') {\n                    const correspondingDropList = CdkDropList._dropLists.find(list => list.id === drop);\n                    if (!correspondingDropList && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n                        console.warn(`CdkDropList could not find connected drop list with id \"${drop}\"`);\n                    }\n                    return correspondingDropList;\n                }\n                return drop;\n            });\n            if (this._group) {\n                this._group._items.forEach(drop => {\n                    if (siblings.indexOf(drop) === -1) {\n                        siblings.push(drop);\n                    }\n                });\n            }\n            // Note that we resolve the scrollable parents here so that we delay the resolution\n            // as long as possible, ensuring that the element is in its final place in the DOM.\n            if (!this._scrollableParentsResolved) {\n                const scrollableParents = this._scrollDispatcher\n                    .getAncestorScrollContainers(this.element)\n                    .map(scrollable => scrollable.getElementRef().nativeElement);\n                this._dropListRef.withScrollableParents(scrollableParents);\n                // Only do this once since it involves traversing the DOM and the parents\n                // shouldn't be able to change without the drop list being destroyed.\n                this._scrollableParentsResolved = true;\n            }\n            ref.disabled = this.disabled;\n            ref.lockAxis = this.lockAxis;\n            ref.sortingDisabled = coerceBooleanProperty(this.sortingDisabled);\n            ref.autoScrollDisabled = coerceBooleanProperty(this.autoScrollDisabled);\n            ref\n                .connectedTo(siblings.filter(drop => drop && drop !== this).map(list => list._dropListRef))\n                .withOrientation(this.orientation);\n        });\n    }\n    /** Handles events from the underlying DropListRef. */\n    _handleEvents(ref) {\n        ref.beforeStarted.subscribe(() => {\n            this._syncItemsWithRef();\n            this._changeDetectorRef.markForCheck();\n        });\n        ref.entered.subscribe(event => {\n            this.entered.emit({\n                container: this,\n                item: event.item.data,\n                currentIndex: event.currentIndex\n            });\n        });\n        ref.exited.subscribe(event => {\n            this.exited.emit({\n                container: this,\n                item: event.item.data\n            });\n            this._changeDetectorRef.markForCheck();\n        });\n        ref.sorted.subscribe(event => {\n            this.sorted.emit({\n                previousIndex: event.previousIndex,\n                currentIndex: event.currentIndex,\n                container: this,\n                item: event.item.data\n            });\n        });\n        ref.dropped.subscribe(event => {\n            this.dropped.emit({\n                previousIndex: event.previousIndex,\n                currentIndex: event.currentIndex,\n                previousContainer: event.previousContainer.data,\n                container: event.container.data,\n                item: event.item.data,\n                isPointerOverContainer: event.isPointerOverContainer,\n                distance: event.distance\n            });\n            // Mark for check since all of these events run outside of change\n            // detection and we're not guaranteed for something else to have triggered it.\n            this._changeDetectorRef.markForCheck();\n        });\n    }\n    /** Assigns the default input values based on a provided config object. */\n    _assignDefaults(config) {\n        const { lockAxis, draggingDisabled, sortingDisabled, listAutoScrollDisabled, listOrientation } = config;\n        this.disabled = draggingDisabled == null ? false : draggingDisabled;\n        this.sortingDisabled = sortingDisabled == null ? false : sortingDisabled;\n        this.autoScrollDisabled = listAutoScrollDisabled == null ? false : listAutoScrollDisabled;\n        this.orientation = listOrientation || 'vertical';\n        if (lockAxis) {\n            this.lockAxis = lockAxis;\n        }\n    }\n    /** Syncs up the registered drag items with underlying drop list ref. */\n    _syncItemsWithRef() {\n        this._dropListRef.withItems(this.getSortedItems().map(item => item._dragRef));\n    }\n}\nCdkDropList.ɵfac = function CdkDropList_Factory(t) { return new (t || CdkDropList)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(DragDrop), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ScrollDispatcher), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Directionality, 8), ɵngcc0.ɵɵdirectiveInject(CDK_DROP_LIST_GROUP, 12), ɵngcc0.ɵɵdirectiveInject(CDK_DRAG_CONFIG, 8)); };\nCdkDropList.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CdkDropList, selectors: [[\"\", \"cdkDropList\", \"\"], [\"cdk-drop-list\"]], hostAttrs: [1, \"cdk-drop-list\"], hostVars: 7, hostBindings: function CdkDropList_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"id\", ctx.id);\n        ɵngcc0.ɵɵclassProp(\"cdk-drop-list-disabled\", ctx.disabled)(\"cdk-drop-list-dragging\", ctx._dropListRef.isDragging())(\"cdk-drop-list-receiving\", ctx._dropListRef.isReceiving());\n    } }, inputs: { connectedTo: [\"cdkDropListConnectedTo\", \"connectedTo\"], id: \"id\", enterPredicate: [\"cdkDropListEnterPredicate\", \"enterPredicate\"], sortPredicate: [\"cdkDropListSortPredicate\", \"sortPredicate\"], disabled: [\"cdkDropListDisabled\", \"disabled\"], sortingDisabled: [\"cdkDropListSortingDisabled\", \"sortingDisabled\"], autoScrollDisabled: [\"cdkDropListAutoScrollDisabled\", \"autoScrollDisabled\"], orientation: [\"cdkDropListOrientation\", \"orientation\"], lockAxis: [\"cdkDropListLockAxis\", \"lockAxis\"], data: [\"cdkDropListData\", \"data\"] }, outputs: { dropped: \"cdkDropListDropped\", entered: \"cdkDropListEntered\", exited: \"cdkDropListExited\", sorted: \"cdkDropListSorted\" }, exportAs: [\"cdkDropList\"], features: [ɵngcc0.ɵɵProvidersFeature([\n            // Prevent child drop lists from picking up the same group as their parent.\n            { provide: CDK_DROP_LIST_GROUP, useValue: ɵ0 },\n            { provide: CDK_DROP_LIST, useExisting: CdkDropList },\n        ])] });\n/** Keeps track of the drop lists that are currently on the page. */\nCdkDropList._dropLists = [];\nCdkDropList.ctorParameters = () => [\n    { type: ElementRef },\n    { type: DragDrop },\n    { type: ChangeDetectorRef },\n    { type: ScrollDispatcher },\n    { type: Directionality, decorators: [{ type: Optional }] },\n    { type: CdkDropListGroup, decorators: [{ type: Optional }, { type: Inject, args: [CDK_DROP_LIST_GROUP,] }, { type: SkipSelf }] },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [CDK_DRAG_CONFIG,] }] }\n];\nCdkDropList.propDecorators = {\n    connectedTo: [{ type: Input, args: ['cdkDropListConnectedTo',] }],\n    data: [{ type: Input, args: ['cdkDropListData',] }],\n    orientation: [{ type: Input, args: ['cdkDropListOrientation',] }],\n    id: [{ type: Input }],\n    lockAxis: [{ type: Input, args: ['cdkDropListLockAxis',] }],\n    disabled: [{ type: Input, args: ['cdkDropListDisabled',] }],\n    sortingDisabled: [{ type: Input, args: ['cdkDropListSortingDisabled',] }],\n    enterPredicate: [{ type: Input, args: ['cdkDropListEnterPredicate',] }],\n    sortPredicate: [{ type: Input, args: ['cdkDropListSortPredicate',] }],\n    autoScrollDisabled: [{ type: Input, args: ['cdkDropListAutoScrollDisabled',] }],\n    dropped: [{ type: Output, args: ['cdkDropListDropped',] }],\n    entered: [{ type: Output, args: ['cdkDropListEntered',] }],\n    exited: [{ type: Output, args: ['cdkDropListExited',] }],\n    sorted: [{ type: Output, args: ['cdkDropListSorted',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkDropList, [{\n        type: Directive,\n        args: [{\n                selector: '[cdkDropList], cdk-drop-list',\n                exportAs: 'cdkDropList',\n                providers: [\n                    // Prevent child drop lists from picking up the same group as their parent.\n                    { provide: CDK_DROP_LIST_GROUP, useValue: ɵ0 },\n                    { provide: CDK_DROP_LIST, useExisting: CdkDropList },\n                ],\n                host: {\n                    'class': 'cdk-drop-list',\n                    '[attr.id]': 'id',\n                    '[class.cdk-drop-list-disabled]': 'disabled',\n                    '[class.cdk-drop-list-dragging]': '_dropListRef.isDragging()',\n                    '[class.cdk-drop-list-receiving]': '_dropListRef.isReceiving()'\n                }\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: DragDrop }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc1.ScrollDispatcher }, { type: ɵngcc2.Directionality, decorators: [{\n                type: Optional\n            }] }, { type: CdkDropListGroup, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [CDK_DROP_LIST_GROUP]\n            }, {\n                type: SkipSelf\n            }] }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [CDK_DRAG_CONFIG]\n            }] }]; }, { connectedTo: [{\n            type: Input,\n            args: ['cdkDropListConnectedTo']\n        }], id: [{\n            type: Input\n        }], enterPredicate: [{\n            type: Input,\n            args: ['cdkDropListEnterPredicate']\n        }], sortPredicate: [{\n            type: Input,\n            args: ['cdkDropListSortPredicate']\n        }], dropped: [{\n            type: Output,\n            args: ['cdkDropListDropped']\n        }], entered: [{\n            type: Output,\n            args: ['cdkDropListEntered']\n        }], exited: [{\n            type: Output,\n            args: ['cdkDropListExited']\n        }], sorted: [{\n            type: Output,\n            args: ['cdkDropListSorted']\n        }], disabled: [{\n            type: Input,\n            args: ['cdkDropListDisabled']\n        }], sortingDisabled: [{\n            type: Input,\n            args: ['cdkDropListSortingDisabled']\n        }], autoScrollDisabled: [{\n            type: Input,\n            args: ['cdkDropListAutoScrollDisabled']\n        }], orientation: [{\n            type: Input,\n            args: ['cdkDropListOrientation']\n        }], lockAxis: [{\n            type: Input,\n            args: ['cdkDropListLockAxis']\n        }], data: [{\n            type: Input,\n            args: ['cdkDropListData']\n        }] }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used to reference instances of `CdkDragHandle`. It serves as\n * alternative token to the actual `CdkDragHandle` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst CDK_DRAG_HANDLE = new InjectionToken('CdkDragHandle');\n/** Handle that can be used to drag a CdkDrag instance. */\nclass CdkDragHandle {\n    constructor(element, parentDrag) {\n        this.element = element;\n        /** Emits when the state of the handle has changed. */\n        this._stateChanges = new Subject();\n        this._disabled = false;\n        if (typeof ngDevMode === 'undefined' || ngDevMode) {\n            assertElementNode(element.nativeElement, 'cdkDragHandle');\n        }\n        this._parentDrag = parentDrag;\n    }\n    /** Whether starting to drag through this handle is disabled. */\n    get disabled() { return this._disabled; }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n        this._stateChanges.next(this);\n    }\n    ngOnDestroy() {\n        this._stateChanges.complete();\n    }\n}\nCdkDragHandle.ɵfac = function CdkDragHandle_Factory(t) { return new (t || CdkDragHandle)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(CDK_DRAG_PARENT, 12)); };\nCdkDragHandle.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CdkDragHandle, selectors: [[\"\", \"cdkDragHandle\", \"\"]], hostAttrs: [1, \"cdk-drag-handle\"], inputs: { disabled: [\"cdkDragHandleDisabled\", \"disabled\"] }, features: [ɵngcc0.ɵɵProvidersFeature([{ provide: CDK_DRAG_HANDLE, useExisting: CdkDragHandle }])] });\nCdkDragHandle.ctorParameters = () => [\n    { type: ElementRef },\n    { type: undefined, decorators: [{ type: Inject, args: [CDK_DRAG_PARENT,] }, { type: Optional }, { type: SkipSelf }] }\n];\nCdkDragHandle.propDecorators = {\n    disabled: [{ type: Input, args: ['cdkDragHandleDisabled',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkDragHandle, [{\n        type: Directive,\n        args: [{\n                selector: '[cdkDragHandle]',\n                host: {\n                    'class': 'cdk-drag-handle'\n                },\n                providers: [{ provide: CDK_DRAG_HANDLE, useExisting: CdkDragHandle }]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [CDK_DRAG_PARENT]\n            }, {\n                type: Optional\n            }, {\n                type: SkipSelf\n            }] }]; }, { disabled: [{\n            type: Input,\n            args: ['cdkDragHandleDisabled']\n        }] }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used to reference instances of `CdkDragPlaceholder`. It serves as\n * alternative token to the actual `CdkDragPlaceholder` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst CDK_DRAG_PLACEHOLDER = new InjectionToken('CdkDragPlaceholder');\n/**\n * Element that will be used as a template for the placeholder of a CdkDrag when\n * it is being dragged. The placeholder is displayed in place of the element being dragged.\n */\nclass CdkDragPlaceholder {\n    constructor(templateRef) {\n        this.templateRef = templateRef;\n    }\n}\nCdkDragPlaceholder.ɵfac = function CdkDragPlaceholder_Factory(t) { return new (t || CdkDragPlaceholder)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.TemplateRef)); };\nCdkDragPlaceholder.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CdkDragPlaceholder, selectors: [[\"ng-template\", \"cdkDragPlaceholder\", \"\"]], inputs: { data: \"data\" }, features: [ɵngcc0.ɵɵProvidersFeature([{ provide: CDK_DRAG_PLACEHOLDER, useExisting: CdkDragPlaceholder }])] });\nCdkDragPlaceholder.ctorParameters = () => [\n    { type: TemplateRef }\n];\nCdkDragPlaceholder.propDecorators = {\n    data: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkDragPlaceholder, [{\n        type: Directive,\n        args: [{\n                selector: 'ng-template[cdkDragPlaceholder]',\n                providers: [{ provide: CDK_DRAG_PLACEHOLDER, useExisting: CdkDragPlaceholder }]\n            }]\n    }], function () { return [{ type: ɵngcc0.TemplateRef }]; }, { data: [{\n            type: Input\n        }] }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used to reference instances of `CdkDragPreview`. It serves as\n * alternative token to the actual `CdkDragPreview` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst CDK_DRAG_PREVIEW = new InjectionToken('CdkDragPreview');\n/**\n * Element that will be used as a template for the preview\n * of a CdkDrag when it is being dragged.\n */\nclass CdkDragPreview {\n    constructor(templateRef) {\n        this.templateRef = templateRef;\n        this._matchSize = false;\n    }\n    /** Whether the preview should preserve the same size as the item that is being dragged. */\n    get matchSize() { return this._matchSize; }\n    set matchSize(value) { this._matchSize = coerceBooleanProperty(value); }\n}\nCdkDragPreview.ɵfac = function CdkDragPreview_Factory(t) { return new (t || CdkDragPreview)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.TemplateRef)); };\nCdkDragPreview.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CdkDragPreview, selectors: [[\"ng-template\", \"cdkDragPreview\", \"\"]], inputs: { matchSize: \"matchSize\", data: \"data\" }, features: [ɵngcc0.ɵɵProvidersFeature([{ provide: CDK_DRAG_PREVIEW, useExisting: CdkDragPreview }])] });\nCdkDragPreview.ctorParameters = () => [\n    { type: TemplateRef }\n];\nCdkDragPreview.propDecorators = {\n    data: [{ type: Input }],\n    matchSize: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkDragPreview, [{\n        type: Directive,\n        args: [{\n                selector: 'ng-template[cdkDragPreview]',\n                providers: [{ provide: CDK_DRAG_PREVIEW, useExisting: CdkDragPreview }]\n            }]\n    }], function () { return [{ type: ɵngcc0.TemplateRef }]; }, { matchSize: [{\n            type: Input\n        }], data: [{\n            type: Input\n        }] }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Element that can be moved inside a CdkDropList container. */\nclass CdkDrag {\n    constructor(\n    /** Element that the draggable is attached to. */\n    element, \n    /** Droppable container that the draggable is a part of. */\n    dropContainer, \n    /**\n     * @deprecated `_document` parameter no longer being used and will be removed.\n     * @breaking-change 12.0.0\n     */\n    _document, _ngZone, _viewContainerRef, config, _dir, dragDrop, _changeDetectorRef, _selfHandle) {\n        this.element = element;\n        this.dropContainer = dropContainer;\n        this._ngZone = _ngZone;\n        this._viewContainerRef = _viewContainerRef;\n        this._dir = _dir;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._selfHandle = _selfHandle;\n        this._destroyed = new Subject();\n        /** Emits when the user starts dragging the item. */\n        this.started = new EventEmitter();\n        /** Emits when the user has released a drag item, before any animations have started. */\n        this.released = new EventEmitter();\n        /** Emits when the user stops dragging an item in the container. */\n        this.ended = new EventEmitter();\n        /** Emits when the user has moved the item into a new container. */\n        this.entered = new EventEmitter();\n        /** Emits when the user removes the item its container by dragging it into another container. */\n        this.exited = new EventEmitter();\n        /** Emits when the user drops the item inside a container. */\n        this.dropped = new EventEmitter();\n        /**\n         * Emits as the user is dragging the item. Use with caution,\n         * because this event will fire for every pixel that the user has dragged.\n         */\n        this.moved = new Observable((observer) => {\n            const subscription = this._dragRef.moved.pipe(map(movedEvent => ({\n                source: this,\n                pointerPosition: movedEvent.pointerPosition,\n                event: movedEvent.event,\n                delta: movedEvent.delta,\n                distance: movedEvent.distance\n            }))).subscribe(observer);\n            return () => {\n                subscription.unsubscribe();\n            };\n        });\n        this._dragRef = dragDrop.createDrag(element, {\n            dragStartThreshold: config && config.dragStartThreshold != null ?\n                config.dragStartThreshold : 5,\n            pointerDirectionChangeThreshold: config && config.pointerDirectionChangeThreshold != null ?\n                config.pointerDirectionChangeThreshold : 5,\n            zIndex: config === null || config === void 0 ? void 0 : config.zIndex\n        });\n        this._dragRef.data = this;\n        if (config) {\n            this._assignDefaults(config);\n        }\n        // Note that usually the container is assigned when the drop list is picks up the item, but in\n        // some cases (mainly transplanted views with OnPush, see #18341) we may end up in a situation\n        // where there are no items on the first change detection pass, but the items get picked up as\n        // soon as the user triggers another pass by dragging. This is a problem, because the item would\n        // have to switch from standalone mode to drag mode in the middle of the dragging sequence which\n        // is too late since the two modes save different kinds of information. We work around it by\n        // assigning the drop container both from here and the list.\n        if (dropContainer) {\n            this._dragRef._withDropContainer(dropContainer._dropListRef);\n            dropContainer.addItem(this);\n        }\n        this._syncInputs(this._dragRef);\n        this._handleEvents(this._dragRef);\n    }\n    /** Whether starting to drag this element is disabled. */\n    get disabled() {\n        return this._disabled || (this.dropContainer && this.dropContainer.disabled);\n    }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n        this._dragRef.disabled = this._disabled;\n    }\n    /**\n     * Returns the element that is being used as a placeholder\n     * while the current element is being dragged.\n     */\n    getPlaceholderElement() {\n        return this._dragRef.getPlaceholderElement();\n    }\n    /** Returns the root draggable element. */\n    getRootElement() {\n        return this._dragRef.getRootElement();\n    }\n    /** Resets a standalone drag item to its initial position. */\n    reset() {\n        this._dragRef.reset();\n    }\n    /**\n     * Gets the pixel coordinates of the draggable outside of a drop container.\n     */\n    getFreeDragPosition() {\n        return this._dragRef.getFreeDragPosition();\n    }\n    ngAfterViewInit() {\n        // We need to wait for the zone to stabilize, in order for the reference\n        // element to be in the proper place in the DOM. This is mostly relevant\n        // for draggable elements inside portals since they get stamped out in\n        // their original DOM position and then they get transferred to the portal.\n        this._ngZone.onStable\n            .pipe(take(1), takeUntil(this._destroyed))\n            .subscribe(() => {\n            this._updateRootElement();\n            // Listen for any newly-added handles.\n            this._handles.changes.pipe(startWith(this._handles), \n            // Sync the new handles with the DragRef.\n            tap((handles) => {\n                const childHandleElements = handles\n                    .filter(handle => handle._parentDrag === this)\n                    .map(handle => handle.element);\n                // Usually handles are only allowed to be a descendant of the drag element, but if\n                // the consumer defined a different drag root, we should allow the drag element\n                // itself to be a handle too.\n                if (this._selfHandle && this.rootElementSelector) {\n                    childHandleElements.push(this.element);\n                }\n                this._dragRef.withHandles(childHandleElements);\n            }), \n            // Listen if the state of any of the handles changes.\n            switchMap((handles) => {\n                return merge(...handles.map(item => {\n                    return item._stateChanges.pipe(startWith(item));\n                }));\n            }), takeUntil(this._destroyed)).subscribe(handleInstance => {\n                // Enabled/disable the handle that changed in the DragRef.\n                const dragRef = this._dragRef;\n                const handle = handleInstance.element.nativeElement;\n                handleInstance.disabled ? dragRef.disableHandle(handle) : dragRef.enableHandle(handle);\n            });\n            if (this.freeDragPosition) {\n                this._dragRef.setFreeDragPosition(this.freeDragPosition);\n            }\n        });\n    }\n    ngOnChanges(changes) {\n        const rootSelectorChange = changes['rootElementSelector'];\n        const positionChange = changes['freeDragPosition'];\n        // We don't have to react to the first change since it's being\n        // handled in `ngAfterViewInit` where it needs to be deferred.\n        if (rootSelectorChange && !rootSelectorChange.firstChange) {\n            this._updateRootElement();\n        }\n        // Skip the first change since it's being handled in `ngAfterViewInit`.\n        if (positionChange && !positionChange.firstChange && this.freeDragPosition) {\n            this._dragRef.setFreeDragPosition(this.freeDragPosition);\n        }\n    }\n    ngOnDestroy() {\n        if (this.dropContainer) {\n            this.dropContainer.removeItem(this);\n        }\n        this._destroyed.next();\n        this._destroyed.complete();\n        this._dragRef.dispose();\n    }\n    /** Syncs the root element with the `DragRef`. */\n    _updateRootElement() {\n        const element = this.element.nativeElement;\n        const rootElement = this.rootElementSelector ?\n            getClosestMatchingAncestor(element, this.rootElementSelector) : element;\n        if (rootElement && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n            assertElementNode(rootElement, 'cdkDrag');\n        }\n        this._dragRef.withRootElement(rootElement || element);\n    }\n    /** Gets the boundary element, based on the `boundaryElement` value. */\n    _getBoundaryElement() {\n        const boundary = this.boundaryElement;\n        if (!boundary) {\n            return null;\n        }\n        if (typeof boundary === 'string') {\n            return getClosestMatchingAncestor(this.element.nativeElement, boundary);\n        }\n        const element = coerceElement(boundary);\n        if ((typeof ngDevMode === 'undefined' || ngDevMode) &&\n            !element.contains(this.element.nativeElement)) {\n            throw Error('Draggable element is not inside of the node passed into cdkDragBoundary.');\n        }\n        return element;\n    }\n    /** Syncs the inputs of the CdkDrag with the options of the underlying DragRef. */\n    _syncInputs(ref) {\n        ref.beforeStarted.subscribe(() => {\n            if (!ref.isDragging()) {\n                const dir = this._dir;\n                const dragStartDelay = this.dragStartDelay;\n                const placeholder = this._placeholderTemplate ? {\n                    template: this._placeholderTemplate.templateRef,\n                    context: this._placeholderTemplate.data,\n                    viewContainer: this._viewContainerRef\n                } : null;\n                const preview = this._previewTemplate ? {\n                    template: this._previewTemplate.templateRef,\n                    context: this._previewTemplate.data,\n                    matchSize: this._previewTemplate.matchSize,\n                    viewContainer: this._viewContainerRef\n                } : null;\n                ref.disabled = this.disabled;\n                ref.lockAxis = this.lockAxis;\n                ref.dragStartDelay = (typeof dragStartDelay === 'object' && dragStartDelay) ?\n                    dragStartDelay : coerceNumberProperty(dragStartDelay);\n                ref.constrainPosition = this.constrainPosition;\n                ref.previewClass = this.previewClass;\n                ref\n                    .withBoundaryElement(this._getBoundaryElement())\n                    .withPlaceholderTemplate(placeholder)\n                    .withPreviewTemplate(preview);\n                if (dir) {\n                    ref.withDirection(dir.value);\n                }\n            }\n        });\n    }\n    /** Handles the events from the underlying `DragRef`. */\n    _handleEvents(ref) {\n        ref.started.subscribe(() => {\n            this.started.emit({ source: this });\n            // Since all of these events run outside of change detection,\n            // we need to ensure that everything is marked correctly.\n            this._changeDetectorRef.markForCheck();\n        });\n        ref.released.subscribe(() => {\n            this.released.emit({ source: this });\n        });\n        ref.ended.subscribe(event => {\n            this.ended.emit({ source: this, distance: event.distance });\n            // Since all of these events run outside of change detection,\n            // we need to ensure that everything is marked correctly.\n            this._changeDetectorRef.markForCheck();\n        });\n        ref.entered.subscribe(event => {\n            this.entered.emit({\n                container: event.container.data,\n                item: this,\n                currentIndex: event.currentIndex\n            });\n        });\n        ref.exited.subscribe(event => {\n            this.exited.emit({\n                container: event.container.data,\n                item: this\n            });\n        });\n        ref.dropped.subscribe(event => {\n            this.dropped.emit({\n                previousIndex: event.previousIndex,\n                currentIndex: event.currentIndex,\n                previousContainer: event.previousContainer.data,\n                container: event.container.data,\n                isPointerOverContainer: event.isPointerOverContainer,\n                item: this,\n                distance: event.distance\n            });\n        });\n    }\n    /** Assigns the default input values based on a provided config object. */\n    _assignDefaults(config) {\n        const { lockAxis, dragStartDelay, constrainPosition, previewClass, boundaryElement, draggingDisabled, rootElementSelector } = config;\n        this.disabled = draggingDisabled == null ? false : draggingDisabled;\n        this.dragStartDelay = dragStartDelay || 0;\n        if (lockAxis) {\n            this.lockAxis = lockAxis;\n        }\n        if (constrainPosition) {\n            this.constrainPosition = constrainPosition;\n        }\n        if (previewClass) {\n            this.previewClass = previewClass;\n        }\n        if (boundaryElement) {\n            this.boundaryElement = boundaryElement;\n        }\n        if (rootElementSelector) {\n            this.rootElementSelector = rootElementSelector;\n        }\n    }\n}\nCdkDrag.ɵfac = function CdkDrag_Factory(t) { return new (t || CdkDrag)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(CDK_DROP_LIST, 12), ɵngcc0.ɵɵdirectiveInject(DOCUMENT), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(CDK_DRAG_CONFIG, 8), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Directionality, 8), ɵngcc0.ɵɵdirectiveInject(DragDrop), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(CDK_DRAG_HANDLE, 10)); };\nCdkDrag.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CdkDrag, selectors: [[\"\", \"cdkDrag\", \"\"]], contentQueries: function CdkDrag_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, CDK_DRAG_PREVIEW, true);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, CDK_DRAG_PLACEHOLDER, true);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, CDK_DRAG_HANDLE, true);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._previewTemplate = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._placeholderTemplate = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._handles = _t);\n    } }, hostAttrs: [1, \"cdk-drag\"], hostVars: 4, hostBindings: function CdkDrag_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"cdk-drag-disabled\", ctx.disabled)(\"cdk-drag-dragging\", ctx._dragRef.isDragging());\n    } }, inputs: { disabled: [\"cdkDragDisabled\", \"disabled\"], dragStartDelay: [\"cdkDragStartDelay\", \"dragStartDelay\"], lockAxis: [\"cdkDragLockAxis\", \"lockAxis\"], constrainPosition: [\"cdkDragConstrainPosition\", \"constrainPosition\"], previewClass: [\"cdkDragPreviewClass\", \"previewClass\"], boundaryElement: [\"cdkDragBoundary\", \"boundaryElement\"], rootElementSelector: [\"cdkDragRootElement\", \"rootElementSelector\"], data: [\"cdkDragData\", \"data\"], freeDragPosition: [\"cdkDragFreeDragPosition\", \"freeDragPosition\"] }, outputs: { started: \"cdkDragStarted\", released: \"cdkDragReleased\", ended: \"cdkDragEnded\", entered: \"cdkDragEntered\", exited: \"cdkDragExited\", dropped: \"cdkDragDropped\", moved: \"cdkDragMoved\" }, exportAs: [\"cdkDrag\"], features: [ɵngcc0.ɵɵProvidersFeature([{ provide: CDK_DRAG_PARENT, useExisting: CdkDrag }]), ɵngcc0.ɵɵNgOnChangesFeature] });\nCdkDrag.ctorParameters = () => [\n    { type: ElementRef },\n    { type: undefined, decorators: [{ type: Inject, args: [CDK_DROP_LIST,] }, { type: Optional }, { type: SkipSelf }] },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },\n    { type: NgZone },\n    { type: ViewContainerRef },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [CDK_DRAG_CONFIG,] }] },\n    { type: Directionality, decorators: [{ type: Optional }] },\n    { type: DragDrop },\n    { type: ChangeDetectorRef },\n    { type: CdkDragHandle, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [CDK_DRAG_HANDLE,] }] }\n];\nCdkDrag.propDecorators = {\n    _handles: [{ type: ContentChildren, args: [CDK_DRAG_HANDLE, { descendants: true },] }],\n    _previewTemplate: [{ type: ContentChild, args: [CDK_DRAG_PREVIEW,] }],\n    _placeholderTemplate: [{ type: ContentChild, args: [CDK_DRAG_PLACEHOLDER,] }],\n    data: [{ type: Input, args: ['cdkDragData',] }],\n    lockAxis: [{ type: Input, args: ['cdkDragLockAxis',] }],\n    rootElementSelector: [{ type: Input, args: ['cdkDragRootElement',] }],\n    boundaryElement: [{ type: Input, args: ['cdkDragBoundary',] }],\n    dragStartDelay: [{ type: Input, args: ['cdkDragStartDelay',] }],\n    freeDragPosition: [{ type: Input, args: ['cdkDragFreeDragPosition',] }],\n    disabled: [{ type: Input, args: ['cdkDragDisabled',] }],\n    constrainPosition: [{ type: Input, args: ['cdkDragConstrainPosition',] }],\n    previewClass: [{ type: Input, args: ['cdkDragPreviewClass',] }],\n    started: [{ type: Output, args: ['cdkDragStarted',] }],\n    released: [{ type: Output, args: ['cdkDragReleased',] }],\n    ended: [{ type: Output, args: ['cdkDragEnded',] }],\n    entered: [{ type: Output, args: ['cdkDragEntered',] }],\n    exited: [{ type: Output, args: ['cdkDragExited',] }],\n    dropped: [{ type: Output, args: ['cdkDragDropped',] }],\n    moved: [{ type: Output, args: ['cdkDragMoved',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkDrag, [{\n        type: Directive,\n        args: [{\n                selector: '[cdkDrag]',\n                exportAs: 'cdkDrag',\n                host: {\n                    'class': 'cdk-drag',\n                    '[class.cdk-drag-disabled]': 'disabled',\n                    '[class.cdk-drag-dragging]': '_dragRef.isDragging()'\n                },\n                providers: [{ provide: CDK_DRAG_PARENT, useExisting: CdkDrag }]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [CDK_DROP_LIST]\n            }, {\n                type: Optional\n            }, {\n                type: SkipSelf\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: ɵngcc0.NgZone }, { type: ɵngcc0.ViewContainerRef }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [CDK_DRAG_CONFIG]\n            }] }, { type: ɵngcc2.Directionality, decorators: [{\n                type: Optional\n            }] }, { type: DragDrop }, { type: ɵngcc0.ChangeDetectorRef }, { type: CdkDragHandle, decorators: [{\n                type: Optional\n            }, {\n                type: Self\n            }, {\n                type: Inject,\n                args: [CDK_DRAG_HANDLE]\n            }] }]; }, { started: [{\n            type: Output,\n            args: ['cdkDragStarted']\n        }], released: [{\n            type: Output,\n            args: ['cdkDragReleased']\n        }], ended: [{\n            type: Output,\n            args: ['cdkDragEnded']\n        }], entered: [{\n            type: Output,\n            args: ['cdkDragEntered']\n        }], exited: [{\n            type: Output,\n            args: ['cdkDragExited']\n        }], dropped: [{\n            type: Output,\n            args: ['cdkDragDropped']\n        }], moved: [{\n            type: Output,\n            args: ['cdkDragMoved']\n        }], disabled: [{\n            type: Input,\n            args: ['cdkDragDisabled']\n        }], dragStartDelay: [{\n            type: Input,\n            args: ['cdkDragStartDelay']\n        }], lockAxis: [{\n            type: Input,\n            args: ['cdkDragLockAxis']\n        }], constrainPosition: [{\n            type: Input,\n            args: ['cdkDragConstrainPosition']\n        }], previewClass: [{\n            type: Input,\n            args: ['cdkDragPreviewClass']\n        }], boundaryElement: [{\n            type: Input,\n            args: ['cdkDragBoundary']\n        }], rootElementSelector: [{\n            type: Input,\n            args: ['cdkDragRootElement']\n        }], _handles: [{\n            type: ContentChildren,\n            args: [CDK_DRAG_HANDLE, { descendants: true }]\n        }], _previewTemplate: [{\n            type: ContentChild,\n            args: [CDK_DRAG_PREVIEW]\n        }], _placeholderTemplate: [{\n            type: ContentChild,\n            args: [CDK_DRAG_PLACEHOLDER]\n        }], data: [{\n            type: Input,\n            args: ['cdkDragData']\n        }], freeDragPosition: [{\n            type: Input,\n            args: ['cdkDragFreeDragPosition']\n        }] }); })();\n/** Gets the closest ancestor of an element that matches a selector. */\nfunction getClosestMatchingAncestor(element, selector) {\n    let currentElement = element.parentElement;\n    while (currentElement) {\n        // IE doesn't support `matches` so we have to fall back to `msMatchesSelector`.\n        if (currentElement.matches ? currentElement.matches(selector) :\n            currentElement.msMatchesSelector(selector)) {\n            return currentElement;\n        }\n        currentElement = currentElement.parentElement;\n    }\n    return null;\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nclass DragDropModule {\n}\nDragDropModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: DragDropModule });\nDragDropModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function DragDropModule_Factory(t) { return new (t || DragDropModule)(); }, providers: [\n        DragDrop,\n    ], imports: [CdkScrollableModule] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(DragDropModule, { declarations: function () { return [CdkDropList, CdkDropListGroup, CdkDrag, CdkDragHandle, CdkDragPreview, CdkDragPlaceholder]; }, exports: function () { return [CdkScrollableModule, CdkDropList, CdkDropListGroup, CdkDrag, CdkDragHandle, CdkDragPreview, CdkDragPlaceholder]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DragDropModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    CdkDropList,\n                    CdkDropListGroup,\n                    CdkDrag,\n                    CdkDragHandle,\n                    CdkDragPreview,\n                    CdkDragPlaceholder,\n                ],\n                exports: [\n                    CdkScrollableModule,\n                    CdkDropList,\n                    CdkDropListGroup,\n                    CdkDrag,\n                    CdkDragHandle,\n                    CdkDragPreview,\n                    CdkDragPlaceholder,\n                ],\n                providers: [\n                    DragDrop,\n                ]\n            }]\n    }], null, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CDK_DRAG_CONFIG, CDK_DRAG_HANDLE, CDK_DRAG_PARENT, CDK_DRAG_PLACEHOLDER, CDK_DRAG_PREVIEW, CDK_DROP_LIST, CDK_DROP_LIST_GROUP, CdkDrag, CdkDragHandle, CdkDragPlaceholder, CdkDragPreview, CdkDropList, CdkDropListGroup, DragDrop, DragDropModule, DragDropRegistry, DragRef, DropListRef, copyArrayItem, moveItemInArray, transferArrayItem };\n\n//# sourceMappingURL=drag-drop.js.map","import { Injectable } from '@angular/core';\nimport { Socket } from 'ngx-socket-io';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ClientSocketService {\n\n  public socketStatus = false;\n\n  constructor(private socket: Socket) {\n    this.checkStatus();\n  }\n\n  checkStatus() {\n    this.socket.on('connect', () => {\n      this.socketStatus = true;\n    });\n\n    this.socket.on('disconnect', () => {\n      this.socketStatus = false;\n    });\n  }\n\n  emit(evento: string, payload?: any, callback?: Function) {\n    this.socket.emit(evento, payload, callback);\n  }\n\n  listen(evento: string) {\n    return this.socket.fromEvent(evento);\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { GenerarPedidoComponent } from './generar-pedido/generar-pedido.component';\nimport { ListarPedidosComponent } from './listar-pedidos/listar-pedidos.component';\nimport { SeguimientoPedidosComponent } from './seguimiento-pedidos/seguimiento-pedidos.component';\n\nconst routes: Routes = [\n  {\n    path: 'generarPedido',\n    component: GenerarPedidoComponent\n  },\n  {\n    path: 'listadoPedido',\n    component: ListarPedidosComponent\n  },\n  {\n    path: 'seguimientoPedido',\n    component: SeguimientoPedidosComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PedidosRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { PageEvent } from '@angular/material/paginator';\nimport { PaginatorFacadeService } from 'src/app/shared/paginator/paginator-facade.service';\nimport { ListarPedidosFacadeService } from './listar-pedidos-facade.service';\n\n@Component({\n  selector: 'app-listar-pedidos',\n  templateUrl: './listar-pedidos.component.html',\n  styleUrls: ['./listar-pedidos.component.css']\n})\nexport class ListarPedidosComponent implements OnInit {\n\n  public buscar = new FormControl('');\n //Paginacion\n public pageSize = 10;\n public page = 0;\n public pageEvent!: PageEvent;\n public pageIndex: number = 0;\n public desde = 0;\n public hasta = 10;\n public formPedido: FormGroup;\n public pedido:any;\n public detallePedido = new FormControl({value: '', disabled: true});\n public observacion = new FormControl({value: '', disabled: true});\n\n  constructor(public listarPedidosFacade:ListarPedidosFacadeService, public paginatorService:PaginatorFacadeService, public dialog: MatDialog) {\n    this.listarPedidosFacade.MostrarPedidos('0');\n  }\n\n  ngOnInit(): void {\n  }\n\n  next(event: PageEvent) {\n    if (event.pageIndex === this.pageIndex + 1) {\n      this.desde = this.desde + this.pageSize;\n      this.hasta = this.hasta + this.pageSize;\n    } else if (event.pageIndex === this.pageIndex - 1) {\n      this.desde = this.desde - this.pageSize;\n      this.hasta = this.hasta - this.pageSize;\n    }\n    this.pageIndex = event.pageIndex;\n  }\n\n  openDialog(template, pedido?) {\n    this.pedido = pedido;\n    this.detallePedido.setValue(this.pedido.DetallePedido || '');\n    this.observacion.setValue(this.pedido.Observacion || '');\n\n    const dialogRef = this.dialog.open(template, {\n      panelClass: \"app-full-bleed-dialog\", //Agregar una clase ccs al dialogo\n      width: '90%',\n      disableClose: true\n    });\n    \n  }\n\n  descargarImagen(){\n    window.open(this.pedido.Url);\n  }\n}\n","<div class=\"navigation\">\r\n    <nav aria-label=\"breadcrumb\">\r\n        <ol class=\"breadcrumb\" style=\"background-color: white !important;\">\r\n            <li class=\"breadcrumb-item\"><a [routerLink]=\"['/dashboard']\">Inicio</a></li>\r\n            <!-- <li class=\"breadcrumb-item cursorActivo\" *ngIf=\"!busquedaEstudiante\"><a (click)=\"busquedaEstudiante = true\">Buscar estudiante</a></li> -->\r\n        </ol>\r\n    </nav>\r\n    <div class=\"content\">\r\n        <div class=\"titleNav\">\r\n            <h2\r\n                style=\"font-size: 2rem; font-weight: 800; letter-spacing: -.025em!important; line-height: 2.5rem!important;text-overflow: ellipsis!important; \">\r\n                Listado de Pedidos\r\n            </h2>\r\n            <!-- <h2\r\n                style=\"font-size: 2rem; font-weight: 800; letter-spacing: -.025em!important; line-height: 2.5rem!important;text-overflow: ellipsis!important; \" *ngIf=\"!busquedaEstudiante\">\r\n                Nombre Estudiante\r\n            </h2> -->\r\n        </div>\r\n        <div class=\"text-right action\">\r\n\r\n            <mat-form-field appearance=\"outline\" style=\"width: 100%;\">\r\n                <mat-label>Buscar</mat-label>\r\n                <input matInput type=\"text\" [formControl]=\"buscar\" placeholder=\"Buscar\" autocomplete=\"off\">\r\n                <span matPrefix>\r\n                    <mat-icon>search</mat-icon>\r\n                </span>\r\n            </mat-form-field>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n<div *ngIf=\"(listarPedidosFacade.responseCargando$  | async)\">\r\n    <app-loading [data]=\"4\"></app-loading>\r\n</div>\r\n\r\n<div class=\"col-md-12\">\r\n    <div style=\"display: flex; justify-content: center; align-items: center;\">\r\n        <div class=\"alert alert-primary text-center mt-4\" role=\"alert\"\r\n            *ngIf=\"!(listarPedidosFacade.responseCargando$  | async) && (listarPedidosFacade.responsePedidos$ | async).length === 0\"\r\n            style=\"width: 50%;\">\r\n            No hay pedidos para listar\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <mat-card class=\"matCardPersonalizada mt-2\"\r\n        *ngIf=\"!(listarPedidosFacade.responseCargando$  | async) && (listarPedidosFacade.responsePedidos$ | async).length > 0\">\r\n        <mat-card-content>\r\n            <div>\r\n                <table class=\"table  bordeTabla tablep\" role=\"table\">\r\n                    <thead class=\"theadp\">\r\n\r\n                        <tr class=\"trp bg-success text-center \">\r\n                            <th class=\"thp text-center\" scope=\"col \" role=\"columnheader \"></th>\r\n                            <th class=\"thp text-center\" scope=\"col \" role=\"columnheader \">Codigo Pedido</th>\r\n                            <th class=\"thp text-center \" scope=\"col \" role=\"columnheader \">Tipo Pedido</th>\r\n                            <th class=\"thp text-center \" scope=\"col \" role=\"columnheader \">Metodo Pago</th>\r\n                            <th class=\"thp text-center \" scope=\"col \" role=\"columnheader \">Detalle Pedido</th>\r\n                            <th class=\"thp text-center \" scope=\"col \" role=\"columnheader \">Observación</th>\r\n                            <th class=\"thp text-center \" scope=\"col \" role=\"columnheader \">Nombre Reparto</th>\r\n                            <th class=\"thp text-center \" scope=\"col \" role=\"columnheader \">Fecha Ingreso</th>\r\n                            <th class=\"thp text-center \" scope=\"col \" role=\"columnheader \">Estado</th>\r\n                        </tr>\r\n                    </thead>\r\n\r\n                    <tbody role=\"rowgroup \" class=\"tbodyp\">\r\n                        <tr class=\"text-center trp \" role=\"row \"\r\n                            *ngFor=\"let pedidos of (listarPedidosFacade.responsePedidos$ | async) | search: this.buscar?.value: ['Id','DetallePedido'] |  slice: desde : hasta\">\r\n                            <td role=\"cell \" data-title=\"#\" class=\"tdp text-center\">\r\n                                <button class=\"buttonView\" mat-mini-fab\r\n                                    (click)=\"openDialog(DetallePedido, pedidos)\">\r\n                                    <mat-icon>visibility</mat-icon>\r\n                                </button>\r\n                            </td>\r\n                            <td role=\"cell \" data-title=\"Codigo Pedido\" class=\"tdp text-center\"> {{pedidos.Id}} </td>\r\n                            <td role=\"cell \" data-title=\"Tipo Pedido\" class=\"tdp text-center\"> {{pedidos.TipoPedido}}\r\n                            </td>\r\n                            <td role=\"cell \" data-title=\"Metodo Pago\" class=\"tdp text-center\"> {{pedidos.MetodoPago}}\r\n                            </td>\r\n                            <td role=\"cell \" data-title=\"Detalle Pedido\" class=\"tdp text-justify\">\r\n                                {{pedidos.DetallePedido | truncatePipe:100}}\r\n                            </td>\r\n                            <td role=\"cell \" data-title=\"Observación\" class=\"tdp text-justify\">\r\n                                {{pedidos.Observacion}}\r\n                            </td>\r\n                            <td role=\"cell \" data-title=\"Nombre Reparto\" class=\"tdp text-center\"> {{pedidos.NombreReparto}} </td>\r\n                            <td role=\"cell \" data-title=\"Fecha Ingreso\" class=\"tdp text-center\">\r\n                                {{pedidos.FechaInsercion | date:'yyyy-MM-dd'}}</td>\r\n                            <td role=\"cell \" data-title=\"Estado\" class=\"tdp text-center\"> {{pedidos.EstadoProceso }}\r\n                            </td>\r\n\r\n\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <mat-paginator [length]=\"(listarPedidosFacade.responsePedidos$ | async).length \" [pageSize]=\"pageSize \"\r\n                    (page)=\"next($event) \">\r\n                </mat-paginator>\r\n            </div>\r\n        </mat-card-content>\r\n\r\n\r\n\r\n    </mat-card>\r\n</div>\r\n\r\n\r\n\r\n<ng-template #DetallePedido>\r\n    <div style=\"float: right; z-index: 1;\">\r\n        <button mat-mini-fab mat-dialog-close class=\"buttonView\">\r\n            <mat-icon>close</mat-icon>\r\n        </button>\r\n    </div>\r\n    <div class=\"matCardHeader\">\r\n        Detalle Pedido\r\n    </div>\r\n    <mat-dialog-content class=\"mat-typography\">\r\n        \r\n        <div class=\"row\">\r\n            <mat-list class=\"col-md-4\">\r\n                <mat-list-item >\r\n                  <mat-icon mat-list-icon>local_shipping</mat-icon>\r\n                  <div mat-line>Tipo Pedido</div>\r\n                  <div mat-line>{{pedido.TipoPedido}}</div>\r\n                </mat-list-item>\r\n            </mat-list>\r\n\r\n            <mat-list class=\"col-md-4\">\r\n                <mat-list-item >\r\n                  <mat-icon mat-list-icon>paid</mat-icon>\r\n                  <div mat-line>Metodo Pago</div>\r\n                  <div mat-line>{{pedido.MetodoPago}}</div>\r\n                </mat-list-item>\r\n            </mat-list>\r\n\r\n            <mat-list class=\"col-md-4\">\r\n                <mat-list-item >\r\n                  <mat-icon mat-list-icon>paid</mat-icon>\r\n                  <div mat-line>Nombre Reparto</div>\r\n                  <div mat-line>{{pedido.NombreReparto || 'N/A'}}</div>\r\n                </mat-list-item>\r\n            </mat-list>\r\n\r\n            <mat-list class=\"col-md-4\">\r\n                <mat-list-item >\r\n                  <mat-icon mat-list-icon>filter_list</mat-icon>\r\n                  <div mat-line>Estado Proceso</div>\r\n                  <div mat-line>{{pedido.EstadoProceso}}</div>\r\n                </mat-list-item>\r\n            </mat-list>\r\n\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12 mt-2\">\r\n                <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                    <mat-label> Detalle Pedido </mat-label>\r\n                    <textarea matInput placeholder=\"Detalle Pedido\" [formControl]=\"detallePedido\"\r\n                        cdkTextareaAutosize cdkAutosizeMinRows=\"10\" autocomplete=\"off\" readonly></textarea>\r\n                </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"col-md-12 mt-2\">\r\n                <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                    <mat-label> Observación </mat-label>\r\n                    <textarea matInput placeholder=\"Detalle Pedido\" [formControl]=\"observacion\"\r\n                        cdkTextareaAutosize cdkAutosizeMinRows=\"10\" autocomplete=\"off\" readonly></textarea>\r\n                </mat-form-field>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"col-md-12\">\r\n            <button mat-raised-button class=\"button-principal\" (click)=\"descargarImagen()\">\r\n                <mat-icon >file_download</mat-icon> Descargar\r\n            </button>\r\n        </div>\r\n\r\n        <div class=\"col-md-12\" style=\"display: flex; justify-content: center; align-items: center;\" *ngIf=\"pedido.Url != null\">\r\n            <img [src]=\"pedido.Url\" class=\"imagePedido\" >\r\n\r\n        </div>\r\n      \r\n\r\n        <div class=\"text-right\">\r\n            <button mat-button mat-dialog-close>Salir</button>\r\n        </div>\r\n\r\n    </mat-dialog-content>\r\n</ng-template>","import { HttpErrorResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, EMPTY, Observable } from 'rxjs';\nimport { catchError, tap } from 'rxjs/operators';\nimport { DataApi } from 'src/app/Model/dataApi';\nimport { DataApiService } from 'src/app/services/data-api.service';\nimport { MensajesHttpService } from 'src/app/utils/mensajesHttp/mensajes-http.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GenerarPedidoFacadeService {\n\n  private Cargando$ = new BehaviorSubject<boolean>(false);\n  public responseCargando$: Observable<boolean> = this.Cargando$.asObservable();\n\n  private TipoPedidos$ = new BehaviorSubject<any[]>([]);\n  public responseTipoPedidos$: Observable<any[]> = this.TipoPedidos$.asObservable();\n\n  private MetodosPago$ = new BehaviorSubject<any[]>([]);\n  public responseMetodosPago$: Observable<any[]> = this.MetodosPago$.asObservable();\n\n  constructor(public dataApi:DataApiService, public _mensajesHttp:MensajesHttpService) { }\n\n  \n  MostrarTipoPedidos(params: any) {\n    this.Cargando$.next(true);\n    this.TipoPedidos$.next([]);\n    const request$ = this.dataApi.GetDataApi(`mantenimiento/tipoPedido/`, params).pipe(\n      tap((result: DataApi | any) => {\n     \n        this.Cargando$.next(false);\n        this.TipoPedidos$.next(result.data.Table0);\n      }),\n      catchError((error: HttpErrorResponse) => {\n        this.Cargando$.next(false);\n        this.TipoPedidos$.next([]);\n        this._mensajesHttp.mostrarErrorHttp(error, 'Ocurrio un error al mostrar los tipos de pedidos', '');\n        return EMPTY;\n      })\n    );\n\n    return request$.subscribe();\n  }\n\n  MostrarMetodosPago(params: any) {\n    this.Cargando$.next(true);\n    this.MetodosPago$.next([]);\n    const request$ = this.dataApi.GetDataApi(`mantenimiento/metodoPago/`, params).pipe(\n      tap((result: DataApi | any) => {\n\n        this.Cargando$.next(false);\n        this.MetodosPago$.next(result.data.Table0);\n      }),\n      catchError((error: HttpErrorResponse) => {\n        this.Cargando$.next(false);\n        this.MetodosPago$.next([]);\n        this._mensajesHttp.mostrarErrorHttp(error, 'Ocurrio un error al mostrar los metodos de pago', '');\n        return EMPTY;\n      })\n    );\n\n    return request$.subscribe();\n  }\n\n  InsertarPedido(params: any, respuesta) {\n    this.Cargando$.next(true);\n    const request$ = this.dataApi.PostDataApi(`pedido/pedido/`, params).pipe(\n      tap((result: DataApi | any) => {\n        respuesta(result);\n      }),\n      catchError((error: HttpErrorResponse) => {\n        this.Cargando$.next(false);\n        this._mensajesHttp.mostrarErrorHttp(error, 'Ocurrio un error al ingresar el pedido', '');\n        return EMPTY;\n      })\n    );\n\n    return request$.subscribe();\n  }\n\n  InsertarArchivoAdjunto(params: any, respuesta) {\n    this.Cargando$.next(true);\n    const request$ = this.dataApi.PostDataApi(`mantenimiento/adjunto/`, params).pipe(\n      tap((result: DataApi | any) => {\n        respuesta(result);\n      }),\n      catchError((error: HttpErrorResponse) => {\n   \n\n        this.Cargando$.next(false);\n        this._mensajesHttp.mostrarErrorHttp(error, 'Ocurrio un error al insertar el adjunto', '');\n        return EMPTY;\n      })\n    );\n\n    return request$.subscribe();\n  }\n\n  cargarArchivo(params: any, respuesta) {\n    this.Cargando$.next(true);\n    const request$ = this.dataApi.PostDataApi(`adjuntos/cargarArchivos/`, params).pipe(\n      tap((result: DataApi | any) => {\n        respuesta(result);\n      }),\n      catchError((error: HttpErrorResponse) => {\n\n\n        this.Cargando$.next(false);\n        this._mensajesHttp.mostrarErrorHttp(error, 'Ocurrio un error al cargar el archivo', '');\n        return EMPTY;\n      })\n    );\n\n    return request$.subscribe();\n  }\n\n}\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, EMPTY, Observable } from 'rxjs';\nimport { catchError, tap } from 'rxjs/operators';\nimport { DataApi } from 'src/app/Model/dataApi';\nimport { DataApiService } from 'src/app/services/data-api.service';\nimport { ToastrServiceLocal } from 'src/app/services/toast/toastr.service';\nimport { MensajesHttpService } from 'src/app/utils/mensajesHttp/mensajes-http.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SeguimientoPedidoFacadeService {\n\n  private Cargando$ = new BehaviorSubject<boolean>(false);\n  public responseCargando$: Observable<boolean> = this.Cargando$.asObservable();\n\n  private Pedidos$ = new BehaviorSubject<any[]>([]);\n  public responsePedidos$: Observable<any[]> = this.Pedidos$.asObservable();\n\n  private Reparto$ = new BehaviorSubject<any[]>([]);\n  public responseReparto$: Observable<any[]> = this.Reparto$.asObservable();\n\n  private EstadoProceso$ = new BehaviorSubject<any[]>([]);\n  public responseEstadoProceso$: Observable<any[]> = this.EstadoProceso$.asObservable();\n\n  constructor(public dataApi:DataApiService, public toast:ToastrServiceLocal, public _mensajesHttp:MensajesHttpService ) { }\n\n  MostrarSeguimientoPedidos(params: any) {\n    this.Cargando$.next(true);\n    this.Pedidos$.next([]);\n    const request$ = this.dataApi.GetDataApi(`pedido/pedidoSeguimiento`, params).pipe(\n      tap((result: DataApi | any) => {\n  \n        this.Cargando$.next(false);\n        this.Pedidos$.next(result.data);\n      }),\n      catchError((error: HttpErrorResponse) => {\n        this.Cargando$.next(false);\n        this.Pedidos$.next([]);\n        this._mensajesHttp.mostrarErrorHttp(error, 'Ocurrio un error al mostrar los pedidos', '');\n        return EMPTY;\n      })\n    );\n\n    return request$.subscribe();\n  }\n\n  MostrarEstadosProceso(params: any) {\n    this.Cargando$.next(true);\n    this.Pedidos$.next([]);\n    const request$ = this.dataApi.GetDataApi(`mantenimiento/mostrarEstadoProceso`, params).pipe(\n      tap((result: DataApi | any) => {\n        this.Cargando$.next(false);\n        this.EstadoProceso$.next(result.data.Table0);\n      }),\n      catchError((error: HttpErrorResponse) => {\n        this.Cargando$.next(false);\n        this.Pedidos$.next([]);\n        this._mensajesHttp.mostrarErrorHttp(error, 'Ocurrio un error al mostrar los pedidos', '');\n        return EMPTY;\n      })\n    );\n\n    return request$.subscribe();\n  }\n\n  ActualizarPedido(params: any, respuesta) {\n    this.Cargando$.next(true);\n    const request$ = this.dataApi.PutDataApi(`pedido/pedido/`, params).pipe(\n      tap((result: DataApi | any) => {\n        respuesta(result);\n      \n      }),\n      catchError((error: HttpErrorResponse) => {\n        this.Cargando$.next(false);\n        this._mensajesHttp.mostrarErrorHttp(error, 'Ocurrio un error al actualizar el pedido', '');\n        return EMPTY;\n      })\n    );\n\n    return request$.subscribe();\n  }\n\n  ActualizarEstadoPedidos(params: any, callback) {\n    this.Cargando$.next(true);\n    this.Pedidos$.next([]);\n    const request$ = this.dataApi.PutDataApi(`pedido/pedido/`, params).pipe(\n      tap((result: DataApi | any) => {\n        this.Cargando$.next(false);\n        callback(result);\n      }),\n      catchError((error: HttpErrorResponse) => {\n        this.Cargando$.next(false);\n        this.Pedidos$.next([]);\n        this._mensajesHttp.mostrarErrorHttp(error, 'Ocurrio un error al actualizar los pedidos', '');\n        return EMPTY;\n      })\n    );\n\n    return request$.subscribe();\n  }\n\n  MostrarReparto(params: any) {\n    this.Cargando$.next(true);\n    this.Reparto$.next([]);\n    const request$ = this.dataApi.GetDataApi(`mantenimiento/reparto/`, params).pipe(\n      tap((result: DataApi | any) => {\n\n        this.Cargando$.next(false);\n        this.Reparto$.next(result.data.Table0);\n      }),\n      catchError((error: HttpErrorResponse) => {\n        this.Cargando$.next(false);\n        this.Reparto$.next([]);\n        this._mensajesHttp.mostrarErrorHttp(error, 'Ocurrio un error al mostrar el reparto', '');\n        return EMPTY;\n      })\n    );\n\n    return request$.subscribe();\n  }\n\n  agregarPedido(pedido){\n    let data = this.Pedidos$.value;\n    data.forEach((d)=>{\n      if(d.Id === pedido.IdEstado){\n        let newPedidos:any[] = d.pedidos.filter(p => p.Id != pedido.Id);\n        newPedidos.push(pedido);\n        d.pedidos = newPedidos;\n      }\n    });\n   \n    this.Pedidos$.next([]);\n    this.Pedidos$.next(data);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { ToastrServiceLocal } from 'src/app/services/toast/toastr.service';\nimport { GenerarPedidoFacadeService } from './generar-pedido-facade.service';\n\n@Component({\n  selector: 'app-generar-pedido',\n  templateUrl: './generar-pedido.component.html',\n  styleUrls: ['./generar-pedido.component.css']\n})\nexport class GenerarPedidoComponent implements OnInit {\n\n  public pedidosForm: FormGroup;\n\n  public pagoRealizado = new FormControl(false);\n  public fileForm = new FormControl('', [Validators.required]);\n  public formData: FormData;\n  public url: string = '';\n\n  public formAdjunto: FormGroup;\n\n  constructor(public toast: ToastrServiceLocal, public generarPedidoFacade: GenerarPedidoFacadeService, public router: Router) {\n\n    this.generarPedidoFacade.MostrarTipoPedidos('0');\n\n    this.generarPedidoFacade.MostrarMetodosPago('0');\n\n    this.pedidosForm = new FormGroup({\n      id: new FormControl('0'),\n      IdTipoPedido: new FormControl('', [Validators.required]),\n      IdMetodoPago: new FormControl('', [Validators.required]),\n      IdReparto: new FormControl(null),\n      IdUsuario: new FormControl(null),\n      DetallePedido: new FormControl('', [Validators.required]),\n      Observacion: new FormControl(''),\n      usuario: new FormControl(''),\n      idEstado: new FormControl(1)\n    });\n\n  }\n\n  ngOnInit(): void {\n  }\n\n  enviarPedido() {\n    if (this.pedidosForm.invalid) {\n      this.pedidosForm.markAllAsTouched();\n      this.toast.mensajeWarning('', 'Debe de ingresar los campos marcados como requeridos');\n      return;\n    };\n\n    this.formData = new FormData();\n\n\n    this.generarPedidoFacade.InsertarPedido(this.pedidosForm.value, (respuestaPedido) => {\n      if (respuestaPedido.hasError === false) {\n\n        if (this.pagoRealizado.value == true) {\n          \n          if (this.pedidosForm.invalid) {\n            this.toast.mensajeWarning('', 'Es requerido cargar el voucher de pago');\n            return;\n          };\n\n          this.formData.append(\"archivo\", this.fileForm.value);\n          this.generarPedidoFacade.cargarArchivo(this.formData, (respuestaArchivo) => {\n\n            if (respuestaArchivo.hasError === false) {\n\n              this.formAdjunto = new FormGroup({\n                id: new FormControl(0),\n                idPedido: new FormControl(respuestaPedido.data.Table0[0].Id),\n                nombreAdjunto: new FormControl(this.nombreArchivo || ''),\n                url: new FormControl(respuestaArchivo.data.url),\n                extension: new FormControl(this.nombreArchivo.substring(this.nombreArchivo.indexOf('.'), this.nombreArchivo.length)),\n                idEstado: new FormControl(null),\n              })\n\n              this.generarPedidoFacade.InsertarArchivoAdjunto(this.formAdjunto.value, (respuestAdjunto) => {\n                if (respuestAdjunto.hasError === false) {\n                  this.toast.mensajeSuccess('', 'Su pedido fue generado con exito');\n                  this.router.navigateByUrl('cliente/listadoPedido');\n                }\n              });\n\n            }\n          });\n        } else {\n          this.toast.mensajeSuccess('', 'Su pedido fue generado con exito');\n          this.router.navigateByUrl('cliente/listadoPedido');\n        }\n\n\n\n\n      }\n\n    });\n\n\n\n  }\n\n\n  //FOTO\n  public foto: any;\n  public imageError: string;\n  public nombreArchivo: string;\n  public isImageSaved: boolean;\n  public cardImageBase64: string;\n  public selectFile: File = null;\n\n  onFileSelect(event) {\n    if (event.target.files.length > 0) {\n      const file = event.target.files[0];\n      this.fileForm.setValue(file);\n    }\n\n    this.imageError = null;\n    if (event.target.files && event.target.files[0]) {\n      // Size Filter Bytes\n\n      this.nombreArchivo = event.target.files[0].name;\n      const max_size = 20971520;\n      const allowed_types = [\"image/png\", \"image/jpeg\"];\n      const max_height = 15200;\n      const max_width = 25600;\n\n      if (event.target.files[0].size > max_size) {\n        this.imageError = \"Maximum size allowed is \" + max_size / 1000 + \"Mb\";\n\n        return false;\n      }\n\n      const reader = new FileReader();\n      reader.onload = (e: any) => {\n        const image = new Image();\n        image.src = e.target.result;\n\n        this.foto = image.src;\n        image.onload = (rs) => {\n          const img_height = rs.currentTarget[\"height\"];\n          const img_width = rs.currentTarget[\"width\"];\n\n          if (img_height > max_height && img_width > max_width) {\n            this.imageError =\n              \"Maximum dimentions allowed \" +\n              max_height +\n              \"*\" +\n              max_width +\n              \"px\";\n            return false;\n          } else {\n            const imgBase64Path = e.target.result;\n            this.cardImageBase64 = imgBase64Path;\n            this.isImageSaved = true;\n            this.selectFile = imgBase64Path;\n          }\n          return this.selectFile;\n        };\n      };\n\n      reader.readAsDataURL(event.target.files[0]);\n    }\n    return true;\n  }\n\n}\n","<div class=\"navigation\">\n    <nav aria-label=\"breadcrumb\">\n        <ol class=\"breadcrumb\" style=\"background-color: white !important;\">\n            <li class=\"breadcrumb-item\"><a [routerLink]=\"['/dashboard']\">Inicio</a></li>\n            <!-- <li class=\"breadcrumb-item cursorActivo\" *ngIf=\"!busquedaEstudiante\"><a (click)=\"busquedaEstudiante = true\">Buscar estudiante</a></li> -->\n        </ol>\n    </nav>\n    <div class=\"content\">\n        <div class=\"titleNav\">\n            <h2\n                style=\"font-size: 2rem; font-weight: 800; letter-spacing: -.025em!important; line-height: 2.5rem!important;text-overflow: ellipsis!important; \">\n                Generar pedido\n            </h2>\n            <!-- <h2\n                style=\"font-size: 2rem; font-weight: 800; letter-spacing: -.025em!important; line-height: 2.5rem!important;text-overflow: ellipsis!important; \" *ngIf=\"!busquedaEstudiante\">\n                Nombre Estudiante\n            </h2> -->\n        </div>\n        <div class=\"text-right action\">\n\n        </div>\n\n    </div>\n\n</div>\n\n<div class=\"matCardPersonalizada col-lg-12 col-md-12 col-sm-12\">\n    <mat-card class=\"mt-2\">\n        <mat-card-header>\n            <mat-card-title>Ingresar el detalle del pedido</mat-card-title>\n        </mat-card-header>\n        <mat-card-content>\n            <form [formGroup]=\"pedidosForm\">\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-form-field appearance=\"outline\" class=\"col-md-12 mt-2\">\n                            <mat-label>Tipo Pedido</mat-label>\n                            <mat-select formControlName=\"IdTipoPedido\" required>\n                                <mat-option [value]=\"tipoPedido.Id\"\n                                    *ngFor=\"let tipoPedido of (generarPedidoFacade.responseTipoPedidos$ | async)\">{{tipoPedido.TipoPedido}}</mat-option>\n                            </mat-select>\n                            <mat-hint>Seleccionar el tipo de pedido</mat-hint>\n                        </mat-form-field>\n\n                        <mat-form-field appearance=\"outline\" class=\"col-md-12 mt-2\">\n                            <mat-label>Metodo Pago</mat-label>\n                            <mat-select formControlName=\"IdMetodoPago\" required>\n                                <mat-option [value]=\"metodoPago.Id\"\n                                    *ngFor=\"let metodoPago of (generarPedidoFacade.responseMetodosPago$ | async)\">{{metodoPago.MetodoPago}}</mat-option>\n                            </mat-select>\n                            <mat-hint>Seleccionar el metodo de pago</mat-hint>\n                        </mat-form-field>\n\n                        <div class=\"col-md-12 mt-2\">\n                            <mat-slide-toggle [formControl]=\"pagoRealizado\">¿Pago realizado?</mat-slide-toggle>\n                            <div class=\"mt-2\" *ngIf=\"pagoRealizado.value\">\n                                <div class=\"uploadfilecontainer\" (click)=\"fileInput.click()\"\n                                    style=\"display: flex; justify-content: center; align-items: center;\">\n                                    <h3 class=\"p-2 text-center\">  {{nombreArchivo || 'Seleccionar archivo'}}\n                                    </h3>\n                                    <input type=\"file\" #fileInput hidden (change)=\"onFileSelect($event)\"  required>\n                                </div>\n                            </div>\n\n                        </div>\n\n                        <div class=\"col-md-12 mt-2\">\n                            <mat-form-field class=\"example-full-width\" appearance=\"outline\">\n                                <mat-label> Detalle Pedido </mat-label>\n                                <textarea matInput placeholder=\"Detalle Pedido\" formControlName=\"DetallePedido\"\n                                    cdkTextareaAutosize cdkAutosizeMinRows=\"10\" autocomplete=\"off\" required></textarea>\n                            </mat-form-field>\n                        </div>\n                    </div>\n                    <div class=\"col-md-6\" style=\"display: flex; justify-content: center; align-items: center;\">\n                        <img src=\"./assets/images/Pedidos/undraw_order_delivered_re_v4ab.svg\" class=\"imagePedido\" *ngIf=\"!isImageSaved\">\n                        <img [src]=\"cardImageBase64\" class=\"imagePedido\" *ngIf=\"isImageSaved\">\n\n                    </div>\n\n                </div>\n            </form>\n            <div class=\"text-right\">\n                <button mat-raised-button class=\"buttonPrincipal\" (click)=\"enviarPedido()\" *ngIf=\"!(generarPedidoFacade.responseCargando$ | async)\">\n                    <mat-icon>send</mat-icon>\n                    Enviar Pedido\n                </button>\n            </div>\n        </mat-card-content>\n        <mat-card-actions>\n\n        </mat-card-actions>\n    </mat-card>\n</div>","import {\n  Component,\n  ElementRef,\n  Inject,\n  OnInit,\n  TemplateRef,\n  ViewChild,\n} from \"@angular/core\";\nimport { FormControl, Validators } from \"@angular/forms\";\nimport {\n  CdkDragDrop,\n  moveItemInArray,\n  transferArrayItem,\n} from \"@angular/cdk/drag-drop\";\nimport { SeguimientoPedidoFacadeService } from \"./seguimiento-pedido-facade.service\";\nimport { MatBottomSheet } from \"@angular/material/bottom-sheet\";\nimport { DOCUMENT } from \"@angular/common\";\nimport { interval, Subscription } from \"rxjs\";\nimport { ClientSocketService } from \"src/app/services/client-socket.service\";\nimport { ToastrServiceLocal } from \"src/app/services/toast/toastr.service\";\nimport { MatDialog } from \"@angular/material/dialog\";\nimport { ExportarFacadeService } from \"src/app/services/utils/exportar-facade.service\";\n@Component({\n  selector: \"app-seguimiento-pedidos\",\n  templateUrl: \"./seguimiento-pedidos.component.html\",\n  styleUrls: [\"./seguimiento-pedidos.component.scss\"],\n})\nexport class SeguimientoPedidosComponent implements OnInit {\n  @ViewChild('modalActualizarPedido', { static: true }) modalActualizarPedido: TemplateRef<any>;\n  @ViewChild('modalReparto', { static: true }) modalRepartidor: TemplateRef<any>;\n\n\n  public elem;\n  public fullscreen: boolean = false;\n  prueba1 = [\"1\", \"2\", \"3\", \"4\"];\n\n  prueba2 = [\"5\", \"6\", \"7\", \"8\", \"9\"];\n\n  prueba3 = [\"10\", \"11\", \"12\", \"13\", \"14\"];\n\n  prueba4 = [\"15\", \"16\", \"17\", \"18\", \"19\"];\n\n  public encabezados: any[] = [\n    \"Aperturado\",\n    \"Preparación\",\n    \"Empacando\",\n    \"Despachado\",\n    \"Entregado\",\n    \"Rechazado\",\n  ];\n\n  public buscar = new FormControl(\"\");\n  public pedido: any;\n  public suscripciones: Subscription;\n\n  constructor(\n    public seguiminetoPedidos: SeguimientoPedidoFacadeService,\n    private _bottomSheet: MatBottomSheet,\n    @Inject(DOCUMENT) private document: any,\n    public clienteSocket: ClientSocketService,\n    public toast: ToastrServiceLocal,\n    public dialog: MatDialog\n  ) {\n    this.seguiminetoPedidos.MostrarSeguimientoPedidos(\"\");\n    this.seguiminetoPedidos.MostrarEstadosProceso(\"\");\n\n    this.clienteSocket.listen(\"pedido\").subscribe((result) => {\n      this.notificarPedido(result);\n    });\n  }\n\n  ngOnInit(): void {\n    this.elem = document.documentElement;\n  }\n\n  drop(event: CdkDragDrop<string[]>) {\n    if (event.previousContainer === event.container) {\n      moveItemInArray(\n        event.container.data,\n        event.previousIndex,\n        event.currentIndex\n      );\n    } else {\n      transferArrayItem(\n        event.previousContainer.data,\n        event.container.data,\n        event.previousIndex,\n        event.currentIndex\n      );\n    }\n  }\n\n  openBottomSheet(template, pedido): void {\n    this.pedido = pedido;\n    this._bottomSheet.open(template);\n  }\n\n  cambiarEstado(params) {\n    if(this.pedido.IdEstado === params.id){\n      this.toast.mensajeWarning('','El pedido ya se encuenta en estado' + `${this.pedido.EstadoProceso}`);\n\n    }else{\n      this.pedido.idEstado = params.id;\n      if(params.requiereObservacion){\n        this.modalPedido();\n      }else if(this.pedido.idEstado === 5){\n        this.openModalRepartidor();\n      }\n      else{\n        this.seguiminetoPedidos.ActualizarEstadoPedidos(this.pedido, (result) => {\n          this.seguiminetoPedidos.MostrarSeguimientoPedidos(\"\");\n          this._bottomSheet.dismiss();\n        });\n      }\n     \n    }\n   \n  }\n\n  openFullscreen() {\n    if (this.elem.requestFullscreen) {\n      this.elem.requestFullscreen();\n    } else if (this.elem.mozRequestFullScreen) {\n      /* Firefox */\n      this.elem.mozRequestFullScreen();\n    } else if (this.elem.webkitRequestFullscreen) {\n      /* Chrome, Safari and Opera */\n      this.elem.webkitRequestFullscreen();\n    } else if (this.elem.msRequestFullscreen) {\n      /* IE/Edge */\n      this.elem.msRequestFullscreen();\n    }\n    this.fullscreen = true;\n  }\n\n  /* Close fullscreen */\n  closeFullscreen() {\n    if (this.document.exitFullscreen) {\n      this.document.exitFullscreen();\n    } else if (this.document.mozCancelFullScreen) {\n      /* Firefox */\n      this.document.mozCancelFullScreen();\n    } else if (this.document.webkitExitFullscreen) {\n      /* Chrome, Safari and Opera */\n      this.document.webkitExitFullscreen();\n    } else if (this.document.msExitFullscreen) {\n      /* IE/Edge */\n      this.document.msExitFullscreen();\n    }\n    this.fullscreen = false;\n  }\n\n  notificarPedido(pedido?) {\n\n    this.toast.clearToasts();\n    this.seguiminetoPedidos.agregarPedido(pedido);\n    let audio = new Audio(\"./assets/audio/timbretimbrecasa.mp3\");\n    audio.play();\n \n\n    this.toast.mensajeInfo(\"Nuevo Pedido\", `#${pedido.Id}`);\n    \n  }\n\n  public detallePedido = new FormControl('', [Validators.required]);\n  public observacion = new FormControl('', [Validators.required]);\n\n  verDetalle(template){\n    this.detallePedido.setValue(this.pedido.DetallePedido || '');\n    this.observacion.setValue(this.pedido.Observacion || '');\n\n    let dialog = this.dialog.open(template, {\n      width: \"80%\",\n      panelClass: \"app-full-bleed-dialog\",\n    });\n\n    this._bottomSheet.dismiss();\n  }\n\n  \n  modalPedido(){\n    this.detallePedido.setValue(this.pedido.DetallePedido || '');\n    this.observacion.setValue(this.pedido.Observacion || '');\n\n    let dialog = this.dialog.open(this.modalActualizarPedido, {\n      width: \"80%\",\n      panelClass: \"app-full-bleed-dialog\",\n    });\n\n    this._bottomSheet.dismiss();\n  }\n\n  actualizarPedido(){\n\n    if(this.observacion.invalid){\n      this.toast.mensajeWarning(\"\",\"Es requerido ingresar la observación\");\n      return;\n    }\n\n    this.pedido.DetallePedido = this.detallePedido.value;\n    this.pedido.Observacion = this.observacion.value;\n\n    this.seguiminetoPedidos.ActualizarEstadoPedidos(this.pedido, (result) => {\n      this.seguiminetoPedidos.MostrarSeguimientoPedidos(\"\");\n      this._bottomSheet.dismiss();\n      this.dialog.closeAll();\n    });\n\n  }\n  public idReparto = new FormControl('', [Validators.required]);\n\n  openModalRepartidor(){\n    this.idReparto.setValue('');\n    this.seguiminetoPedidos.MostrarReparto('0');\n\n    let dialog = this.dialog.open(this.modalRepartidor, {\n      width: \"80vw\",\n      height: \"80vh\",\n      panelClass: \"app-full-bleed-dialog\",\n    });\n\n    this._bottomSheet.dismiss();\n    \n  }\n\n  actualizarRepartidor(){\n    if(this.idReparto.invalid){\n      this.toast.mensajeWarning('','Es requerido seleccionar un repartidor');\n      this.idReparto.markAllAsTouched();\n      return;\n    }\n    this.pedido.IdReparto = this.idReparto.value;\n\n    this.seguiminetoPedidos.ActualizarEstadoPedidos(this.pedido, (result) => {\n      if(result.hasError === false){\n        this.seguiminetoPedidos.MostrarSeguimientoPedidos(\"\");\n        this._bottomSheet.dismiss();\n        this.dialog.closeAll();\n      }\n    });\n  }\n\n  descargarImagen(){\n    window.open(this.pedido.Url);\n  }\n}\n","<div class=\"navigation\">\n    <nav aria-label=\"breadcrumb\">\n        <ol class=\"breadcrumb\" style=\"background-color: white !important;\">\n            <li class=\"breadcrumb-item\"><a [routerLink]=\"['/dashboard']\">Inicio</a></li>\n            <!-- <li class=\"breadcrumb-item cursorActivo\" *ngIf=\"!busquedaEstudiante\"><a (click)=\"busquedaEstudiante = true\">Buscar estudiante</a></li> -->\n        </ol>\n    </nav>\n    <div class=\"content\">\n        <div class=\"titleNav\">\n            <h2\n                style=\"font-size: 2rem; font-weight: 800; letter-spacing: -.025em!important; line-height: 2.5rem!important;text-overflow: ellipsis!important; \">\n                Seguimiento Pedidos\n            </h2>\n            <!-- <h2\n                style=\"font-size: 2rem; font-weight: 800; letter-spacing: -.025em!important; line-height: 2.5rem!important;text-overflow: ellipsis!important; \" *ngIf=\"!busquedaEstudiante\">\n                Nombre Estudiante\n            </h2> -->\n        </div>\n        <div class=\"text-right action\">\n            <div style=\"margin-right: 5px;\">\n                <!-- <button mat-raised-button (click)=\"notificarPedido()\">Action</button> -->\n                <button mat-mini-fab (click)=\"openFullscreen()\" *ngIf=\"!fullscreen\" class=\"buttonSecundary\">\n                    <mat-icon>fullscreen</mat-icon>\n                </button>\n\n                <button mat-mini-fab (click)=\"closeFullscreen()\" *ngIf=\"fullscreen\" class=\"buttonSecundary\">\n                    <mat-icon>fullscreen_exit</mat-icon>\n                </button>\n            </div>\n\n\n            <mat-form-field appearance=\"outline\" style=\"width: 100%;\">\n                <mat-label>Buscar</mat-label>\n                <input matInput type=\"text\" [formControl]=\"buscar\" placeholder=\"Buscar\" autocomplete=\"off\">\n                <span matPrefix>\n                    <mat-icon>search</mat-icon>\n                </span>\n            </mat-form-field>\n        </div>\n\n    </div>\n\n</div>\n\n<div *ngIf=\"(seguiminetoPedidos.responseCargando$  | async)\">\n    <app-loading [data]=\"4\"></app-loading>\n</div>\n\n<mat-card class=\"tarjetaSeguimiento  mt-2\"\n    *ngIf=\"!(seguiminetoPedidos.responseCargando$  | async) && (seguiminetoPedidos.responsePedidos$ | async).length > 0 \">\n    <mat-card-content class=\"seguimiento\">\n\n        <div class=\"tableFixHead\">\n            <table class=\"table \" role=\"table\" id=\"table\">\n                <thead>\n\n                    <tr class=\"text-center\">\n                        <th class=\"text-center\" *ngFor=\"let data of (seguiminetoPedidos.responsePedidos$ | async)\"\n                            style=\"width: 20%;\">{{data.EstadoProceso}}</th>\n                    </tr>\n                </thead>\n\n\n                <tbody id=\"tableBodyActivos\">\n\n\n                    <td class=\"columna text-center\" *ngFor=\"let data of (seguiminetoPedidos.responsePedidos$ | async) ;\"\n                        style=\"width: 20%;\">\n\n\n                        <mat-card class=\"tarjeta col-md-12 mt-2\"\n                            *ngFor=\"let data of data.pedidos | search: this.buscar?.value: ['DetallePedido'];\">\n                            <div style=\"float: right; z-index: 1; margin-right: 5px;\">\n                                <button class=\"buttonView\" mat-mini-fab (click)=\"openBottomSheet(Estados, data)\">\n                                    <mat-icon>more_vert</mat-icon>\n                                </button>\n                            </div>\n\n                            <mat-card-content style=\"padding: 5px !important;\">\n                                <div\n                                    style=\"letter-spacing: -0.025em !important; line-height: 2rem !important; font-weight: 600 !important; text-align: left;\">\n                                    <b># Pedido: {{data.IdPedido}}</b>\n                                </div>\n                                <div\n                                    style=\"letter-spacing: -0.025em !important; font-weight: 500 !important; color: rgba(100, 116, 139, 1); text-align: justify; overflow: scroll; max-height: 320px;\">\n                                    {{data.DetallePedido | truncatePipe:100}}\n                                </div>\n\n                            </mat-card-content>\n                            <mat-card-actions style=\"padding: 5px;\">\n                                <div class=\"text-left\" style=\"display: flex; align-items: center; font-size: 12px;\">\n                                    <mat-icon>event</mat-icon> <span>{{data.FechaInsercion | date: 'MMM d'}}</span>\n                                </div>\n                            </mat-card-actions>\n\n                        </mat-card>\n\n                    </td>\n\n                </tbody>\n\n            </table>\n        </div>\n    </mat-card-content>\n\n\n\n</mat-card>\n\n<ng-template #Estados>\n    <mat-nav-list>\n        <a mat-list-item (click)=\"verDetalle(DetallePedido)\">\n            <span mat-line><b>Ver Detalle Pedido</b> </span>\n            <span mat-line>Detalle del pedido</span>\n        </a>\n\n        <ng-container *ngFor=\"let data of (seguiminetoPedidos.responseEstadoProceso$ | async)\">\n            <mat-divider></mat-divider>\n            <a mat-list-item (click)=\"cambiarEstado(data)\" *ngIf=\"data.id != pedido.IdEstado\">\n                <span mat-line><b>{{data.EstadoProceso}}</b> </span>\n                <span mat-line>{{data.Descripcion}}</span>\n            </a>\n        </ng-container>\n\n\n    </mat-nav-list>\n</ng-template>\n\n<ng-template #DetallePedido>\n    <div style=\"float: right; z-index: 1;\">\n        <button mat-mini-fab mat-dialog-close class=\"buttonView\">\n            <mat-icon>close</mat-icon>\n        </button>\n    </div>\n    <div class=\"matCardHeader\">\n        Detalle Pedido\n    </div>\n    <mat-dialog-content class=\"mat-typography\">\n\n        <div class=\"row\">\n            <mat-list class=\"col-md-4\">\n                <mat-list-item>\n                    <mat-icon mat-list-icon>local_shipping</mat-icon>\n                    <div mat-line>Tipo Pedido</div>\n                    <div mat-line>{{pedido.TipoPedido}}</div>\n                </mat-list-item>\n            </mat-list>\n\n            <mat-list class=\"col-md-4\">\n                <mat-list-item>\n                    <mat-icon mat-list-icon>paid</mat-icon>\n                    <div mat-line>Metodo Pago</div>\n                    <div mat-line>{{pedido.MetodoPago}}</div>\n                </mat-list-item>\n            </mat-list>\n\n            <mat-list class=\"col-md-4\">\n                <mat-list-item>\n                    <mat-icon mat-list-icon>paid</mat-icon>\n                    <div mat-line>Nombre Reparto</div>\n                    <div mat-line>{{pedido.NombreReparto || 'N/A'}}</div>\n                </mat-list-item>\n            </mat-list>\n\n            <mat-list class=\"col-md-4\">\n                <mat-list-item>\n                    <mat-icon mat-list-icon>filter_list</mat-icon>\n                    <div mat-line>Estado Proceso</div>\n                    <div mat-line>{{pedido.EstadoProceso}}</div>\n                </mat-list-item>\n            </mat-list>\n\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-md-12 mt-2\">\n                <mat-form-field class=\"example-full-width\" appearance=\"outline\">\n                    <mat-label> Detalle Pedido </mat-label>\n                    <textarea matInput placeholder=\"Detalle Pedido\" [formControl]=\"detallePedido\" cdkTextareaAutosize\n                        cdkAutosizeMinRows=\"10\" autocomplete=\"off\" readonly></textarea>\n                </mat-form-field>\n            </div>\n\n            <div class=\"col-md-12 mt-2\">\n                <mat-form-field class=\"example-full-width\" appearance=\"outline\">\n                    <mat-label> Observación </mat-label>\n                    <textarea matInput placeholder=\"Detalle Pedido\" [formControl]=\"observacion\" cdkTextareaAutosize\n                        cdkAutosizeMinRows=\"10\" autocomplete=\"off\" readonly></textarea>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <div class=\"col-md-12 mt-2\">\n            <button mat-raised-button class=\"button-principal\" (click)=\"descargarImagen()\">\n                <mat-icon >file_download</mat-icon> Descargar\n            </button>\n        </div>\n\n        <div class=\"col-md-12 mt-2\" style=\"display: flex; justify-content: center; align-items: center;\"\n            *ngIf=\"pedido.Url != null\">\n            <img [src]=\"pedido.Url\" class=\"imagePedido\">\n            \n        </div>\n\n\n        <div class=\"text-right\">\n            <button mat-button mat-dialog-close>Salir</button>\n        </div>\n\n    </mat-dialog-content>\n</ng-template>\n\n<ng-template #modalActualizarPedido>\n    <div style=\"float: right; z-index: 1;\">\n        <button mat-mini-fab mat-dialog-close class=\"buttonView\">\n            <mat-icon>close</mat-icon>\n        </button>\n    </div>\n    <div class=\"matCardHeader\">\n        Actualizar Pedido\n    </div>\n    <mat-dialog-content class=\"mat-typography\">\n\n        <div class=\"row\">\n            <div class=\"col-md-12 mt-2\">\n                <mat-form-field class=\"example-full-width\" appearance=\"outline\">\n                    <mat-label> Detalle Pedido </mat-label>\n                    <textarea matInput placeholder=\"Detalle Pedido\" [formControl]=\"detallePedido\" cdkTextareaAutosize\n                        cdkAutosizeMinRows=\"10\" autocomplete=\"off\"></textarea>\n                </mat-form-field>\n            </div>\n\n            <div class=\"col-md-12 mt-2\">\n                <mat-form-field class=\"example-full-width\" appearance=\"outline\">\n                    <mat-label> Observación </mat-label>\n                    <textarea matInput placeholder=\"Detalle Pedido\" [formControl]=\"observacion\" cdkTextareaAutosize\n                        cdkAutosizeMinRows=\"10\" autocomplete=\"off\"></textarea>\n                </mat-form-field>\n            </div>\n        </div>\n\n\n        <div class=\"text-right\">\n            <button mat-button mat-dialog-close>Salir</button>\n            <button mat-raised-button class=\"button-principal\" (click)=\"actualizarPedido()\">Guardar</button>\n        </div>\n\n    </mat-dialog-content>\n</ng-template>\n\n<ng-template #modalReparto>\n    <div style=\"float: right; z-index: 1;\">\n        <button mat-mini-fab mat-dialog-close class=\"buttonView\">\n            <mat-icon>close</mat-icon>\n        </button>\n    </div>\n    <div class=\"matCardHeader\">\n        Seleccionar Repartidor\n    </div>\n    <mat-dialog-content class=\"mat-typography\">\n\n        <div class=\"row\">\n            <mat-form-field appearance=\"outline\" class=\"col-md-12 mt-2\">\n                <mat-label>Reparto</mat-label>\n                <mat-select [formControl]=\"idReparto\">\n                    <mat-option [value]=\"reparto.Id\"\n                        *ngFor=\"let reparto of (seguiminetoPedidos.responseReparto$ | async)\">{{reparto.NombreReparto}}</mat-option>\n                </mat-select>\n                <mat-hint>Seleccionar el reparto</mat-hint>\n            </mat-form-field>\n        </div>\n\n\n        <div class=\"text-right\">\n            <button mat-button mat-dialog-close>Salir</button>\n            <button mat-raised-button class=\"button-principal\" (click)=\"actualizarRepartidor()\">Guardar</button>\n        </div>\n\n    </mat-dialog-content>\n</ng-template>","import { HttpErrorResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, EMPTY, Observable } from 'rxjs';\nimport { catchError, tap } from 'rxjs/operators';\nimport { DataApi } from 'src/app/Model/dataApi';\nimport { DataApiService } from 'src/app/services/data-api.service';\nimport { ToastrServiceLocal } from 'src/app/services/toast/toastr.service';\nimport { MensajesHttpService } from 'src/app/utils/mensajesHttp/mensajes-http.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ListarPedidosFacadeService {\n\n  private Cargando$ = new BehaviorSubject<boolean>(false);\n  public responseCargando$: Observable<boolean> = this.Cargando$.asObservable();\n\n  private Pedidos$ = new BehaviorSubject<any[]>([]);\n  public responsePedidos$: Observable<any[]> = this.Pedidos$.asObservable();\n\n  constructor(public dataApi:DataApiService, public toast:ToastrServiceLocal, public _mensajesHttp:MensajesHttpService ) { }\n\n  MostrarPedidos(params: any) {\n    this.Cargando$.next(true);\n    this.Pedidos$.next([]);\n    const request$ = this.dataApi.GetDataApi(`pedido/pedido/usuario/`, params).pipe(\n      tap((result: DataApi | any) => {\n        this.Cargando$.next(false);\n        this.Pedidos$.next(result.data.Table0);\n      }),\n      catchError((error: HttpErrorResponse) => {\n        this.Cargando$.next(false);\n        this.Pedidos$.next([]);\n        this._mensajesHttp.mostrarErrorHttp(error, 'Ocurrio un error al mostrar los pedidos', '');\n        return EMPTY;\n      })\n    );\n\n    return request$.subscribe();\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { paginatorInterface } from 'src/app/Model/Shared/paginator.interface';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PaginatorFacadeService {\r\n  private DataPaginator = new BehaviorSubject<paginatorInterface>({ desde: 0, hasta: 0, itemPagina: 0, pageIndex: 0, totalItem: 0 });\r\n  public responseDataPaginator: Observable<paginatorInterface> = this.DataPaginator.asObservable();\r\n\r\n  constructor() { }\r\n\r\n  cambiarValor() {\r\n    \r\n  }\r\n}\r\n"]}